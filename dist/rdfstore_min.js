(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.rdfstore=e()}})(function(){var define,module,exports;return function(){function f(s,a,o){function l(r,e){if(!a[r]){if(!s[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(u)return u(r,!0);var i=new Error("Cannot find module '"+r+"'");throw i.code="MODULE_NOT_FOUND",i}var n=a[r]={exports:{}};s[r][0].call(n.exports,function(e){var t=s[r][1][e];return l(t||e)},n,n.exports,f,s,a,o)}return a[r].exports}for(var u="function"==typeof require&&require,e=0;e<o.length;e++)l(o[e]);return l}return f}()({1:[function(t,r,e){(function(e){(function(){"use strict";var i=t("possible-typed-array-names");var n=typeof globalThis==="undefined"?e:globalThis;r.exports=function e(){var t=[];for(var r=0;r<i.length;r++){if(typeof n[i[r]]==="function"){t[t.length]=i[r]}}return t}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"possible-typed-array-names":74}],2:[function(e,t,r){"use strict";r.byteLength=a;r.toByteArray=o;r.fromByteArray=v;var l=[];var u=[];var f=typeof Uint8Array!=="undefined"?Uint8Array:Array;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var n=0,s=i.length;n<s;++n){l[n]=i[n];u[i.charCodeAt(n)]=n}u["-".charCodeAt(0)]=62;u["_".charCodeAt(0)]=63;function c(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var r=e.indexOf("=");if(r===-1)r=t;var i=r===t?0:4-r%4;return[r,i]}function a(e){var t=c(e);var r=t[0];var i=t[1];return(r+i)*3/4-i}function p(e,t,r){return(t+r)*3/4-r}function o(e){var t;var r=c(e);var i=r[0];var n=r[1];var s=new f(p(e,i,n));var a=0;var o=n>0?i-4:i;var l;for(l=0;l<o;l+=4){t=u[e.charCodeAt(l)]<<18|u[e.charCodeAt(l+1)]<<12|u[e.charCodeAt(l+2)]<<6|u[e.charCodeAt(l+3)];s[a++]=t>>16&255;s[a++]=t>>8&255;s[a++]=t&255}if(n===2){t=u[e.charCodeAt(l)]<<2|u[e.charCodeAt(l+1)]>>4;s[a++]=t&255}if(n===1){t=u[e.charCodeAt(l)]<<10|u[e.charCodeAt(l+1)]<<4|u[e.charCodeAt(l+2)]>>2;s[a++]=t>>8&255;s[a++]=t&255}return s}function h(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[e&63]}function d(e,t,r){var i;var n=[];for(var s=t;s<r;s+=3){i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255);n.push(h(i))}return n.join("")}function v(e){var t;var r=e.length;var i=r%3;var n=[];var s=16383;for(var a=0,o=r-i;a<o;a+=s){n.push(d(e,a,a+s>o?o:a+s))}if(i===1){t=e[r-1];n.push(l[t>>2]+l[t<<4&63]+"==")}else if(i===2){t=(e[r-2]<<8)+e[r-1];n.push(l[t>>10]+l[t>>4&63]+l[t<<2&63]+"=")}return n.join("")}},{}],3:[function(e,t,r){},{}],4:[function(e,t,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],5:[function(e,t,r){t.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},{}],6:[function(e,D,t){"use strict";var r=e("is-arguments");var i=e("is-generator-function");var n=e("which-typed-array");var s=e("is-typed-array");function a(e){return e.call.bind(e)}var o=typeof BigInt!=="undefined";var l=typeof Symbol!=="undefined";var u=a(Object.prototype.toString);var f=a(Number.prototype.valueOf);var c=a(String.prototype.valueOf);var p=a(Boolean.prototype.valueOf);if(o){var h=a(BigInt.prototype.valueOf)}if(l){var d=a(Symbol.prototype.valueOf)}function v(e,t){if(typeof e!=="object"){return false}try{t(e);return true}catch(e){return false}}t.isArgumentsObject=r;t.isGeneratorFunction=i;t.isTypedArray=s;function y(e){return typeof Promise!=="undefined"&&e instanceof Promise||e!==null&&typeof e==="object"&&typeof e.then==="function"&&typeof e.catch==="function"}t.isPromise=y;function g(e){if(typeof ArrayBuffer!=="undefined"&&ArrayBuffer.isView){return ArrayBuffer.isView(e)}return s(e)||S(e)}t.isArrayBufferView=g;function b(e){return n(e)==="Uint8Array"}t.isUint8Array=b;function m(e){return n(e)==="Uint8ClampedArray"}t.isUint8ClampedArray=m;function P(e){return n(e)==="Uint16Array"}t.isUint16Array=P;function Q(e){return n(e)==="Uint32Array"}t.isUint32Array=Q;function M(e){return n(e)==="Int8Array"}t.isInt8Array=M;function B(e){return n(e)==="Int16Array"}t.isInt16Array=B;function U(e){return n(e)==="Int32Array"}t.isInt32Array=U;function G(e){return n(e)==="Float32Array"}t.isFloat32Array=G;function q(e){return n(e)==="Float64Array"}t.isFloat64Array=q;function H(e){return n(e)==="BigInt64Array"}t.isBigInt64Array=H;function J(e){return n(e)==="BigUint64Array"}t.isBigUint64Array=J;function w(e){return u(e)==="[object Map]"}w.working=typeof Map!=="undefined"&&w(new Map);function z(e){if(typeof Map==="undefined"){return false}return w.working?w(e):e instanceof Map}t.isMap=z;function x(e){return u(e)==="[object Set]"}x.working=typeof Set!=="undefined"&&x(new Set);function V(e){if(typeof Set==="undefined"){return false}return x.working?x(e):e instanceof Set}t.isSet=V;function _(e){return u(e)==="[object WeakMap]"}_.working=typeof WeakMap!=="undefined"&&_(new WeakMap);function W(e){if(typeof WeakMap==="undefined"){return false}return _.working?_(e):e instanceof WeakMap}t.isWeakMap=W;function k(e){return u(e)==="[object WeakSet]"}k.working=typeof WeakSet!=="undefined"&&k(new WeakSet);function X(e){return k(e)}t.isWeakSet=X;function E(e){return u(e)==="[object ArrayBuffer]"}E.working=typeof ArrayBuffer!=="undefined"&&E(new ArrayBuffer);function A(e){if(typeof ArrayBuffer==="undefined"){return false}return E.working?E(e):e instanceof ArrayBuffer}t.isArrayBuffer=A;function j(e){return u(e)==="[object DataView]"}j.working=typeof ArrayBuffer!=="undefined"&&typeof DataView!=="undefined"&&j(new DataView(new ArrayBuffer(1),0,1));function S(e){if(typeof DataView==="undefined"){return false}return j.working?j(e):e instanceof DataView}t.isDataView=S;var T=typeof SharedArrayBuffer!=="undefined"?SharedArrayBuffer:undefined;function F(e){return u(e)==="[object SharedArrayBuffer]"}function I(e){if(typeof T==="undefined"){return false}if(typeof F.working==="undefined"){F.working=F(new T)}return F.working?F(e):e instanceof T}t.isSharedArrayBuffer=I;function K(e){return u(e)==="[object AsyncFunction]"}t.isAsyncFunction=K;function $(e){return u(e)==="[object Map Iterator]"}t.isMapIterator=$;function Z(e){return u(e)==="[object Set Iterator]"}t.isSetIterator=Z;function Y(e){return u(e)==="[object Generator]"}t.isGeneratorObject=Y;function ee(e){return u(e)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ee;function C(e){return v(e,f)}t.isNumberObject=C;function R(e){return v(e,c)}t.isStringObject=R;function N(e){return v(e,p)}t.isBooleanObject=N;function O(e){return o&&v(e,h)}t.isBigIntObject=O;function L(e){return l&&v(e,d)}t.isSymbolObject=L;function te(e){return C(e)||R(e)||N(e)||O(e)||L(e)}t.isBoxedPrimitive=te;function re(e){return typeof Uint8Array!=="undefined"&&(A(e)||I(e))}t.isAnyArrayBuffer=re;["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(t,e,{enumerable:false,value:function(){throw new Error(e+" is not supported in userland")}})})},{"is-arguments":37,"is-generator-function":39,"is-typed-array":40,"which-typed-array":134}],7:[function(Q,e,M){(function(P){(function(){var r=Object.getOwnPropertyDescriptors||function e(t){var r=Object.keys(t);var i={};for(var n=0;n<r.length;n++){i[r[n]]=Object.getOwnPropertyDescriptor(t,r[n])}return i};var o=/%[sdj%]/g;M.format=function(e){if(!x(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(l(arguments[r]))}return t.join(" ")}var r=1;var i=arguments;var n=i.length;var s=String(e).replace(o,function(e){if(e==="%%")return"%";if(r>=n)return e;switch(e){case"%s":return String(i[r++]);case"%d":return Number(i[r++]);case"%j":try{return JSON.stringify(i[r++])}catch(e){return"[Circular]"}default:return e}});for(var a=i[r];r<n;a=i[++r]){if(u(a)||!E(a)){s+=" "+a}else{s+=" "+l(a)}}return s};M.deprecate=function(e,t){if(typeof P!=="undefined"&&P.noDeprecation===true){return e}if(typeof P==="undefined"){return function(){return M.deprecate(e,t).apply(this,arguments)}}var r=false;function i(){if(!r){if(P.throwDeprecation){throw new Error(t)}else if(P.traceDeprecation){console.trace(t)}else{console.error(t)}r=true}return e.apply(this,arguments)}return i};var e={};var i=/^$/;if(P.env.NODE_DEBUG){var t=P.env.NODE_DEBUG;t=t.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase();i=new RegExp("^"+t+"$","i")}M.debuglog=function(t){t=t.toUpperCase();if(!e[t]){if(i.test(t)){var r=P.pid;e[t]=function(){var e=M.format.apply(M,arguments);console.error("%s %d: %s",t,r,e)}}else{e[t]=function(){}}}return e[t]};function l(e,t){var r={seen:[],stylize:s};if(arguments.length>=3)r.depth=arguments[2];if(arguments.length>=4)r.colors=arguments[3];if(a(t)){r.showHidden=t}else if(t){M._extend(r,t)}if(_(r.showHidden))r.showHidden=false;if(_(r.depth))r.depth=2;if(_(r.colors))r.colors=false;if(_(r.customInspect))r.customInspect=true;if(r.colors)r.stylize=n;return d(r,e,r.depth)}M.inspect=l;l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function n(e,t){var r=l.styles[t];if(r){return"["+l.colors[r][0]+"m"+e+"["+l.colors[r][1]+"m"}else{return e}}function s(e,t){return e}function h(e){var r={};e.forEach(function(e,t){r[e]=true});return r}function d(t,r,i){if(t.customInspect&&r&&S(r.inspect)&&r.inspect!==M.inspect&&!(r.constructor&&r.constructor.prototype===r)){var e=r.inspect(i,t);if(!x(e)){e=d(t,e,i)}return e}var n=v(t,r);if(n){return n}var s=Object.keys(r);var a=h(s);if(t.showHidden){s=Object.getOwnPropertyNames(r)}if(j(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0)){return y(r)}if(s.length===0){if(S(r)){var o=r.name?": "+r.name:"";return t.stylize("[Function"+o+"]","special")}if(k(r)){return t.stylize(RegExp.prototype.toString.call(r),"regexp")}if(A(r)){return t.stylize(Date.prototype.toString.call(r),"date")}if(j(r)){return y(r)}}var l="",u=false,f=["{","}"];if(w(r)){u=true;f=["[","]"]}if(S(r)){var c=r.name?": "+r.name:"";l=" [Function"+c+"]"}if(k(r)){l=" "+RegExp.prototype.toString.call(r)}if(A(r)){l=" "+Date.prototype.toUTCString.call(r)}if(j(r)){l=" "+y(r)}if(s.length===0&&(!u||r.length==0)){return f[0]+l+f[1]}if(i<0){if(k(r)){return t.stylize(RegExp.prototype.toString.call(r),"regexp")}else{return t.stylize("[Object]","special")}}t.seen.push(r);var p;if(u){p=g(t,r,i,a,s)}else{p=s.map(function(e){return b(t,r,i,a,e,u)})}t.seen.pop();return m(p,l,f)}function v(e,t){if(_(t))return e.stylize("undefined","undefined");if(x(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(c(t))return e.stylize(""+t,"number");if(a(t))return e.stylize(""+t,"boolean");if(u(t))return e.stylize("null","null")}function y(e){return"["+Error.prototype.toString.call(e)+"]"}function g(t,r,i,n,e){var s=[];for(var a=0,o=r.length;a<o;++a){if(N(r,String(a))){s.push(b(t,r,i,n,String(a),true))}else{s.push("")}}e.forEach(function(e){if(!e.match(/^\d+$/)){s.push(b(t,r,i,n,e,true))}});return s}function b(e,t,r,i,n,s){var a,o,l;l=Object.getOwnPropertyDescriptor(t,n)||{value:t[n]};if(l.get){if(l.set){o=e.stylize("[Getter/Setter]","special")}else{o=e.stylize("[Getter]","special")}}else{if(l.set){o=e.stylize("[Setter]","special")}}if(!N(i,n)){a="["+n+"]"}if(!o){if(e.seen.indexOf(l.value)<0){if(u(r)){o=d(e,l.value,null)}else{o=d(e,l.value,r-1)}if(o.indexOf("\n")>-1){if(s){o=o.split("\n").map(function(e){return"  "+e}).join("\n").slice(2)}else{o="\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")}}}else{o=e.stylize("[Circular]","special")}}if(_(a)){if(s&&n.match(/^\d+$/)){return o}a=JSON.stringify(""+n);if(a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){a=a.slice(1,-1);a=e.stylize(a,"name")}else{a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");a=e.stylize(a,"string")}}return a+": "+o}function m(e,t,r){var i=0;var n=e.reduce(function(e,t){i++;if(t.indexOf("\n")>=0)i++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0);if(n>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}M.types=Q("./support/types");function w(e){return Array.isArray(e)}M.isArray=w;function a(e){return typeof e==="boolean"}M.isBoolean=a;function u(e){return e===null}M.isNull=u;function f(e){return e==null}M.isNullOrUndefined=f;function c(e){return typeof e==="number"}M.isNumber=c;function x(e){return typeof e==="string"}M.isString=x;function p(e){return typeof e==="symbol"}M.isSymbol=p;function _(e){return e===void 0}M.isUndefined=_;function k(e){return E(e)&&F(e)==="[object RegExp]"}M.isRegExp=k;M.types.isRegExp=k;function E(e){return typeof e==="object"&&e!==null}M.isObject=E;function A(e){return E(e)&&F(e)==="[object Date]"}M.isDate=A;M.types.isDate=A;function j(e){return E(e)&&(F(e)==="[object Error]"||e instanceof Error)}M.isError=j;M.types.isNativeError=j;function S(e){return typeof e==="function"}M.isFunction=S;function T(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}M.isPrimitive=T;M.isBuffer=Q("./support/isBuffer");function F(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date;var t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}M.log=function(){console.log("%s - %s",R(),M.format.apply(M,arguments))};M.inherits=Q("inherits");M._extend=function(e,t){if(!t||!E(t))return e;var r=Object.keys(t);var i=r.length;while(i--){e[r[i]]=t[r[i]]}return e};function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var O=typeof Symbol!=="undefined"?Symbol("util.promisify.custom"):undefined;M.promisify=function e(s){if(typeof s!=="function")throw new TypeError('The "original" argument must be of type Function');if(O&&s[O]){var t=s[O];if(typeof t!=="function"){throw new TypeError('The "util.promisify.custom" argument must be of type Function')}Object.defineProperty(t,O,{value:t,enumerable:false,writable:false,configurable:true});return t}function t(){var r,i;var e=new Promise(function(e,t){r=e;i=t});var t=[];for(var n=0;n<arguments.length;n++){t.push(arguments[n])}t.push(function(e,t){if(e){i(e)}else{r(t)}});try{s.apply(this,t)}catch(e){i(e)}return e}Object.setPrototypeOf(t,Object.getPrototypeOf(s));if(O)Object.defineProperty(t,O,{value:t,enumerable:false,writable:false,configurable:true});return Object.defineProperties(t,r(s))};M.promisify.custom=O;function L(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e;e=r}return t(e)}function D(s){if(typeof s!=="function"){throw new TypeError('The "original" argument must be of type Function')}function e(){var e=[];for(var t=0;t<arguments.length;t++){e.push(arguments[t])}var r=e.pop();if(typeof r!=="function"){throw new TypeError("The last argument must be of type Function")}var i=this;var n=function(){return r.apply(i,arguments)};s.apply(this,e).then(function(e){P.nextTick(n.bind(null,null,e))},function(e){P.nextTick(L.bind(null,e,n))})}Object.setPrototypeOf(e,Object.getPrototypeOf(s));Object.defineProperties(e,r(s));return e}M.callbackify=D}).call(this)}).call(this,Q("_process"))},{"./support/isBuffer":5,"./support/types":6,_process:75,inherits:36}],8:[function(K,e,$){(function(e){(function(){"use strict";var i=K("base64-js");var s=K("ieee754");$.Buffer=p;$.SlowBuffer=t;$.INSPECT_MAX_BYTES=50;var r=2147483647;$.kMaxLength=r;p.TYPED_ARRAY_SUPPORT=e();if(!p.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function e(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42}catch(e){return false}}Object.defineProperty(p.prototype,"parent",{enumerable:true,get:function(){if(!p.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(p.prototype,"offset",{enumerable:true,get:function(){if(!p.isBuffer(this))return undefined;return this.byteOffset}});function a(e){if(e>r){throw new RangeError('The value "'+e+'" is invalid for option "size"')}var t=new Uint8Array(e);t.__proto__=p.prototype;return t}function p(e,t,r){if(typeof e==="number"){if(typeof t==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return u(e)}return n(e,t,r)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&p[Symbol.species]===p){Object.defineProperty(p,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}p.poolSize=8192;function n(e,t,r){if(typeof e==="string"){return f(e,t)}if(ArrayBuffer.isView(e)){return c(e)}if(e==null){throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)){return h(e,t,r)}if(typeof e==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var i=e.valueOf&&e.valueOf();if(i!=null&&i!==e){return p.from(i,t,r)}var n=d(e);if(n)return n;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]==="function"){return p.from(e[Symbol.toPrimitive]("string"),t,r)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}p.from=function(e,t,r){return n(e,t,r)};p.prototype.__proto__=Uint8Array.prototype;p.__proto__=Uint8Array;function o(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be of type number')}else if(e<0){throw new RangeError('The value "'+e+'" is invalid for option "size"')}}function l(e,t,r){o(e);if(e<=0){return a(e)}if(t!==undefined){return typeof r==="string"?a(e).fill(t,r):a(e).fill(t)}return a(e)}p.alloc=function(e,t,r){return l(e,t,r)};function u(e){o(e);return a(e<0?0:v(e)|0)}p.allocUnsafe=function(e){return u(e)};p.allocUnsafeSlow=function(e){return u(e)};function f(e,t){if(typeof t!=="string"||t===""){t="utf8"}if(!p.isEncoding(t)){throw new TypeError("Unknown encoding: "+t)}var r=y(e,t)|0;var i=a(r);var n=i.write(e,t);if(n!==r){i=i.slice(0,n)}return i}function c(e){var t=e.length<0?0:v(e.length)|0;var r=a(t);for(var i=0;i<t;i+=1){r[i]=e[i]&255}return r}function h(e,t,r){if(t<0||e.byteLength<t){throw new RangeError('"offset" is outside of buffer bounds')}if(e.byteLength<t+(r||0)){throw new RangeError('"length" is outside of buffer bounds')}var i;if(t===undefined&&r===undefined){i=new Uint8Array(e)}else if(r===undefined){i=new Uint8Array(e,t)}else{i=new Uint8Array(e,t,r)}i.__proto__=p.prototype;return i}function d(e){if(p.isBuffer(e)){var t=v(e.length)|0;var r=a(t);if(r.length===0){return r}e.copy(r,0,0,t);return r}if(e.length!==undefined){if(typeof e.length!=="number"||L(e.length)){return a(0)}return c(e)}if(e.type==="Buffer"&&Array.isArray(e.data)){return c(e.data)}}function v(e){if(e>=r){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+r.toString(16)+" bytes")}return e|0}function t(e){if(+e!=e){e=0}return p.alloc(+e)}p.isBuffer=function e(t){return t!=null&&t._isBuffer===true&&t!==p.prototype};p.compare=function e(t,r){if(O(t,Uint8Array))t=p.from(t,t.offset,t.byteLength);if(O(r,Uint8Array))r=p.from(r,r.offset,r.byteLength);if(!p.isBuffer(t)||!p.isBuffer(r)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(t===r)return 0;var i=t.length;var n=r.length;for(var s=0,a=Math.min(i,n);s<a;++s){if(t[s]!==r[s]){i=t[s];n=r[s];break}}if(i<n)return-1;if(n<i)return 1;return 0};p.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};p.concat=function e(t,r){if(!Array.isArray(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return p.alloc(0)}var i;if(r===undefined){r=0;for(i=0;i<t.length;++i){r+=t[i].length}}var n=p.allocUnsafe(r);var s=0;for(i=0;i<t.length;++i){var a=t[i];if(O(a,Uint8Array)){a=p.from(a)}if(!p.isBuffer(a)){throw new TypeError('"list" argument must be an Array of Buffers')}a.copy(n,s);s+=a.length}return n};function y(e,t){if(p.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||O(e,ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof e)}var r=e.length;var i=arguments.length>2&&arguments[2]===true;if(!i&&r===0)return 0;var n=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return C(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return R(e).length;default:if(n){return i?-1:C(e).length}t=(""+t).toLowerCase();n=true}}}p.byteLength=y;function g(e,t,r){var i=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return q(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return U(this,t,r);case"latin1":case"binary":return G(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,t,r);default:if(i)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();i=true}}}p.prototype._isBuffer=true;function b(e,t,r){var i=e[t];e[t]=e[r];e[r]=i}p.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var r=0;r<t;r+=2){b(this,r,r+1)}return this};p.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var r=0;r<t;r+=4){b(this,r,r+3);b(this,r+1,r+2)}return this};p.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var r=0;r<t;r+=8){b(this,r,r+7);b(this,r+1,r+6);b(this,r+2,r+5);b(this,r+3,r+4)}return this};p.prototype.toString=function e(){var t=this.length;if(t===0)return"";if(arguments.length===0)return E(this,0,t);return g.apply(this,arguments)};p.prototype.toLocaleString=p.prototype.toString;p.prototype.equals=function e(t){if(!p.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return p.compare(this,t)===0};p.prototype.inspect=function e(){var t="";var r=$.INSPECT_MAX_BYTES;t=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim();if(this.length>r)t+=" ... ";return"<Buffer "+t+">"};p.prototype.compare=function e(t,r,i,n,s){if(O(t,Uint8Array)){t=p.from(t,t.offset,t.byteLength)}if(!p.isBuffer(t)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof t)}if(r===undefined){r=0}if(i===undefined){i=t?t.length:0}if(n===undefined){n=0}if(s===undefined){s=this.length}if(r<0||i>t.length||n<0||s>this.length){throw new RangeError("out of range index")}if(n>=s&&r>=i){return 0}if(n>=s){return-1}if(r>=i){return 1}r>>>=0;i>>>=0;n>>>=0;s>>>=0;if(this===t)return 0;var a=s-n;var o=i-r;var l=Math.min(a,o);var u=this.slice(n,s);var f=t.slice(r,i);for(var c=0;c<l;++c){if(u[c]!==f[c]){a=u[c];o=f[c];break}}if(a<o)return-1;if(o<a)return 1;return 0};function m(e,t,r,i,n){if(e.length===0)return-1;if(typeof r==="string"){i=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(L(r)){r=n?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(n)return-1;else r=e.length-1}else if(r<0){if(n)r=0;else return-1}if(typeof t==="string"){t=p.from(t,i)}if(p.isBuffer(t)){if(t.length===0){return-1}return w(e,t,r,i,n)}else if(typeof t==="number"){t=t&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(n){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return w(e,[t],r,i,n)}throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,i,n){var s=1;var a=e.length;var o=t.length;if(i!==undefined){i=String(i).toLowerCase();if(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le"){if(e.length<2||t.length<2){return-1}s=2;a/=2;o/=2;r/=2}}function l(e,t){if(s===1){return e[t]}else{return e.readUInt16BE(t*s)}}var u;if(n){var f=-1;for(u=r;u<a;u++){if(l(e,u)===l(t,f===-1?0:u-f)){if(f===-1)f=u;if(u-f+1===o)return f*s}else{if(f!==-1)u-=u-f;f=-1}}}else{if(r+o>a)r=a-o;for(u=r;u>=0;u--){var c=true;for(var p=0;p<o;p++){if(l(e,u+p)!==l(t,p)){c=false;break}}if(c)return u}}return-1}p.prototype.includes=function e(t,r,i){return this.indexOf(t,r,i)!==-1};p.prototype.indexOf=function e(t,r,i){return m(this,t,r,i,true)};p.prototype.lastIndexOf=function e(t,r,i){return m(this,t,r,i,false)};function x(e,t,r,i){r=Number(r)||0;var n=e.length-r;if(!i){i=n}else{i=Number(i);if(i>n){i=n}}var s=t.length;if(i>s/2){i=s/2}for(var a=0;a<i;++a){var o=parseInt(t.substr(a*2,2),16);if(L(o))return a;e[r+a]=o}return a}function _(e,t,r,i){return N(C(t,e.length-r),e,r,i)}function k(e,t,r,i){return N(W(t),e,r,i)}function D(e,t,r,i){return k(e,t,r,i)}function P(e,t,r,i){return N(R(t),e,r,i)}function Q(e,t,r,i){return N(X(t,e.length-r),e,r,i)}p.prototype.write=function e(t,r,i,n){if(r===undefined){n="utf8";i=this.length;r=0}else if(i===undefined&&typeof r==="string"){n=r;i=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(i)){i=i>>>0;if(n===undefined)n="utf8"}else{n=i;i=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var s=this.length-r;if(i===undefined||i>s)i=s;if(t.length>0&&(i<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!n)n="utf8";var a=false;for(;;){switch(n){case"hex":return x(this,t,r,i);case"utf8":case"utf-8":return _(this,t,r,i);case"ascii":return k(this,t,r,i);case"latin1":case"binary":return D(this,t,r,i);case"base64":return P(this,t,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,t,r,i);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase();a=true}}};p.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(e,t,r){if(t===0&&r===e.length){return i.fromByteArray(e)}else{return i.fromByteArray(e.slice(t,r))}}function E(e,t,r){r=Math.min(e.length,r);var i=[];var n=t;while(n<r){var s=e[n];var a=null;var o=s>239?4:s>223?3:s>191?2:1;if(n+o<=r){var l,u,f,c;switch(o){case 1:if(s<128){a=s}break;case 2:l=e[n+1];if((l&192)===128){c=(s&31)<<6|l&63;if(c>127){a=c}}break;case 3:l=e[n+1];u=e[n+2];if((l&192)===128&&(u&192)===128){c=(s&15)<<12|(l&63)<<6|u&63;if(c>2047&&(c<55296||c>57343)){a=c}}break;case 4:l=e[n+1];u=e[n+2];f=e[n+3];if((l&192)===128&&(u&192)===128&&(f&192)===128){c=(s&15)<<18|(l&63)<<12|(u&63)<<6|f&63;if(c>65535&&c<1114112){a=c}}}}if(a===null){a=65533;o=1}else if(a>65535){a-=65536;i.push(a>>>10&1023|55296);a=56320|a&1023}i.push(a);n+=o}return B(i)}var A=4096;function B(e){var t=e.length;if(t<=A){return String.fromCharCode.apply(String,e)}var r="";var i=0;while(i<t){r+=String.fromCharCode.apply(String,e.slice(i,i+=A))}return r}function U(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n){i+=String.fromCharCode(e[n]&127)}return i}function G(e,t,r){var i="";r=Math.min(e.length,r);for(var n=t;n<r;++n){i+=String.fromCharCode(e[n])}return i}function q(e,t,r){var i=e.length;if(!t||t<0)t=0;if(!r||r<0||r>i)r=i;var n="";for(var s=t;s<r;++s){n+=V(e[s])}return n}function H(e,t,r){var i=e.slice(t,r);var n="";for(var s=0;s<i.length;s+=2){n+=String.fromCharCode(i[s]+i[s+1]*256)}return n}p.prototype.slice=function e(t,r){var i=this.length;t=~~t;r=r===undefined?i:~~r;if(t<0){t+=i;if(t<0)t=0}else if(t>i){t=i}if(r<0){r+=i;if(r<0)r=0}else if(r>i){r=i}if(r<t)r=t;var n=this.subarray(t,r);n.__proto__=p.prototype;return n};function j(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}p.prototype.readUIntLE=function e(t,r,i){t=t>>>0;r=r>>>0;if(!i)j(t,r,this.length);var n=this[t];var s=1;var a=0;while(++a<r&&(s*=256)){n+=this[t+a]*s}return n};p.prototype.readUIntBE=function e(t,r,i){t=t>>>0;r=r>>>0;if(!i){j(t,r,this.length)}var n=this[t+--r];var s=1;while(r>0&&(s*=256)){n+=this[t+--r]*s}return n};p.prototype.readUInt8=function e(t,r){t=t>>>0;if(!r)j(t,1,this.length);return this[t]};p.prototype.readUInt16LE=function e(t,r){t=t>>>0;if(!r)j(t,2,this.length);return this[t]|this[t+1]<<8};p.prototype.readUInt16BE=function e(t,r){t=t>>>0;if(!r)j(t,2,this.length);return this[t]<<8|this[t+1]};p.prototype.readUInt32LE=function e(t,r){t=t>>>0;if(!r)j(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};p.prototype.readUInt32BE=function e(t,r){t=t>>>0;if(!r)j(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};p.prototype.readIntLE=function e(t,r,i){t=t>>>0;r=r>>>0;if(!i)j(t,r,this.length);var n=this[t];var s=1;var a=0;while(++a<r&&(s*=256)){n+=this[t+a]*s}s*=128;if(n>=s)n-=Math.pow(2,8*r);return n};p.prototype.readIntBE=function e(t,r,i){t=t>>>0;r=r>>>0;if(!i)j(t,r,this.length);var n=r;var s=1;var a=this[t+--n];while(n>0&&(s*=256)){a+=this[t+--n]*s}s*=128;if(a>=s)a-=Math.pow(2,8*r);return a};p.prototype.readInt8=function e(t,r){t=t>>>0;if(!r)j(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};p.prototype.readInt16LE=function e(t,r){t=t>>>0;if(!r)j(t,2,this.length);var i=this[t]|this[t+1]<<8;return i&32768?i|4294901760:i};p.prototype.readInt16BE=function e(t,r){t=t>>>0;if(!r)j(t,2,this.length);var i=this[t+1]|this[t]<<8;return i&32768?i|4294901760:i};p.prototype.readInt32LE=function e(t,r){t=t>>>0;if(!r)j(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};p.prototype.readInt32BE=function e(t,r){t=t>>>0;if(!r)j(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};p.prototype.readFloatLE=function e(t,r){t=t>>>0;if(!r)j(t,4,this.length);return s.read(this,t,true,23,4)};p.prototype.readFloatBE=function e(t,r){t=t>>>0;if(!r)j(t,4,this.length);return s.read(this,t,false,23,4)};p.prototype.readDoubleLE=function e(t,r){t=t>>>0;if(!r)j(t,8,this.length);return s.read(this,t,true,52,8)};p.prototype.readDoubleBE=function e(t,r){t=t>>>0;if(!r)j(t,8,this.length);return s.read(this,t,false,52,8)};function S(e,t,r,i,n,s){if(!p.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>n||t<s)throw new RangeError('"value" argument is out of bounds');if(r+i>e.length)throw new RangeError("Index out of range")}p.prototype.writeUIntLE=function e(t,r,i,n){t=+t;r=r>>>0;i=i>>>0;if(!n){var s=Math.pow(2,8*i)-1;S(this,t,r,i,s,0)}var a=1;var o=0;this[r]=t&255;while(++o<i&&(a*=256)){this[r+o]=t/a&255}return r+i};p.prototype.writeUIntBE=function e(t,r,i,n){t=+t;r=r>>>0;i=i>>>0;if(!n){var s=Math.pow(2,8*i)-1;S(this,t,r,i,s,0)}var a=i-1;var o=1;this[r+a]=t&255;while(--a>=0&&(o*=256)){this[r+a]=t/o&255}return r+i};p.prototype.writeUInt8=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,1,255,0);this[r]=t&255;return r+1};p.prototype.writeUInt16LE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,2,65535,0);this[r]=t&255;this[r+1]=t>>>8;return r+2};p.prototype.writeUInt16BE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,2,65535,0);this[r]=t>>>8;this[r+1]=t&255;return r+2};p.prototype.writeUInt32LE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,4,4294967295,0);this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255;return r+4};p.prototype.writeUInt32BE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,4,4294967295,0);this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};p.prototype.writeIntLE=function e(t,r,i,n){t=+t;r=r>>>0;if(!n){var s=Math.pow(2,8*i-1);S(this,t,r,i,s-1,-s)}var a=0;var o=1;var l=0;this[r]=t&255;while(++a<i&&(o*=256)){if(t<0&&l===0&&this[r+a-1]!==0){l=1}this[r+a]=(t/o>>0)-l&255}return r+i};p.prototype.writeIntBE=function e(t,r,i,n){t=+t;r=r>>>0;if(!n){var s=Math.pow(2,8*i-1);S(this,t,r,i,s-1,-s)}var a=i-1;var o=1;var l=0;this[r+a]=t&255;while(--a>=0&&(o*=256)){if(t<0&&l===0&&this[r+a+1]!==0){l=1}this[r+a]=(t/o>>0)-l&255}return r+i};p.prototype.writeInt8=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,1,127,-128);if(t<0)t=255+t+1;this[r]=t&255;return r+1};p.prototype.writeInt16LE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,2,32767,-32768);this[r]=t&255;this[r+1]=t>>>8;return r+2};p.prototype.writeInt16BE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,2,32767,-32768);this[r]=t>>>8;this[r+1]=t&255;return r+2};p.prototype.writeInt32LE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,4,2147483647,-2147483648);this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24;return r+4};p.prototype.writeInt32BE=function e(t,r,i){t=+t;r=r>>>0;if(!i)S(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};function T(e,t,r,i,n,s){if(r+i>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function F(e,t,r,i,n){t=+t;r=r>>>0;if(!n){T(e,t,r,4,34028234663852886e22,-34028234663852886e22)}s.write(e,t,r,i,23,4);return r+4}p.prototype.writeFloatLE=function e(t,r,i){return F(this,t,r,true,i)};p.prototype.writeFloatBE=function e(t,r,i){return F(this,t,r,false,i)};function I(e,t,r,i,n){t=+t;r=r>>>0;if(!n){T(e,t,r,8,17976931348623157e292,-17976931348623157e292)}s.write(e,t,r,i,52,8);return r+8}p.prototype.writeDoubleLE=function e(t,r,i){return I(this,t,r,true,i)};p.prototype.writeDoubleBE=function e(t,r,i){return I(this,t,r,false,i)};p.prototype.copy=function e(t,r,i,n){if(!p.isBuffer(t))throw new TypeError("argument should be a Buffer");if(!i)i=0;if(!n&&n!==0)n=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(n>0&&n<i)n=i;if(n===i)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(i<0||i>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");if(n>this.length)n=this.length;if(t.length-r<n-i){n=t.length-r+i}var s=n-i;if(this===t&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(r,i,n)}else if(this===t&&i<r&&r<n){for(var a=s-1;a>=0;--a){t[a+r]=this[a+i]}}else{Uint8Array.prototype.set.call(t,this.subarray(i,n),r)}return s};p.prototype.fill=function e(t,r,i,n){if(typeof t==="string"){if(typeof r==="string"){n=r;r=0;i=this.length}else if(typeof i==="string"){n=i;i=this.length}if(n!==undefined&&typeof n!=="string"){throw new TypeError("encoding must be a string")}if(typeof n==="string"&&!p.isEncoding(n)){throw new TypeError("Unknown encoding: "+n)}if(t.length===1){var s=t.charCodeAt(0);if(n==="utf8"&&s<128||n==="latin1"){t=s}}}else if(typeof t==="number"){t=t&255}if(r<0||this.length<r||this.length<i){throw new RangeError("Out of range index")}if(i<=r){return this}r=r>>>0;i=i===undefined?this.length:i>>>0;if(!t)t=0;var a;if(typeof t==="number"){for(a=r;a<i;++a){this[a]=t}}else{var o=p.isBuffer(t)?t:p.from(t,n);var l=o.length;if(l===0){throw new TypeError('The value "'+t+'" is invalid for argument "value"')}for(a=0;a<i-r;++a){this[a+r]=o[a%l]}}return this};var J=/[^+/0-9A-Za-z-_]/g;function z(e){e=e.split("=")[0];e=e.trim().replace(J,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function V(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function C(e,t){t=t||Infinity;var r;var i=e.length;var n=null;var s=[];for(var a=0;a<i;++a){r=e.charCodeAt(a);if(r>55295&&r<57344){if(!n){if(r>56319){if((t-=3)>-1)s.push(239,191,189);continue}else if(a+1===i){if((t-=3)>-1)s.push(239,191,189);continue}n=r;continue}if(r<56320){if((t-=3)>-1)s.push(239,191,189);n=r;continue}r=(n-55296<<10|r-56320)+65536}else if(n){if((t-=3)>-1)s.push(239,191,189)}n=null;if(r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return s}function W(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function X(e,t){var r,i,n;var s=[];for(var a=0;a<e.length;++a){if((t-=2)<0)break;r=e.charCodeAt(a);i=r>>8;n=r%256;s.push(n);s.push(i)}return s}function R(e){return i.toByteArray(z(e))}function N(e,t,r,i){for(var n=0;n<i;++n){if(n+r>=t.length||n>=e.length)break;t[n+r]=e[n]}return n}function O(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function L(e){return e!==e}}).call(this)}).call(this,K("buffer").Buffer)},{"base64-js":2,buffer:8,ieee754:35}],9:[function(e,t,r){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],10:[function(e,t,r){"use strict";var n=e("get-intrinsic");var s=e("./");var a=s(n("String.prototype.indexOf"));t.exports=function e(t,r){var i=n(t,!!r);if(typeof i==="function"&&a(t,".prototype.")>-1){return s(i)}return i}},{"./":11,"get-intrinsic":26}],11:[function(e,t,r){"use strict";var i=e("function-bind");var n=e("get-intrinsic");var s=e("set-function-length");var a=e("es-errors/type");var o=n("%Function.prototype.apply%");var l=n("%Function.prototype.call%");var u=n("%Reflect.apply%",true)||i.call(l,o);var f=e("es-define-property");var c=n("%Math.max%");t.exports=function e(t){if(typeof t!=="function"){throw new a("a function is required")}var r=u(i,l,arguments);return s(r,1+c(0,t.length-(arguments.length-1)),true)};var p=function e(){return u(i,o,arguments)};if(f){f(t.exports,"apply",{value:p})}else{t.exports.apply=p}},{"es-define-property":14,"es-errors/type":20,"function-bind":25,"get-intrinsic":26,"set-function-length":93}],12:[function(e,t,r){"use strict";t.exports=function s(n){if(n===null||typeof n!=="object"||n.toJSON!=null){return JSON.stringify(n)}if(Array.isArray(n)){return"["+n.reduce((e,t,r)=>{const i=r===0?"":",";const n=t===undefined||typeof t==="symbol"?null:t;return e+i+s(n)},"")+"]"}return"{"+Object.keys(n).sort().reduce((e,t,r)=>{if(n[t]===undefined||typeof n[t]==="symbol"){return e}const i=e.length===0?"":",";return e+i+s(t)+":"+s(n[t])},"")+"}"}},{}],13:[function(e,t,r){"use strict";var u=e("es-define-property");var f=e("es-errors/syntax");var c=e("es-errors/type");var p=e("gopd");t.exports=function e(t,r,i){if(!t||typeof t!=="object"&&typeof t!=="function"){throw new c("`obj` must be an object or a function`")}if(typeof r!=="string"&&typeof r!=="symbol"){throw new c("`property` must be a string or a symbol`")}if(arguments.length>3&&typeof arguments[3]!=="boolean"&&arguments[3]!==null){throw new c("`nonEnumerable`, if provided, must be a boolean or null")}if(arguments.length>4&&typeof arguments[4]!=="boolean"&&arguments[4]!==null){throw new c("`nonWritable`, if provided, must be a boolean or null")}if(arguments.length>5&&typeof arguments[5]!=="boolean"&&arguments[5]!==null){throw new c("`nonConfigurable`, if provided, must be a boolean or null")}if(arguments.length>6&&typeof arguments[6]!=="boolean"){throw new c("`loose`, if provided, must be a boolean")}var n=arguments.length>3?arguments[3]:null;var s=arguments.length>4?arguments[4]:null;var a=arguments.length>5?arguments[5]:null;var o=arguments.length>6?arguments[6]:false;var l=!!p&&p(t,r);if(u){u(t,r,{configurable:a===null&&l?l.configurable:!a,enumerable:n===null&&l?l.enumerable:!n,value:i,writable:s===null&&l?l.writable:!s})}else if(o||!n&&!s&&!a){t[r]=i}else{throw new f("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}}},{"es-define-property":14,"es-errors/syntax":19,"es-errors/type":20,gopd:27}],14:[function(e,t,r){"use strict";var i=e("get-intrinsic");var n=i("%Object.defineProperty%",true)||false;if(n){try{n({},"a",{value:1})}catch(e){n=false}}t.exports=n},{"get-intrinsic":26}],15:[function(e,t,r){"use strict";t.exports=EvalError},{}],16:[function(e,t,r){"use strict";t.exports=Error},{}],17:[function(e,t,r){"use strict";t.exports=RangeError},{}],18:[function(e,t,r){"use strict";t.exports=ReferenceError},{}],19:[function(e,t,r){"use strict";t.exports=SyntaxError},{}],20:[function(e,t,r){"use strict";t.exports=TypeError},{}],21:[function(e,t,r){"use strict";t.exports=URIError},{}],22:[function(e,t,r){"use strict";var i=typeof Reflect==="object"?Reflect:null;var c=i&&typeof i.apply==="function"?i.apply:function e(t,r,i){return Function.prototype.apply.call(t,r,i)};var n;if(i&&typeof i.ownKeys==="function"){n=i.ownKeys}else if(Object.getOwnPropertySymbols){n=function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}}else{n=function e(t){return Object.getOwnPropertyNames(t)}}function l(e){if(console&&console.warn)console.warn(e)}var s=Number.isNaN||function e(t){return t!==t};function a(){a.init.call(this)}t.exports=a;t.exports.once=w;a.EventEmitter=a;a.prototype._events=undefined;a.prototype._eventsCount=0;a.prototype._maxListeners=undefined;var o=10;function u(e){if(typeof e!=="function"){throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:true,get:function(){return o},set:function(e){if(typeof e!=="number"||e<0||s(e)){throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".")}o=e}});a.init=function(){if(this._events===undefined||this._events===Object.getPrototypeOf(this)._events){this._events=Object.create(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined};a.prototype.setMaxListeners=function e(t){if(typeof t!=="number"||t<0||s(t)){throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".")}this._maxListeners=t;return this};function f(e){if(e._maxListeners===undefined)return a.defaultMaxListeners;return e._maxListeners}a.prototype.getMaxListeners=function e(){return f(this)};a.prototype.emit=function e(t){var r=[];for(var i=1;i<arguments.length;i++)r.push(arguments[i]);var n=t==="error";var s=this._events;if(s!==undefined)n=n&&s.error===undefined;else if(!n)return false;if(n){var a;if(r.length>0)a=r[0];if(a instanceof Error){throw a}var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));o.context=a;throw o}var l=s[t];if(l===undefined)return false;if(typeof l==="function"){c(l,this,r)}else{var u=l.length;var f=g(l,u);for(var i=0;i<u;++i)c(f[i],this,r)}return true};function p(e,t,r,i){var n;var s;var a;u(r);s=e._events;if(s===undefined){s=e._events=Object.create(null);e._eventsCount=0}else{if(s.newListener!==undefined){e.emit("newListener",t,r.listener?r.listener:r);s=e._events}a=s[t]}if(a===undefined){a=s[t]=r;++e._eventsCount}else{if(typeof a==="function"){a=s[t]=i?[r,a]:[a,r]}else if(i){a.unshift(r)}else{a.push(r)}n=f(e);if(n>0&&a.length>n&&!a.warned){a.warned=true;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners "+"added. Use emitter.setMaxListeners() to "+"increase limit");o.name="MaxListenersExceededWarning";o.emitter=e;o.type=t;o.count=a.length;l(o)}}return e}a.prototype.addListener=function e(t,r){return p(this,t,r,false)};a.prototype.on=a.prototype.addListener;a.prototype.prependListener=function e(t,r){return p(this,t,r,true)};function h(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;if(arguments.length===0)return this.listener.call(this.target);return this.listener.apply(this.target,arguments)}}function d(e,t,r){var i={fired:false,wrapFn:undefined,target:e,type:t,listener:r};var n=h.bind(i);n.listener=r;i.wrapFn=n;return n}a.prototype.once=function e(t,r){u(r);this.on(t,d(this,t,r));return this};a.prototype.prependOnceListener=function e(t,r){u(r);this.prependListener(t,d(this,t,r));return this};a.prototype.removeListener=function e(t,r){var i,n,s,a,o;u(r);n=this._events;if(n===undefined)return this;i=n[t];if(i===undefined)return this;if(i===r||i.listener===r){if(--this._eventsCount===0)this._events=Object.create(null);else{delete n[t];if(n.removeListener)this.emit("removeListener",t,i.listener||r)}}else if(typeof i!=="function"){s=-1;for(a=i.length-1;a>=0;a--){if(i[a]===r||i[a].listener===r){o=i[a].listener;s=a;break}}if(s<0)return this;if(s===0)i.shift();else{b(i,s)}if(i.length===1)n[t]=i[0];if(n.removeListener!==undefined)this.emit("removeListener",t,o||r)}return this};a.prototype.off=a.prototype.removeListener;a.prototype.removeAllListeners=function e(t){var r,i,n;i=this._events;if(i===undefined)return this;if(i.removeListener===undefined){if(arguments.length===0){this._events=Object.create(null);this._eventsCount=0}else if(i[t]!==undefined){if(--this._eventsCount===0)this._events=Object.create(null);else delete i[t]}return this}if(arguments.length===0){var s=Object.keys(i);var a;for(n=0;n<s.length;++n){a=s[n];if(a==="removeListener")continue;this.removeAllListeners(a)}this.removeAllListeners("removeListener");this._events=Object.create(null);this._eventsCount=0;return this}r=i[t];if(typeof r==="function"){this.removeListener(t,r)}else if(r!==undefined){for(n=r.length-1;n>=0;n--){this.removeListener(t,r[n])}}return this};function v(e,t,r){var i=e._events;if(i===undefined)return[];var n=i[t];if(n===undefined)return[];if(typeof n==="function")return r?[n.listener||n]:[n];return r?m(n):g(n,n.length)}a.prototype.listeners=function e(t){return v(this,t,true)};a.prototype.rawListeners=function e(t){return v(this,t,false)};a.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return y.call(e,t)}};a.prototype.listenerCount=y;function y(e){var t=this._events;if(t!==undefined){var r=t[e];if(typeof r==="function"){return 1}else if(r!==undefined){return r.length}}return 0}a.prototype.eventNames=function e(){return this._eventsCount>0?n(this._events):[]};function g(e,t){var r=new Array(t);for(var i=0;i<t;++i)r[i]=e[i];return r}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function m(e){var t=new Array(e.length);for(var r=0;r<t.length;++r){t[r]=e[r].listener||e[r]}return t}function w(n,s){return new Promise(function(e,t){function r(e){n.removeListener(s,i);t(e)}function i(){if(typeof n.removeListener==="function"){n.removeListener("error",r)}e([].slice.call(arguments))}_(n,s,i,{once:true});if(s!=="error"){x(n,r,{once:true})}})}function x(e,t,r){if(typeof e.on==="function"){_(e,"error",t,r)}}function _(r,i,n,s){if(typeof r.on==="function"){if(s.once){r.once(i,n)}else{r.on(i,n)}}else if(typeof r.addEventListener==="function"){r.addEventListener(i,function e(t){if(s.once){r.removeEventListener(i,e)}n(t)})}else{throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}}},{}],23:[function(e,t,r){"use strict";var s=e("is-callable");var a=Object.prototype.toString;var o=Object.prototype.hasOwnProperty;var l=function e(t,r,i){for(var n=0,s=t.length;n<s;n++){if(o.call(t,n)){if(i==null){r(t[n],n,t)}else{r.call(i,t[n],n,t)}}}};var u=function e(t,r,i){for(var n=0,s=t.length;n<s;n++){if(i==null){r(t.charAt(n),n,t)}else{r.call(i,t.charAt(n),n,t)}}};var f=function e(t,r,i){for(var n in t){if(o.call(t,n)){if(i==null){r(t[n],n,t)}else{r.call(i,t[n],n,t)}}}};var i=function e(t,r,i){if(!s(r)){throw new TypeError("iterator must be a function")}var n;if(arguments.length>=3){n=i}if(a.call(t)==="[object Array]"){l(t,r,n)}else if(typeof t==="string"){u(t,r,n)}else{f(t,r,n)}};t.exports=i},{"is-callable":38}],24:[function(e,t,r){"use strict";var f="Function.prototype.bind called on incompatible ";var c=Object.prototype.toString;var p=Math.max;var h="[object Function]";var d=function e(t,r){var i=[];for(var n=0;n<t.length;n+=1){i[n]=t[n]}for(var s=0;s<r.length;s+=1){i[s+t.length]=r[s]}return i};var v=function e(t,r){var i=[];for(var n=r||0,s=0;n<t.length;n+=1,s+=1){i[s]=t[n]}return i};var y=function(e,t){var r="";for(var i=0;i<e.length;i+=1){r+=e[i];if(i+1<e.length){r+=t}}return r};t.exports=function e(t){var r=this;if(typeof r!=="function"||c.apply(r)!==h){throw new TypeError(f+r)}var i=v(arguments,1);var n;var s=function(){if(this instanceof n){var e=r.apply(this,d(i,arguments));if(Object(e)===e){return e}return this}return r.apply(t,d(i,arguments))};var a=p(0,r.length-i.length);var o=[];for(var l=0;l<a;l++){o[l]="$"+l}n=Function("binder","return function ("+y(o,",")+"){ return binder.apply(this,arguments); }")(s);if(r.prototype){var u=function e(){};u.prototype=r.prototype;n.prototype=new u;u.prototype=null}return n}},{}],25:[function(e,t,r){"use strict";var i=e("./implementation");t.exports=Function.prototype.bind||i},{"./implementation":24}],26:[function(e,t,L){"use strict";var y;var r=e("es-errors");var i=e("es-errors/eval");var n=e("es-errors/range");var s=e("es-errors/ref");var g=e("es-errors/syntax");var b=e("es-errors/type");var a=e("es-errors/uri");var o=Function;var l=function(e){try{return o('"use strict"; return ('+e+").constructor;")()}catch(e){}};var m=Object.getOwnPropertyDescriptor;if(m){try{m({},"")}catch(e){m=null}}var u=function(){throw new b};var f=m?function(){try{arguments.callee;return u}catch(e){try{return m(arguments,"callee").get}catch(e){return u}}}():u;var c=e("has-symbols")();var p=e("has-proto")();var h=Object.getPrototypeOf||(p?function(e){return e.__proto__}:null);var d={};var v=typeof Uint8Array==="undefined"||!h?y:h(Uint8Array);var w={__proto__:null,"%AggregateError%":typeof AggregateError==="undefined"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer==="undefined"?y:ArrayBuffer,"%ArrayIteratorPrototype%":c&&h?h([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":typeof Atomics==="undefined"?y:Atomics,"%BigInt%":typeof BigInt==="undefined"?y:BigInt,"%BigInt64Array%":typeof BigInt64Array==="undefined"?y:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array==="undefined"?y:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView==="undefined"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":i,"%Float32Array%":typeof Float32Array==="undefined"?y:Float32Array,"%Float64Array%":typeof Float64Array==="undefined"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry==="undefined"?y:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":d,"%Int8Array%":typeof Int8Array==="undefined"?y:Int8Array,"%Int16Array%":typeof Int16Array==="undefined"?y:Int16Array,"%Int32Array%":typeof Int32Array==="undefined"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c&&h?h(h([][Symbol.iterator]())):y,"%JSON%":typeof JSON==="object"?JSON:y,"%Map%":typeof Map==="undefined"?y:Map,"%MapIteratorPrototype%":typeof Map==="undefined"||!c||!h?y:h((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise==="undefined"?y:Promise,"%Proxy%":typeof Proxy==="undefined"?y:Proxy,"%RangeError%":n,"%ReferenceError%":s,"%Reflect%":typeof Reflect==="undefined"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set==="undefined"?y:Set,"%SetIteratorPrototype%":typeof Set==="undefined"||!c||!h?y:h((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer==="undefined"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c&&h?h(""[Symbol.iterator]()):y,"%Symbol%":c?Symbol:y,"%SyntaxError%":g,"%ThrowTypeError%":f,"%TypedArray%":v,"%TypeError%":b,"%Uint8Array%":typeof Uint8Array==="undefined"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray==="undefined"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array==="undefined"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array==="undefined"?y:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap==="undefined"?y:WeakMap,"%WeakRef%":typeof WeakRef==="undefined"?y:WeakRef,"%WeakSet%":typeof WeakSet==="undefined"?y:WeakSet};if(h){try{null.error}catch(e){var x=h(h(e));w["%Error.prototype%"]=x}}var _=function e(t){var r;if(t==="%AsyncFunction%"){r=l("async function () {}")}else if(t==="%GeneratorFunction%"){r=l("function* () {}")}else if(t==="%AsyncGeneratorFunction%"){r=l("async function* () {}")}else if(t==="%AsyncGenerator%"){var i=e("%AsyncGeneratorFunction%");if(i){r=i.prototype}}else if(t==="%AsyncIteratorPrototype%"){var n=e("%AsyncGenerator%");if(n&&h){r=h(n.prototype)}}w[t]=r;return r};var k={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]};var E=e("function-bind");var A=e("hasown");var j=E.call(Function.call,Array.prototype.concat);var S=E.call(Function.apply,Array.prototype.splice);var T=E.call(Function.call,String.prototype.replace);var F=E.call(Function.call,String.prototype.slice);var I=E.call(Function.call,RegExp.prototype.exec);var C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g;var R=/\\(\\)?/g;var N=function e(t){var r=F(t,0,1);var i=F(t,-1);if(r==="%"&&i!=="%"){throw new g("invalid intrinsic syntax, expected closing `%`")}else if(i==="%"&&r!=="%"){throw new g("invalid intrinsic syntax, expected opening `%`")}var n=[];T(t,C,function(e,t,r,i){n[n.length]=r?T(i,R,"$1"):t||e});return n};var O=function e(t,r){var i=t;var n;if(A(k,i)){n=k[i];i="%"+n[0]+"%"}if(A(w,i)){var s=w[i];if(s===d){s=_(i)}if(typeof s==="undefined"&&!r){throw new b("intrinsic "+t+" exists, but is not available. Please file an issue!")}return{alias:n,name:i,value:s}}throw new g("intrinsic "+t+" does not exist!")};t.exports=function e(t,r){if(typeof t!=="string"||t.length===0){throw new b("intrinsic name must be a non-empty string")}if(arguments.length>1&&typeof r!=="boolean"){throw new b('"allowMissing" argument must be a boolean')}if(I(/^%?[^%]*%?$/,t)===null){throw new g("`%` may not be present anywhere but at the beginning and end of the intrinsic name")}var i=N(t);var n=i.length>0?i[0]:"";var s=O("%"+n+"%",r);var a=s.name;var o=s.value;var l=false;var u=s.alias;if(u){n=u[0];S(i,j([0,1],u))}for(var f=1,c=true;f<i.length;f+=1){var p=i[f];var h=F(p,0,1);var d=F(p,-1);if((h==='"'||h==="'"||h==="`"||(d==='"'||d==="'"||d==="`"))&&h!==d){throw new g("property names with quotes must have matching quotes")}if(p==="constructor"||!c){l=true}n+="."+p;a="%"+n+"%";if(A(w,a)){o=w[a]}else if(o!=null){if(!(p in o)){if(!r){throw new b("base intrinsic for "+t+" exists, but the property is not available.")}return void y}if(m&&f+1>=i.length){var v=m(o,p);c=!!v;if(c&&"get"in v&&!("originalValue"in v.get)){o=v.get}else{o=o[p]}}else{c=A(o,p);o=o[p]}if(c&&!l){w[a]=o}}}return o}},{"es-errors":16,"es-errors/eval":15,"es-errors/range":17,"es-errors/ref":18,"es-errors/syntax":19,"es-errors/type":20,"es-errors/uri":21,"function-bind":25,"has-proto":29,"has-symbols":30,hasown:33}],27:[function(e,t,r){"use strict";var i=e("get-intrinsic");var n=i("%Object.getOwnPropertyDescriptor%",true);if(n){try{n([],"length")}catch(e){n=null}}t.exports=n},{"get-intrinsic":26}],28:[function(e,t,r){"use strict";var i=e("es-define-property");var n=function e(){return!!i};n.hasArrayLengthDefineBug=function e(){if(!i){return null}try{return i([],"length",{value:1}).length!==1}catch(e){return true}};t.exports=n},{"es-define-property":14}],29:[function(e,t,r){"use strict";var i={__proto__:null,foo:{}};var n=Object;t.exports=function e(){return{__proto__:i}.foo===i.foo&&!(i instanceof n)}},{}],30:[function(e,t,r){"use strict";var i=typeof Symbol!=="undefined"&&Symbol;var n=e("./shams");t.exports=function e(){if(typeof i!=="function"){return false}if(typeof Symbol!=="function"){return false}if(typeof i("foo")!=="symbol"){return false}if(typeof Symbol("bar")!=="symbol"){return false}return n()}},{"./shams":31}],31:[function(e,t,r){"use strict";t.exports=function e(){if(typeof Symbol!=="function"||typeof Object.getOwnPropertySymbols!=="function"){return false}if(typeof Symbol.iterator==="symbol"){return true}var t={};var r=Symbol("test");var i=Object(r);if(typeof r==="string"){return false}if(Object.prototype.toString.call(r)!=="[object Symbol]"){return false}if(Object.prototype.toString.call(i)!=="[object Symbol]"){return false}var n=42;t[r]=n;for(r in t){return false}if(typeof Object.keys==="function"&&Object.keys(t).length!==0){return false}if(typeof Object.getOwnPropertyNames==="function"&&Object.getOwnPropertyNames(t).length!==0){return false}var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==r){return false}if(!Object.prototype.propertyIsEnumerable.call(t,r)){return false}if(typeof Object.getOwnPropertyDescriptor==="function"){var a=Object.getOwnPropertyDescriptor(t,r);if(a.value!==n||a.enumerable!==true){return false}}return true}},{}],32:[function(e,t,r){"use strict";var i=e("has-symbols/shams");t.exports=function e(){return i()&&!!Symbol.toStringTag}},{"has-symbols/shams":31}],33:[function(e,t,r){"use strict";var i=Function.prototype.call;var n=Object.prototype.hasOwnProperty;var s=e("function-bind");t.exports=s.call(i,n)},{"function-bind":25}],34:[function(e,t,r){var i=e("http");var n=e("url");var s=t.exports;for(var a in i){if(i.hasOwnProperty(a))s[a]=i[a]}s.request=function(e,t){e=o(e);return i.request.call(this,e,t)};s.get=function(e,t){e=o(e);return i.get.call(this,e,t)};function o(e){if(typeof e==="string"){e=n.parse(e)}if(!e.protocol){e.protocol="https:"}if(e.protocol!=="https:"){throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"')}return e}},{http:111,url:132}],35:[function(e,t,r){r.read=function(e,t,r,i,n){var s,a;var o=n*8-i-1;var l=(1<<o)-1;var u=l>>1;var f=-7;var c=r?n-1:0;var p=r?-1:1;var h=e[t+c];c+=p;s=h&(1<<-f)-1;h>>=-f;f+=o;for(;f>0;s=s*256+e[t+c],c+=p,f-=8){}a=s&(1<<-f)-1;s>>=-f;f+=i;for(;f>0;a=a*256+e[t+c],c+=p,f-=8){}if(s===0){s=1-u}else if(s===l){return a?NaN:(h?-1:1)*Infinity}else{a=a+Math.pow(2,i);s=s-u}return(h?-1:1)*a*Math.pow(2,s-i)};r.write=function(e,t,r,i,n,s){var a,o,l;var u=s*8-n-1;var f=(1<<u)-1;var c=f>>1;var p=n===23?Math.pow(2,-24)-Math.pow(2,-77):0;var h=i?0:s-1;var d=i?1:-1;var v=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){o=isNaN(t)?1:0;a=f}else{a=Math.floor(Math.log(t)/Math.LN2);if(t*(l=Math.pow(2,-a))<1){a--;l*=2}if(a+c>=1){t+=p/l}else{t+=p*Math.pow(2,1-c)}if(t*l>=2){a++;l/=2}if(a+c>=f){o=0;a=f}else if(a+c>=1){o=(t*l-1)*Math.pow(2,n);a=a+c}else{o=t*Math.pow(2,c-1)*Math.pow(2,n);a=0}}for(;n>=8;e[r+h]=o&255,h+=d,o/=256,n-=8){}a=a<<n|o;u+=n;for(;u>0;e[r+h]=a&255,h+=d,a/=256,u-=8){}e[r+h-d]|=v*128}},{}],36:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{t.exports=function e(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype;t.prototype=new i;t.prototype.constructor=t}}}},{}],37:[function(e,t,r){"use strict";var i=e("has-tostringtag/shams")();var n=e("call-bind/callBound");var s=n("Object.prototype.toString");var a=function e(t){if(i&&t&&typeof t==="object"&&Symbol.toStringTag in t){return false}return s(t)==="[object Arguments]"};var o=function e(t){if(a(t)){return true}return t!==null&&typeof t==="object"&&typeof t.length==="number"&&t.length>=0&&s(t)!=="[object Array]"&&s(t.callee)==="[object Function]"};var l=function(){return a(arguments)}();a.isLegacyArguments=o;t.exports=l?a:o},{"call-bind/callBound":10,"has-tostringtag/shams":32}],38:[function(e,t,r){"use strict";var i=Function.prototype.toString;var n=typeof Reflect==="object"&&Reflect!==null&&Reflect.apply;var s;var a;if(typeof n==="function"&&typeof Object.defineProperty==="function"){try{s=Object.defineProperty({},"length",{get:function(){throw a}});a={};n(function(){throw 42},null,s)}catch(e){if(e!==a){n=null}}}else{n=null}var o=/^\s*class\b/;var l=function e(t){try{var r=i.call(t);return o.test(r)}catch(e){return false}};var u=function e(t){try{if(l(t)){return false}i.call(t);return true}catch(e){return false}};var f=Object.prototype.toString;var c="[object Object]";var p="[object Function]";var h="[object GeneratorFunction]";var d="[object HTMLAllCollection]";var v="[object HTML document.all class]";var y="[object HTMLCollection]";var g=typeof Symbol==="function"&&!!Symbol.toStringTag;var b=!(0 in[,]);var m=function e(){return false};if(typeof document==="object"){var w=document.all;if(f.call(w)===f.call(document.all)){m=function e(t){if((b||!t)&&(typeof t==="undefined"||typeof t==="object")){try{var r=f.call(t);return(r===d||r===v||r===y||r===c)&&t("")==null}catch(e){}}return false}}}t.exports=n?function e(t){if(m(t)){return true}if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}try{n(t,null,s)}catch(e){if(e!==a){return false}}return!l(t)&&u(t)}:function e(t){if(m(t)){return true}if(!t){return false}if(typeof t!=="function"&&typeof t!=="object"){return false}if(g){return u(t)}if(l(t)){return false}var r=f.call(t);if(r!==p&&r!==h&&!/^\[object HTML/.test(r)){return false}return u(t)}},{}],39:[function(e,t,r){"use strict";var n=Object.prototype.toString;var s=Function.prototype.toString;var a=/^\s*(?:function)?\*/;var o=e("has-tostringtag/shams")();var l=Object.getPrototypeOf;var u=function(){if(!o){return false}try{return Function("return function*() {}")()}catch(e){}};var f;t.exports=function e(t){if(typeof t!=="function"){return false}if(a.test(s.call(t))){return true}if(!o){var r=n.call(t);return r==="[object GeneratorFunction]"}if(!l){return false}if(typeof f==="undefined"){var i=u();f=i?l(i):false}return l(t)===f}},{"has-tostringtag/shams":32}],40:[function(e,t,r){"use strict";var i=e("which-typed-array");t.exports=function e(t){return!!i(t)}},{"which-typed-array":134}],41:[function(e,t,r){"use strict";const{isArray:u,isObject:f,isString:c}=e("./types");const{asArray:p}=e("./util");const{prependBase:l}=e("./url");const a=e("./JsonLdError");const h=e("./ResolvedContext");const o=10;t.exports=class i{constructor({sharedCache:e}){this.perOpCache=new Map;this.sharedCache=e}async resolve({activeCtx:t,context:r,documentLoader:i,base:n,cycles:s=new Set}){if(r&&f(r)&&r["@context"]){r=r["@context"]}r=p(r);const a=[];for(const o of r){if(c(o)){let e=this._get(o);if(!e){e=await this._resolveRemoteContext({activeCtx:t,url:o,documentLoader:i,base:n,cycles:s})}if(u(e)){a.push(...e)}else{a.push(e)}continue}if(o===null){a.push(new h({document:null}));continue}if(!f(o)){d(r)}const l=JSON.stringify(o);let e=this._get(l);if(!e){e=new h({document:o});this._cacheResolvedContext({key:l,resolved:e,tag:"static"})}a.push(e)}return a}_get(e){let t=this.perOpCache.get(e);if(!t){const r=this.sharedCache.get(e);if(r){t=r.get("static");if(t){this.perOpCache.set(e,t)}}}return t}_cacheResolvedContext({key:t,resolved:r,tag:i}){this.perOpCache.set(t,r);if(i!==undefined){let e=this.sharedCache.get(t);if(!e){e=new Map;this.sharedCache.set(t,e)}e.set(i,r)}return r}async _resolveRemoteContext({activeCtx:e,url:t,documentLoader:r,base:i,cycles:n}){t=l(i,t);const{context:s,remoteDoc:a}=await this._fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:n});i=a.documentUrl||t;v({context:s,base:i});const o=await this.resolve({activeCtx:e,context:s,documentLoader:r,base:i,cycles:n});this._cacheResolvedContext({key:t,resolved:o,tag:a.tag});return o}async _fetchContext({activeCtx:e,url:t,documentLoader:r,cycles:i}){if(i.size>o){throw new a("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:e.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:o})}if(i.has(t)){throw new a("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:e.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:t})}i.add(t);let n;let s;try{s=await r(t);n=s.document||null;if(c(n)){n=JSON.parse(n)}}catch(e){throw new a("Dereferencing a URL did not result in a valid JSON-LD object. "+"Possible causes are an inaccessible URL perhaps due to "+"a same-origin policy (ensure the server uses CORS if you are "+"using client-side JavaScript), too many redirects, a "+"non-JSON response, or more than one HTTP Link Header was "+"provided for a remote context. "+`URL: "${t}".`,"jsonld.InvalidUrl",{code:"loading remote context failed",url:t,cause:e})}if(!f(n)){throw new a("Dereferencing a URL did not result in a JSON object. The "+"response was valid JSON, but it was not a JSON object. "+`URL: "${t}".`,"jsonld.InvalidUrl",{code:"invalid remote context",url:t})}if(!("@context"in n)){n={"@context":{}}}else{n={"@context":n["@context"]}}if(s.contextUrl){if(!u(n["@context"])){n["@context"]=[n["@context"]]}n["@context"].push(s.contextUrl)}return{context:n,remoteDoc:s}}};function d(e){throw new a("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}function v({context:e,base:t}){if(!e){return}const r=e["@context"];if(c(r)){e["@context"]=l(t,r);return}if(u(r)){for(let e=0;e<r.length;++e){const i=r[e];if(c(i)){r[e]=l(t,i);continue}if(f(i)){v({context:{"@context":i},base:t})}}return}if(!f(r)){return}for(const n in r){v({context:r[n],base:t})}}},{"./JsonLdError":42,"./ResolvedContext":46,"./types":61,"./url":62,"./util":63}],42:[function(e,t,r){"use strict";t.exports=class i extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e);this.name=t;this.message=e;this.details=r}}},{}],43:[function(e,t,r){"use strict";t.exports=r=>{class e{toString(){return"[object JsonLdProcessor]"}}Object.defineProperty(e,"prototype",{writable:false,enumerable:false});Object.defineProperty(e.prototype,"constructor",{writable:true,enumerable:false,configurable:true,value:e});e.compact=function(e,t){if(arguments.length<2){return Promise.reject(new TypeError("Could not compact, too few arguments."))}return r.compact(e,t)};e.expand=function(e){if(arguments.length<1){return Promise.reject(new TypeError("Could not expand, too few arguments."))}return r.expand(e)};e.flatten=function(e){if(arguments.length<1){return Promise.reject(new TypeError("Could not flatten, too few arguments."))}return r.flatten(e)};return e}},{}],44:[function(e,t,r){"use strict";t.exports=e("rdf-canonize").NQuads},{"rdf-canonize":82}],45:[function(e,t,r){"use strict";t.exports=class i{constructor(){this._requests={}}wrapLoader(e){const t=this;t._loader=e;return function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t){return Promise.resolve(t)}t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},{}],46:[function(e,t,r){"use strict";const i=e("lru-cache");const n=10;t.exports=class s{constructor({document:e}){this.document=e;this.cache=new i({max:n})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},{"lru-cache":64}],47:[function(e,t,r){"use strict";const D=e("./JsonLdError");const{isArray:P,isObject:Q,isString:M,isUndefined:B}=e("./types");const{isList:U,isValue:G,isGraph:q,isSimpleGraph:H,isSubjectReference:J}=e("./graphTypes");const{expandIri:g,getContextValue:z,isKeyword:V,process:W,processingMode:X}=e("./context");const{removeBase:j,prependBase:S}=e("./url");const{REGEX_KEYWORD:T,addValue:K,asArray:$,compareShortestLeast:F}=e("./util");const Z={};t.exports=Z;Z.compact=async({activeCtx:n,activeProperty:r=null,element:i,options:s={}})=>{if(P(i)){let t=[];for(let e=0;e<i.length;++e){const a=await Z.compact({activeCtx:n,activeProperty:r,element:i[e],options:s});if(a===null){continue}t.push(a)}if(s.compactArrays&&t.length===1){const o=z(n,r,"@container")||[];if(o.length===0){t=t[0]}}return t}const t=z(n,r,"@context");if(!B(t)){n=await W({activeCtx:n,localCtx:t,propagate:true,overrideProtected:true,options:s})}if(Q(i)){if(s.link&&"@id"in i&&s.link.hasOwnProperty(i["@id"])){const d=s.link[i["@id"]];for(let e=0;e<d.length;++e){if(d[e].expanded===i){return d[e].compacted}}}if(G(i)||J(i)){const u=Z.compactValue({activeCtx:n,activeProperty:r,value:i,options:s});if(s.link&&J(i)){if(!s.link.hasOwnProperty(i["@id"])){s.link[i["@id"]]=[]}s.link[i["@id"]].push({expanded:i,compacted:u})}return u}if(U(i)){const o=z(n,r,"@container")||[];if(o.includes("@list")){return Z.compact({activeCtx:n,activeProperty:r,element:i["@list"],options:s})}}const l=r==="@reverse";const u={};const f=n;if(!G(i)&&!J(i)){n=n.revertToPreviousContext()}const c=z(f,r,"@context");if(!B(c)){n=await W({activeCtx:n,localCtx:c,propagate:true,overrideProtected:true,options:s})}if(s.link&&"@id"in i){if(!s.link.hasOwnProperty(i["@id"])){s.link[i["@id"]]=[]}s.link[i["@id"]].push({expanded:i,compacted:u})}let e=i["@type"]||[];if(e.length>1){e=Array.from(e).sort()}const p=n;for(const v of e){const y=Z.compactIri({activeCtx:p,iri:v,relativeTo:{vocab:true}});const t=z(f,y,"@context");if(!B(t)){n=await W({activeCtx:n,localCtx:t,options:s,propagate:false})}}const h=Object.keys(i).sort();for(const g of h){const b=i[g];if(g==="@id"){let e=$(b).map(e=>Z.compactIri({activeCtx:n,iri:e,relativeTo:{vocab:false},base:s.base}));if(e.length===1){e=e[0]}const m=Z.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:true}});u[m]=e;continue}if(g==="@type"){let e=$(b).map(e=>Z.compactIri({activeCtx:f,iri:e,relativeTo:{vocab:true}}));if(e.length===1){e=e[0]}const m=Z.compactIri({activeCtx:n,iri:"@type",relativeTo:{vocab:true}});const o=z(n,m,"@container")||[];const w=o.includes("@set")&&X(n,1.1);const x=w||P(e)&&b.length===0;K(u,m,e,{propertyIsArray:x});continue}if(g==="@reverse"){const _=await Z.compact({activeCtx:n,activeProperty:"@reverse",element:b,options:s});for(const k in _){if(n.mappings.has(k)&&n.mappings.get(k).reverse){const E=_[k];const o=z(n,k,"@container")||[];const A=o.includes("@set")||!s.compactArrays;K(u,k,E,{propertyIsArray:A});delete _[k]}}if(Object.keys(_).length>0){const m=Z.compactIri({activeCtx:n,iri:g,relativeTo:{vocab:true}});K(u,m,_)}continue}if(g==="@preserve"){const _=await Z.compact({activeCtx:n,activeProperty:r,element:b,options:s});if(!(P(_)&&_.length===0)){K(u,g,_)}continue}if(g==="@index"){const o=z(n,r,"@container")||[];if(o.includes("@index")){continue}const m=Z.compactIri({activeCtx:n,iri:g,relativeTo:{vocab:true}});K(u,m,b);continue}if(g!=="@graph"&&g!=="@list"&&g!=="@included"&&V(g)){const m=Z.compactIri({activeCtx:n,iri:g,relativeTo:{vocab:true}});K(u,m,b);continue}if(!P(b)){throw new D("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError")}if(b.length===0){const j=Z.compactIri({activeCtx:n,iri:g,value:b,relativeTo:{vocab:true},reverse:l});const S=n.mappings.has(j)?n.mappings.get(j)["@nest"]:null;let e=u;if(S){Y(n,S,s);if(!Q(u[S])){u[S]={}}e=u[S]}K(e,j,b,{propertyIsArray:true})}for(const T of b){const j=Z.compactIri({activeCtx:n,iri:g,value:T,relativeTo:{vocab:true},reverse:l});const S=n.mappings.has(j)?n.mappings.get(j)["@nest"]:null;let r=u;if(S){Y(n,S,s);if(!Q(u[S])){u[S]={}}r=u[S]}const o=z(n,j,"@container")||[];const F=q(T);const I=U(T);let e;if(I){e=T["@list"]}else if(F){e=T["@graph"]}let i=await Z.compact({activeCtx:n,activeProperty:j,element:I||F?e:T,options:s});if(I){if(!P(i)){i=[i]}if(!o.includes("@list")){i={[Z.compactIri({activeCtx:n,iri:"@list",relativeTo:{vocab:true}})]:i};if("@index"in T){i[Z.compactIri({activeCtx:n,iri:"@index",relativeTo:{vocab:true}})]=T["@index"]}}else{K(r,j,i,{valueIsArray:true,allowDuplicate:true});continue}}if(F){if(o.includes("@graph")&&(o.includes("@id")||o.includes("@index")&&H(T))){let e;if(r.hasOwnProperty(j)){e=r[j]}else{r[j]=e={}}const C=(o.includes("@id")?T["@id"]:T["@index"])||Z.compactIri({activeCtx:n,iri:"@none",relativeTo:{vocab:true}});K(e,C,i,{propertyIsArray:!s.compactArrays||o.includes("@set")})}else if(o.includes("@graph")&&H(T)){if(P(i)&&i.length>1){i={"@included":i}}K(r,j,i,{propertyIsArray:!s.compactArrays||o.includes("@set")})}else{if(P(i)&&i.length===1&&s.compactArrays){i=i[0]}i={[Z.compactIri({activeCtx:n,iri:"@graph",relativeTo:{vocab:true}})]:i};if("@id"in T){i[Z.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:true}})]=T["@id"]}if("@index"in T){i[Z.compactIri({activeCtx:n,iri:"@index",relativeTo:{vocab:true}})]=T["@index"]}K(r,j,i,{propertyIsArray:!s.compactArrays||o.includes("@set")})}}else if(o.includes("@language")||o.includes("@index")||o.includes("@id")||o.includes("@type")){let e;if(r.hasOwnProperty(j)){e=r[j]}else{r[j]=e={}}let t;if(o.includes("@language")){if(G(i)){i=i["@value"]}t=T["@language"]}else if(o.includes("@index")){const R=z(n,j,"@index")||"@index";const N=Z.compactIri({activeCtx:n,iri:R,relativeTo:{vocab:true}});if(R==="@index"){t=T["@index"];delete i[N]}else{let e;[t,...e]=$(i[R]||[]);if(!M(t)){t=null}else{switch(e.length){case 0:delete i[R];break;case 1:i[R]=e[0];break;default:i[R]=e;break}}}}else if(o.includes("@id")){const O=Z.compactIri({activeCtx:n,iri:"@id",relativeTo:{vocab:true}});t=i[O];delete i[O]}else if(o.includes("@type")){const L=Z.compactIri({activeCtx:n,iri:"@type",relativeTo:{vocab:true}});let e;[t,...e]=$(i[L]||[]);switch(e.length){case 0:delete i[L];break;case 1:i[L]=e[0];break;default:i[L]=e;break}if(Object.keys(i).length===1&&"@id"in T){i=await Z.compact({activeCtx:n,activeProperty:j,element:{"@id":T["@id"]},options:s})}}if(!t){t=Z.compactIri({activeCtx:n,iri:"@none",relativeTo:{vocab:true}})}K(e,t,i,{propertyIsArray:o.includes("@set")})}else{const x=!s.compactArrays||o.includes("@set")||o.includes("@list")||P(i)&&i.length===0||g==="@list"||g==="@graph";K(r,j,i,{propertyIsArray:x})}}}return u}return i};Z.compactIri=({activeCtx:r,iri:i,value:n=null,relativeTo:e={vocab:false},reverse:s=false,base:t=null})=>{if(i===null){return i}if(r.isPropertyTermScoped&&r.previousContext){r=r.previousContext}const a=r.getInverse();if(V(i)&&i in a&&"@none"in a[i]&&"@type"in a[i]["@none"]&&"@none"in a[i]["@none"]["@type"]){return a[i]["@none"]["@type"]["@none"]}if(e.vocab&&i in a){const c=r["@language"]||"@none";const p=[];if(Q(n)&&"@index"in n&&!("@graph"in n)){p.push("@index","@index@set")}if(Q(n)&&"@preserve"in n){n=n["@preserve"][0]}if(q(n)){if("@index"in n){p.push("@graph@index","@graph@index@set","@index","@index@set")}if("@id"in n){p.push("@graph@id","@graph@id@set")}p.push("@graph","@graph@set","@set");if(!("@index"in n)){p.push("@graph@index","@graph@index@set","@index","@index@set")}if(!("@id"in n)){p.push("@graph@id","@graph@id@set")}}else if(Q(n)&&!G(n)){p.push("@id","@id@set","@type","@set@type")}let e="@language";let t="@null";if(s){e="@type";t="@reverse";p.push("@set")}else if(U(n)){if(!("@index"in n)){p.push("@list")}const d=n["@list"];if(d.length===0){e="@any";t="@none"}else{let i=d.length===0?c:null;let n=null;for(let r=0;r<d.length;++r){const v=d[r];let e="@none";let t="@none";if(G(v)){if("@direction"in v){const y=(v["@language"]||"").toLowerCase();const g=v["@direction"];e=`${y}_${g}`}else if("@language"in v){e=v["@language"].toLowerCase()}else if("@type"in v){t=v["@type"]}else{e="@null"}}else{t="@id"}if(i===null){i=e}else if(e!==i&&G(v)){i="@none"}if(n===null){n=t}else if(t!==n){n="@none"}if(i==="@none"&&n==="@none"){break}}i=i||"@none";n=n||"@none";if(n!=="@none"){e="@type";t=n}else{t=i}}}else{if(G(n)){if("@language"in n&&!("@index"in n)){p.push("@language","@language@set");t=n["@language"];const g=n["@direction"];if(g){t=`${t}_${g}`}}else if("@direction"in n&&!("@index"in n)){t=`_${n["@direction"]}`}else if("@type"in n){e="@type";t=n["@type"]}}else{e="@type";t="@id"}p.push("@set")}p.push("@none");if(Q(n)&&!("@index"in n)){p.push("@index","@index@set")}if(G(n)&&Object.keys(n).length===1){p.push("@language","@language@set")}const h=I(r,i,n,p,e,t);if(h!==null){return h}}if(e.vocab){if("@vocab"in r){const b=r["@vocab"];if(i.indexOf(b)===0&&i!==b){const m=i.substr(b.length);if(!r.mappings.has(m)){return m}}}}let o=null;const l=[];let u=r.fastCurieMap;const f=i.length-1;for(let e=0;e<f&&i[e]in u;++e){u=u[i[e]];if(""in u){l.push(u[""][0])}}for(let e=l.length-1;e>=0;--e){const w=l[e];const x=w.terms;for(const h of x){const _=h+":"+i.substr(w.iri.length);const k=r.mappings.get(h)._prefix&&(!r.mappings.has(_)||n===null&&r.mappings.get(_)["@id"]===i);if(k&&(o===null||F(_,o)<0)){o=_}}}if(o!==null){return o}for(const[h,E]of r.mappings){if(E&&E._prefix&&i.startsWith(h+":")){throw new D(`Absolute IRI "${i}" confused with prefix "${h}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:r})}}if(!e.vocab){if("@base"in r){if(!r["@base"]){return i}else{const A=j(S(t,r["@base"]),i);return T.test(A)?`./${A}`:A}}else{return j(t,i)}}return i};Z.compactValue=({activeCtx:e,activeProperty:t,value:r,options:i})=>{if(G(r)){const s=z(e,t,"@type");const o=z(e,t,"@language");const l=z(e,t,"@direction");const u=z(e,t,"@container")||[];const f="@index"in r&&!u.includes("@index");if(!f&&s!=="@none"){if(r["@type"]===s){return r["@value"]}if("@language"in r&&r["@language"]===o&&"@direction"in r&&r["@direction"]===l){return r["@value"]}if("@language"in r&&r["@language"]===o){return r["@value"]}if("@direction"in r&&r["@direction"]===l){return r["@value"]}}const c=Object.keys(r).length;const p=c===1||c===2&&"@index"in r&&!f;const h="@language"in e;const d=M(r["@value"]);const v=e.mappings.has(t)&&e.mappings.get(t)["@language"]===null;if(p&&s!=="@none"&&(!h||!d||v)){return r["@value"]}const y={};if(f){y[Z.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:true}})]=r["@index"]}if("@type"in r){y[Z.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:true}})]=Z.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:true}})}else if("@language"in r){y[Z.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:true}})]=r["@language"]}if("@direction"in r){y[Z.compactIri({activeCtx:e,iri:"@direction",relativeTo:{vocab:true}})]=r["@direction"]}y[Z.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:true}})]=r["@value"];return y}const n=g(e,t,{vocab:true},i);const s=z(e,t,"@type");const a=Z.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:s==="@vocab"},base:i.base});if(s==="@id"||s==="@vocab"||n==="@graph"){return a}return{[Z.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:true}})]:a}};function I(e,t,r,i,n,s){if(s===null){s="@null"}const a=[];if((s==="@id"||s==="@reverse")&&Q(r)&&"@id"in r){if(s==="@reverse"){a.push("@reverse")}const l=Z.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:true}});if(e.mappings.has(l)&&e.mappings.get(l)&&e.mappings.get(l)["@id"]===r["@id"]){a.push.apply(a,["@vocab","@id"])}else{a.push.apply(a,["@id","@vocab"])}}else{a.push(s);const u=a.find(e=>e.includes("_"));if(u){a.push(u.replace(/^[^_]+_/,"_"))}}a.push("@none");const o=e.inverse[t];for(const f of i){if(!(f in o)){continue}const c=o[f][n];for(const p of a){if(!(p in c)){continue}return c[p]}}return null}function Y(e,t,r){if(g(e,t,{vocab:true},r)!=="@nest"){throw new D("JSON-LD compact error; nested property must have an @nest value "+"resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}}},{"./JsonLdError":42,"./context":49,"./graphTypes":56,"./types":61,"./url":62,"./util":63}],48:[function(e,t,r){"use strict";const i="http://www.w3.org/1999/02/22-rdf-syntax-ns#";const n="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF:i,RDF_LIST:i+"List",RDF_FIRST:i+"first",RDF_REST:i+"rest",RDF_NIL:i+"nil",RDF_TYPE:i+"type",RDF_PLAIN_LITERAL:i+"PlainLiteral",RDF_XML_LITERAL:i+"XMLLiteral",RDF_JSON_LITERAL:i+"JSON",RDF_OBJECT:i+"object",RDF_LANGSTRING:i+"langString",XSD:n,XSD_BOOLEAN:n+"boolean",XSD_DOUBLE:n+"double",XSD_INTEGER:n+"integer",XSD_STRING:n+"string"}},{}],49:[function(e,t,r){"use strict";const o=e("./util");const A=e("./JsonLdError");const{isArray:j,isObject:S,isString:T,isUndefined:n}=e("./types");const{isAbsolute:F,isRelative:E,prependBase:I}=e("./url");const{handleEvent:C}=e("./events");const{REGEX_BCP47:R,REGEX_KEYWORD:N,asArray:O,compareShortestLeast:b}=e("./util");const l=new Map;const u=1e4;const L={};t.exports=L;L.process=async({activeCtx:e,localCtx:r,options:i,propagate:t=true,overrideProtected:n=false,cycles:s=new Set})=>{if(S(r)&&"@context"in r&&j(r["@context"])){r=r["@context"]}const a=O(r);if(a.length===0){return e}const o=[];const l=[({event:e,next:t})=>{o.push(e);t()}];if(i.eventHandler){l.push(i.eventHandler)}const u=i;i={...i,eventHandler:l};const f=await i.contextResolver.resolve({activeCtx:e,context:r,documentLoader:i.documentLoader,base:i.base});if(S(f[0].document)&&typeof f[0].document["@propagate"]==="boolean"){t=f[0].document["@propagate"]}let c=e;if(!t&&!c.previousContext){c=c.clone();c.previousContext=e}for(const p of f){let{document:t}=p;e=c;if(t===null){if(!n&&Object.keys(e.protected).length!==0){throw new A("Tried to nullify a context with protected terms outside of "+"a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"})}c=e=L.getInitialContext(i).clone();continue}const h=p.getProcessed(e);if(h){if(u.eventHandler){for(const v of h.events){C({event:v,options:u})}}c=e=h.context;continue}if(S(t)&&"@context"in t){t=t["@context"]}if(!S(t)){throw new A("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:t})}c=c.clone();const d=new Map;if("@version"in t){if(t["@version"]!==1.1){throw new A("Unsupported JSON-LD version: "+t["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:t})}if(e.processingMode&&e.processingMode==="json-ld-1.0"){throw new A("@version: "+t["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:t})}c.processingMode="json-ld-1.1";c["@version"]=t["@version"];d.set("@version",true)}c.processingMode=c.processingMode||e.processingMode;if("@base"in t){let e=t["@base"];if(e===null||F(e)){}else if(E(e)){e=I(c["@base"],e)}else{throw new A('Invalid JSON-LD syntax; the value of "@base" in a '+"@context must be an absolute IRI, a relative IRI, or null.","jsonld.SyntaxError",{code:"invalid base IRI",context:t})}c["@base"]=e;d.set("@base",true)}if("@vocab"in t){const y=t["@vocab"];if(y===null){delete c["@vocab"]}else if(!T(y)){throw new A('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:t})}else if(!F(y)&&L.processingMode(c,1)){throw new A('Invalid JSON-LD syntax; the value of "@vocab" in a '+"@context must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid vocab mapping",context:t})}else{const g=D(c,y,{vocab:true,base:true},undefined,undefined,i);if(!F(g)){if(i.eventHandler){C({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:g}},options:i})}}c["@vocab"]=g}d.set("@vocab",true)}if("@language"in t){const y=t["@language"];if(y===null){delete c["@language"]}else if(!T(y)){throw new A('Invalid JSON-LD syntax; the value of "@language" in a '+"@context must be a string or null.","jsonld.SyntaxError",{code:"invalid default language",context:t})}else{if(!y.match(R)){if(i.eventHandler){C({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:y}},options:i})}}c["@language"]=y.toLowerCase()}d.set("@language",true)}if("@direction"in t){const y=t["@direction"];if(e.processingMode==="json-ld-1.0"){throw new A("Invalid JSON-LD syntax; @direction not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:t})}if(y===null){delete c["@direction"]}else if(y!=="ltr"&&y!=="rtl"){throw new A('Invalid JSON-LD syntax; the value of "@direction" in a '+'@context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:t})}else{c["@direction"]=y}d.set("@direction",true)}if("@propagate"in t){const y=t["@propagate"];if(e.processingMode==="json-ld-1.0"){throw new A("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:t})}if(typeof y!=="boolean"){throw new A("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:r})}d.set("@propagate",true)}if("@import"in t){const y=t["@import"];if(e.processingMode==="json-ld-1.0"){throw new A("Invalid JSON-LD syntax; @import not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:t})}if(!T(y)){throw new A("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:r})}const b=await i.contextResolver.resolve({activeCtx:e,context:y,documentLoader:i.documentLoader,base:i.base});if(b.length!==1){throw new A("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:r})}const m=b[0].getProcessed(e);if(m){t=m}else{const w=b[0].document;if("@import"in w){throw new A("Invalid JSON-LD syntax: "+"imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:r})}for(const x in w){if(!t.hasOwnProperty(x)){t[x]=w[x]}}b[0].setProcessed(e,t)}d.set("@import",true)}d.set("@protected",t["@protected"]||false);for(const x in t){L.createTermDefinition({activeCtx:c,localCtx:t,term:x,defined:d,options:i,overrideProtected:n});if(S(t[x])&&"@context"in t[x]){const _=t[x]["@context"];let e=true;if(T(_)){const k=I(i.base,_);if(s.has(k)){e=false}else{s.add(k)}}if(e){try{await L.process({activeCtx:c.clone(),localCtx:t[x]["@context"],overrideProtected:true,options:i,cycles:s})}catch(e){throw new A("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:t[x]["@context"],term:x})}}}}p.setProcessed(e,{context:c,events:o})}return c};L.createTermDefinition=({activeCtx:t,localCtx:r,term:i,defined:n,options:s,overrideProtected:e=false})=>{if(n.has(i)){if(n.get(i)){return}throw new A("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:r,term:i})}n.set(i,false);let a;if(r.hasOwnProperty(i)){a=r[i]}if(i==="@type"&&S(a)&&(a["@container"]||"@set")==="@set"&&L.processingMode(t,1.1)){const f=["@container","@id","@protected"];const h=Object.keys(a);if(h.length===0||h.some(e=>!f.includes(e))){throw new A("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:i})}}else if(L.isKeyword(i)){throw new A("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:r,term:i})}else if(i.match(N)){if(s.eventHandler){C({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are '+"reserved for future use and dropped.",details:{term:i}},options:s})}return}else if(i===""){throw new A("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:r})}const o=t.mappings.get(i);if(t.mappings.has(i)){t.mappings.delete(i)}let l=false;if(T(a)||a===null){l=true;a={"@id":a}}if(!S(a)){throw new A("Invalid JSON-LD syntax; @context term values must be "+"strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:r})}const u={};t.mappings.set(i,u);u.reverse=false;const f=["@container","@id","@language","@reverse","@type"];if(L.processingMode(t,1.1)){f.push("@context","@direction","@index","@nest","@prefix","@protected")}for(const d in a){if(!f.includes(d)){throw new A("Invalid JSON-LD syntax; a term definition must not contain "+d,"jsonld.SyntaxError",{code:"invalid term definition",context:r})}}const c=i.indexOf(":");u._termHasColon=c>0;if("@reverse"in a){if("@id"in a){throw new A("Invalid JSON-LD syntax; a @reverse term definition must not "+"contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:r})}if("@nest"in a){throw new A("Invalid JSON-LD syntax; a @reverse term definition must not "+"contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:r})}const v=a["@reverse"];if(!T(v)){throw new A("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r})}if(v.match(N)){if(s.eventHandler){C({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are '+"reserved for future use and dropped.",details:{reverse:v}},options:s})}if(o){t.mappings.set(i,o)}else{t.mappings.delete(i)}return}const p=D(t,v,{vocab:true,base:false},r,n,s);if(!F(p)){throw new A("Invalid JSON-LD syntax; a @context @reverse value must be an "+"absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r})}u["@id"]=p;u.reverse=true}else if("@id"in a){let e=a["@id"];if(e&&!T(e)){throw new A("Invalid JSON-LD syntax; a @context @id value must be an array "+"of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r})}if(e===null){u["@id"]=null}else if(!L.isKeyword(e)&&e.match(N)){if(s.eventHandler){C({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are '+"reserved for future use and dropped.",details:{id:e}},options:s})}if(o){t.mappings.set(i,o)}else{t.mappings.delete(i)}return}else if(e!==i){e=D(t,e,{vocab:true,base:false},r,n,s);if(!F(e)&&!L.isKeyword(e)){throw new A("Invalid JSON-LD syntax; a @context @id value must be an "+"absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r})}if(i.match(/(?::[^:])|\//)){const y=new Map(n).set(i,true);const g=D(t,i,{vocab:true,base:false},r,y,s);if(g!==e){throw new A("Invalid JSON-LD syntax; term in form of IRI must "+"expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r})}}u["@id"]=e;u._prefix=l&&!u._termHasColon&&e.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in u)){if(u._termHasColon){const b=i.substr(0,c);if(r.hasOwnProperty(b)){L.createTermDefinition({activeCtx:t,localCtx:r,term:b,defined:n,options:s})}if(t.mappings.has(b)){const m=i.substr(c+1);u["@id"]=t.mappings.get(b)["@id"]+m}else{u["@id"]=i}}else if(i==="@type"){u["@id"]=i}else{if(!("@vocab"in t)){throw new A("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:r,term:i})}u["@id"]=t["@vocab"]+i}}if(a["@protected"]===true||n.get("@protected")===true&&a["@protected"]!==false){t.protected[i]=true;u.protected=true}n.set(i,true);if("@type"in a){let e=a["@type"];if(!T(e)){throw new A("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}if(e==="@json"||e==="@none"){if(L.processingMode(t,1)){throw new A("Invalid JSON-LD syntax; an @context @type value must not be "+`"${e}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:r})}}else if(e!=="@id"&&e!=="@vocab"){e=D(t,e,{vocab:true,base:false},r,n,s);if(!F(e)){throw new A("Invalid JSON-LD syntax; an @context @type value must be an "+"absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}if(e.indexOf("_:")===0){throw new A("Invalid JSON-LD syntax; an @context @type value must be an IRI, "+"not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}}u["@type"]=e}if("@container"in a){const w=T(a["@container"])?[a["@container"]]:a["@container"]||[];const x=["@list","@set","@index","@language"];let e=true;const _=w.includes("@set");if(L.processingMode(t,1.1)){x.push("@graph","@id","@type");if(w.includes("@list")){if(w.length!==1){throw new A("Invalid JSON-LD syntax; @context @container with @list must "+"have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}}else if(w.includes("@graph")){if(w.some(e=>e!=="@graph"&&e!=="@id"&&e!=="@index"&&e!=="@set")){throw new A("Invalid JSON-LD syntax; @context @container with @graph must "+"have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:r})}}else{e&=w.length<=(_?2:1)}if(w.includes("@type")){u["@type"]=u["@type"]||"@id";if(!["@id","@vocab"].includes(u["@type"])){throw new A("Invalid JSON-LD syntax; container: @type requires @type to be "+"@id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:r})}}}else{e&=!j(a["@container"]);e&=w.length<=1}e&=w.every(e=>x.includes(e));e&=!(_&&w.includes("@list"));if(!e){throw new A("Invalid JSON-LD syntax; @context @container value must be "+"one of the following: "+x.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:r})}if(u.reverse&&!w.every(e=>["@index","@set"].includes(e))){throw new A("Invalid JSON-LD syntax; @context @container value for a @reverse "+"type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:r})}u["@container"]=w}if("@index"in a){if(!("@container"in a)||!u["@container"].includes("@index")){throw new A("Invalid JSON-LD syntax; @index without @index in @container: "+`"${a["@index"]}" on term "${i}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:r})}if(!T(a["@index"])||a["@index"].indexOf("@")===0){throw new A("Invalid JSON-LD syntax; @index must expand to an IRI: "+`"${a["@index"]}" on term "${i}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:r})}u["@index"]=a["@index"]}if("@context"in a){u["@context"]=a["@context"]}if("@language"in a&&!("@type"in a)){let e=a["@language"];if(e!==null&&!T(e)){throw new A("Invalid JSON-LD syntax; @context @language value must be "+"a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:r})}if(e!==null){e=e.toLowerCase()}u["@language"]=e}if("@prefix"in a){if(i.match(/:|\//)){throw new A("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:r})}if(L.isKeyword(u["@id"])){throw new A("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:r})}if(typeof a["@prefix"]==="boolean"){u._prefix=a["@prefix"]===true}else{throw new A("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:r})}}if("@direction"in a){const k=a["@direction"];if(k!==null&&k!=="ltr"&&k!=="rtl"){throw new A("Invalid JSON-LD syntax; @direction value must be "+'null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:r})}u["@direction"]=k}if("@nest"in a){const E=a["@nest"];if(!T(E)||E!=="@nest"&&E.indexOf("@")===0){throw new A("Invalid JSON-LD syntax; @context @nest value must be "+"a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:r})}u["@nest"]=E}const p=u["@id"];if(p==="@context"||p==="@preserve"){throw new A("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:r})}if(o&&o.protected&&!e){t.protected[i]=true;u.protected=true;if(!P(o,u)){throw new A("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:r,term:i})}}};L.expandIri=(e,t,r,i)=>{return D(e,t,r,undefined,undefined,i)};function D(r,i,e,t,n,s){if(i===null||!T(i)||L.isKeyword(i)){return i}if(i.match(N)){return null}if(t&&t.hasOwnProperty(i)&&n.get(i)!==true){L.createTermDefinition({activeCtx:r,localCtx:t,term:i,defined:n,options:s})}e=e||{};if(e.vocab){const o=r.mappings.get(i);if(o===null){return null}if(S(o)&&"@id"in o){return o["@id"]}}const a=i.indexOf(":");if(a>0){const l=i.substr(0,a);const u=i.substr(a+1);if(l==="_"||u.indexOf("//")===0){return i}if(t&&t.hasOwnProperty(l)){L.createTermDefinition({activeCtx:r,localCtx:t,term:l,defined:n,options:s})}const o=r.mappings.get(l);if(o&&o._prefix){return o["@id"]+u}if(F(i)){return i}}if(e.vocab&&"@vocab"in r){const f=r["@vocab"]+i;i=f}else if(e.base){let e;let t;if("@base"in r){if(r["@base"]){t=I(s.base,r["@base"]);e=I(t,i)}else{t=r["@base"];e=i}}else{t=s.base;e=I(s.base,i)}i=e}return i}L.getInitialContext=e=>{const t=JSON.stringify({processingMode:e.processingMode});const r=l.get(t);if(r){return r}const i={processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:n,clone:s,revertToPreviousContext:a,protected:{}};if(l.size===u){l.clear()}l.set(t,i);return i;function n(){const e=this;if(e.inverse){return e.inverse}const r=e.inverse={};const i=e.fastCurieMap={};const n={};const s=(e["@language"]||"@none").toLowerCase();const a=e["@direction"];const o=e.mappings;const t=[...o.keys()].sort(b);for(const l of t){const u=o.get(l);if(u===null){continue}let t=u["@container"]||"@none";t=[].concat(t).sort().join("");if(u["@id"]===null){continue}const f=O(u["@id"]);for(const c of f){let e=r[c];const p=L.isKeyword(c);if(!e){r[c]=e={};if(!p&&!u._termHasColon){n[c]=[l];const h={iri:c,terms:n[c]};if(c[0]in i){i[c[0]].push(h)}else{i[c[0]]=[h]}}}else if(!p&&!u._termHasColon){n[c].push(l)}if(!e[t]){e[t]={"@language":{},"@type":{},"@any":{}}}e=e[t];g(l,e["@any"],"@none");if(u.reverse){g(l,e["@type"],"@reverse")}else if(u["@type"]==="@none"){g(l,e["@any"],"@none");g(l,e["@language"],"@none");g(l,e["@type"],"@none")}else if("@type"in u){g(l,e["@type"],u["@type"])}else if("@language"in u&&"@direction"in u){const d=u["@language"];const v=u["@direction"];if(d&&v){g(l,e["@language"],`${d}_${v}`.toLowerCase())}else if(d){g(l,e["@language"],d.toLowerCase())}else if(v){g(l,e["@language"],`_${v}`)}else{g(l,e["@language"],"@null")}}else if("@language"in u){g(l,e["@language"],(u["@language"]||"@null").toLowerCase())}else if("@direction"in u){if(u["@direction"]){g(l,e["@language"],`_${u["@direction"]}`)}else{g(l,e["@language"],"@none")}}else if(a){g(l,e["@language"],`_${a}`);g(l,e["@language"],"@none");g(l,e["@type"],"@none")}else{g(l,e["@language"],s);g(l,e["@language"],"@none");g(l,e["@type"],"@none")}}}for(const e in i){y(i,e,1)}return r}function y(e,t,r){const i=e[t];const n=e[t]={};let s;let a;for(const o of i){s=o.iri;if(r>=s.length){a=""}else{a=s[r]}if(a in n){n[a].push(o)}else{n[a]=[o]}}for(const t in n){if(t===""){continue}y(n,t,r+1)}}function g(e,t,r){if(!t.hasOwnProperty(r)){t[r]=e}}function s(){const e={};e.mappings=o.clone(this.mappings);e.clone=this.clone;e.inverse=null;e.getInverse=this.getInverse;e.protected=o.clone(this.protected);if(this.previousContext){e.previousContext=this.previousContext.clone()}e.revertToPreviousContext=this.revertToPreviousContext;if("@base"in this){e["@base"]=this["@base"]}if("@language"in this){e["@language"]=this["@language"]}if("@vocab"in this){e["@vocab"]=this["@vocab"]}return e}function a(){if(!this.previousContext){return this}return this.previousContext.clone()}};L.getContextValue=(e,t,r)=>{if(t===null){if(r==="@context"){return undefined}return null}if(e.mappings.has(t)){const i=e.mappings.get(t);if(n(r)){return i}if(i.hasOwnProperty(r)){return i[r]}}if(r==="@language"&&r in e){return e[r]}if(r==="@direction"&&r in e){return e[r]}if(r==="@context"){return undefined}return null};L.processingMode=(e,t)=>{if(t.toString()>="1.1"){return!e.processingMode||e.processingMode>="json-ld-"+t.toString()}else{return e.processingMode==="json-ld-1.0"}};L.isKeyword=e=>{if(!T(e)||e[0]!=="@"){return false}switch(e){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return true}return false};function P(r,i){if(!(r&&typeof r==="object")||!(i&&typeof i==="object")){return r===i}const e=Array.isArray(r);if(e!==Array.isArray(i)){return false}if(e){if(r.length!==i.length){return false}for(let e=0;e<r.length;++e){if(!P(r[e],i[e])){return false}}return true}const t=Object.keys(r);const n=Object.keys(i);if(t.length!==n.length){return false}for(const s in r){let e=r[s];let t=i[s];if(s==="@container"){if(Array.isArray(e)&&Array.isArray(t)){e=e.slice().sort();t=t.slice().sort()}}if(!P(e,t)){return false}}return true}},{"./JsonLdError":42,"./events":51,"./types":61,"./url":62,"./util":63}],50:[function(e,t,r){"use strict";const{parseLinkHeader:p,buildHeaders:i}=e("../util");const{LINK_HEADER_CONTEXT:h}=e("../constants");const d=e("../JsonLdError");const n=e("../RequestQueue");const{prependBase:v}=e("../url");const y=/(^|(\r\n))link:/i;t.exports=({secure:l,headers:u={},xhr:f}={headers:{}})=>{u=i(u);const e=new n;return e.wrapLoader(c);async function c(t){if(t.indexOf("http:")!==0&&t.indexOf("https:")!==0){throw new d('URL could not be dereferenced; only "http" and "https" URLs are '+"supported.","jsonld.InvalidUrl",{code:"loading document failed",url:t})}if(l&&t.indexOf("https")!==0){throw new d("URL could not be dereferenced; secure mode is enabled and "+'the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:t})}let e;try{e=await g(f,t,u)}catch(e){throw new d("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:t,cause:e})}if(e.status>=400){throw new d("URL could not be dereferenced: "+e.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:t,httpStatusCode:e.status})}let r={contextUrl:null,documentUrl:t,document:e.response};let i=null;const n=e.getResponseHeader("Content-Type");let s;if(y.test(e.getAllResponseHeaders())){s=e.getResponseHeader("Link")}if(s&&n!=="application/ld+json"){const a=p(s);const o=a[h];if(Array.isArray(o)){throw new d("URL could not be dereferenced, it has more than one "+"associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:t})}if(o){r.contextUrl=o.target}i=a.alternate;if(i&&i.type=="application/ld+json"&&!(n||"").match(/^application\/(\w*\+)?json$/)){r=await c(v(t,i.target))}}return r}};function g(e,i,n){e=e||XMLHttpRequest;const s=new e;return new Promise((e,t)=>{s.onload=()=>e(s);s.onerror=e=>t(e);s.open("GET",i,true);for(const r in n){s.setRequestHeader(r,n[r])}s.send()})}},{"../JsonLdError":42,"../RequestQueue":45,"../constants":48,"../url":62,"../util":63}],51:[function(e,t,r){"use strict";const s=e("./JsonLdError");const{isArray:a}=e("./types");const{asArray:i}=e("./util");const n={};t.exports=n;n.defaultEventHandler=null;n.setupEventHandler=({options:e={}})=>{const t=[].concat(e.safe?n.safeEventHandler:[],e.eventHandler?i(e.eventHandler):[],n.defaultEventHandler?n.defaultEventHandler:[]);return t.length===0?null:t};n.handleEvent=({event:e,options:t})=>{o({event:e,handlers:t.eventHandler})};function o({event:t,handlers:r}){let i=true;for(let e=0;i&&e<r.length;++e){i=false;const n=r[e];if(a(n)){i=o({event:t,handlers:n})}else if(typeof n==="function"){n({event:t,next:()=>{i=true}})}else if(typeof n==="object"){if(t.code in n){n[t.code]({event:t,next:()=>{i=true}})}else{i=true}}else{throw new s("Invalid event handler.","jsonld.InvalidEventHandler",{event:t})}}return i}const l=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);n.safeEventHandler=function e({event:t,next:r}){if(t.level==="warning"&&l.has(t.code)){throw new s("Safe mode validation error.","jsonld.ValidationError",{event:t})}r()};n.logEventHandler=function e({event:t,next:r}){console.log(`EVENT: ${t.message}`,{event:t});r()};n.logWarningEventHandler=function e({event:t,next:r}){if(t.level==="warning"){console.warn(`WARNING: ${t.message}`,{event:t})}r()};n.unhandledEventHandler=function e({event:t}){throw new s("No handler for event.","jsonld.UnhandledEvent",{event:t})};n.setDefaultEventHandler=function({eventHandler:e}={}){n.defaultEventHandler=e?i(e):null}},{"./JsonLdError":42,"./types":61,"./util":63}],52:[function(e,t,r){"use strict";const C=e("./JsonLdError");const{isArray:R,isObject:N,isEmptyObject:O,isString:L,isUndefined:D}=e("./types");const{isList:P,isValue:Q,isGraph:h,isSubject:M}=e("./graphTypes");const{expandIri:B,getContextValue:U,isKeyword:G,process:q,processingMode:H}=e("./context");const{isAbsolute:J}=e("./url");const{REGEX_BCP47:z,REGEX_KEYWORD:f,addValue:V,asArray:W,getValues:_,validateTypeValue:X}=e("./util");const{handleEvent:K}=e("./events");const $={};t.exports=$;$.expand=async({activeCtx:i,activeProperty:n=null,element:s,options:a={},insideList:o=false,insideIndex:l=false,typeScopedContext:u=null})=>{if(s===null||s===undefined){return null}if(n==="@default"){a=Object.assign({},a,{isFrame:false})}if(!R(s)&&!N(s)){if(!o&&(n===null||B(i,n,{vocab:true},a)==="@graph")){if(a.eventHandler){K({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:s}},options:a})}return null}return k({activeCtx:i,activeProperty:n,value:s,options:a})}if(R(s)){let r=[];const d=U(i,n,"@container")||[];o=o||d.includes("@list");for(let t=0;t<s.length;++t){let e=await $.expand({activeCtx:i,activeProperty:n,element:s[t],options:a,insideIndex:l,typeScopedContext:u});if(o&&R(e)){e={"@list":e}}if(e===null){continue}if(R(e)){r=r.concat(e)}else{r.push(e)}}return r}const e=B(i,n,{vocab:true},a);const t=U(i,n,"@context");u=u||(i.previousContext?i:null);let r=Object.keys(s).sort();let f=!l;if(f&&u&&r.length<=2&&!r.includes("@context")){for(const v of r){const y=B(u,v,{vocab:true},a);if(y==="@value"){f=false;i=u;break}if(y==="@id"&&r.length===1){f=false;break}}}if(f){i=i.revertToPreviousContext()}if(!D(t)){i=await q({activeCtx:i,localCtx:t,propagate:true,overrideProtected:true,options:a})}if("@context"in s){i=await q({activeCtx:i,localCtx:s["@context"],options:a})}u=i;let c=null;for(const v of r){const y=B(i,v,{vocab:true},a);if(y==="@type"){c=c||v;const g=s[v];const b=Array.isArray(g)?g.length>1?g.slice().sort():g:[g];for(const m of b){const w=U(u,m,"@context");if(!D(w)){i=await q({activeCtx:i,localCtx:w,options:a,propagate:false})}}}}let p={};await Y({activeCtx:i,activeProperty:n,expandedActiveProperty:e,element:s,expandedParent:p,options:a,insideList:o,typeKey:c,typeScopedContext:u});r=Object.keys(p);let h=r.length;if("@value"in p){if("@type"in p&&("@language"in p||"@direction"in p)){throw new C('Invalid JSON-LD syntax; an element containing "@value" may not '+'contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p})}let e=h-1;if("@type"in p){e-=1}if("@index"in p){e-=1}if("@language"in p){e-=1}if("@direction"in p){e-=1}if(e!==0){throw new C('Invalid JSON-LD syntax; an element containing "@value" may only '+'have an "@index" property and either "@type" '+'or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:p})}const x=p["@value"]===null?[]:W(p["@value"]);const b=_(p,"@type");if(H(i,1.1)&&b.includes("@json")&&b.length===1){}else if(x.length===0){if(a.eventHandler){K({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:p}},options:a})}p=null}else if(!x.every(e=>L(e)||O(e))&&"@language"in p){throw new C("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:p})}else if(!b.every(e=>J(e)&&!(L(e)&&e.indexOf("_:")===0)||O(e))){throw new C('Invalid JSON-LD syntax; an element containing "@value" and "@type" '+'must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:p})}}else if("@type"in p&&!R(p["@type"])){p["@type"]=[p["@type"]]}else if("@set"in p||"@list"in p){if(h>1&&!(h===2&&"@index"in p)){throw new C('Invalid JSON-LD syntax; if an element has the property "@set" '+'or "@list", then it can have at most one other property that is '+'"@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:p})}if("@set"in p){p=p["@set"];r=Object.keys(p);h=r.length}}else if(h===1&&"@language"in p){if(a.eventHandler){K({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:p}},options:a})}p=null}if(N(p)&&!a.keepFreeFloatingNodes&&!o&&(n===null||e==="@graph"||(U(i,n,"@container")||[]).includes("@graph"))){p=Z({value:p,count:h,options:a})}return p};function Z({value:r,count:i,options:n}){if(i===0||"@value"in r||"@list"in r||i===1&&"@id"in r){if(n.eventHandler){let e;let t;if(i===0){e="empty object";t="Dropping empty object."}else if("@value"in r){e="object with only @value";t="Dropping object with only @value."}else if("@list"in r){e="object with only @list";t="Dropping object with only @list."}else if(i===1&&"@id"in r){e="object with only @id";t="Dropping object with only @id."}K({event:{type:["JsonLdEvent"],code:e,level:"warning",message:t,details:{value:r}},options:n})}return null}return r}async function Y({activeCtx:n,activeProperty:s,expandedActiveProperty:a,element:e,expandedParent:o,options:l={},insideList:t,typeKey:r,typeScopedContext:u}){const i=Object.keys(e).sort();const f=[];let c;const p=e[r]&&B(n,R(e[r])?e[r][0]:e[r],{vocab:true},{...l,typeExpansion:true})==="@json";for(const h of i){let r=e[h];let i;if(h==="@context"){continue}const d=B(n,h,{vocab:true},l);if(d===null||!(J(d)||G(d))){if(l.eventHandler){K({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an "+"absolute IRI or keyword.",details:{property:h,expandedProperty:d}},options:l})}continue}if(G(d)){if(a==="@reverse"){throw new C("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse "+"property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:r})}if(d in o&&d!=="@included"&&d!=="@type"){throw new C("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:d})}}if(d==="@id"){if(!L(r)){if(!l.isFrame){throw new C('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:r})}if(N(r)){if(!O(r)){throw new C('Invalid JSON-LD syntax; "@id" value an empty object or array '+"of strings, if framing","jsonld.SyntaxError",{code:"invalid @id value",value:r})}}else if(R(r)){if(!r.every(e=>L(e))){throw new C('Invalid JSON-LD syntax; "@id" value an empty object or array '+"of strings, if framing","jsonld.SyntaxError",{code:"invalid @id value",value:r})}}else{throw new C('Invalid JSON-LD syntax; "@id" value an empty object or array '+"of strings, if framing","jsonld.SyntaxError",{code:"invalid @id value",value:r})}}V(o,"@id",W(r).map(e=>{if(L(e)){const t=B(n,e,{base:true},l);if(l.eventHandler){if(t===null){if(e===null){K({event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:e}},options:l})}else{K({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:e}},options:l})}}else if(!J(t)){K({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:e,expandedId:t}},options:l})}}return t}return e}),{propertyIsArray:l.isFrame});continue}if(d==="@type"){if(N(r)){r=Object.fromEntries(Object.entries(r).map(([e,t])=>[B(u,e,{vocab:true}),W(t).map(e=>B(u,e,{base:true,vocab:true},{...l,typeExpansion:true}))]))}X(r,l.isFrame);V(o,"@type",W(r).map(e=>{if(L(e)){const t=B(u,e,{base:true,vocab:true},{...l,typeExpansion:true});if(t!=="@json"&&!J(t)){if(l.eventHandler){K({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:e}},options:l})}}return t}return e}),{propertyIsArray:!!l.isFrame});continue}if(d==="@included"&&H(n,1.1)){const g=W(await $.expand({activeCtx:n,activeProperty:s,element:r,options:l}));if(!g.every(e=>M(e))){throw new C("Invalid JSON-LD syntax; "+"values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:r})}V(o,"@included",g,{propertyIsArray:true});continue}if(d==="@graph"&&!(N(r)||R(r))){throw new C('Invalid JSON-LD syntax; "@graph" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid @graph value",value:r})}if(d==="@value"){c=r;if(p&&H(n,1.1)){o["@value"]=r}else{V(o,"@value",r,{propertyIsArray:l.isFrame})}continue}if(d==="@language"){if(r===null){continue}if(!L(r)&&!l.isFrame){throw new C('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:r})}r=W(r).map(e=>L(e)?e.toLowerCase():e);for(const b of r){if(L(b)&&!b.match(z)){if(l.eventHandler){K({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:b}},options:l})}}}V(o,"@language",r,{propertyIsArray:l.isFrame});continue}if(d==="@direction"){if(!L(r)&&!l.isFrame){throw new C('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:r})}r=W(r);for(const m of r){if(L(m)&&m!=="ltr"&&m!=="rtl"){throw new C('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:r})}}V(o,"@direction",r,{propertyIsArray:l.isFrame});continue}if(d==="@index"){if(!L(r)){throw new C('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:r})}V(o,"@index",r);continue}if(d==="@reverse"){if(!N(r)){throw new C('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:r})}i=await $.expand({activeCtx:n,activeProperty:"@reverse",element:r,options:l});if("@reverse"in i){for(const w in i["@reverse"]){V(o,w,i["@reverse"][w],{propertyIsArray:true})}}let t=o["@reverse"]||null;for(const w in i){if(w==="@reverse"){continue}if(t===null){t=o["@reverse"]={}}V(t,w,[],{propertyIsArray:true});const x=i[w];for(let e=0;e<x.length;++e){const _=x[e];if(Q(_)||P(_)){throw new C('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:i})}V(t,w,_,{propertyIsArray:true})}}continue}if(d==="@nest"){f.push(h);continue}let t=n;const v=U(n,h,"@context");if(!D(v)){t=await q({activeCtx:n,localCtx:v,propagate:true,overrideProtected:true,options:l})}const y=U(n,h,"@container")||[];if(y.includes("@language")&&N(r)){const k=U(t,h,"@direction");i=ee(t,r,k,l)}else if(y.includes("@index")&&N(r)){const E=y.includes("@graph");const A=U(t,h,"@index")||"@index";const j=A!=="@index"&&B(n,A,{vocab:true},l);i=await te({activeCtx:t,options:l,activeProperty:h,value:r,asGraph:E,indexKey:A,propertyIndex:j})}else if(y.includes("@id")&&N(r)){const E=y.includes("@graph");i=await te({activeCtx:t,options:l,activeProperty:h,value:r,asGraph:E,indexKey:"@id"})}else if(y.includes("@type")&&N(r)){i=await te({activeCtx:t.revertToPreviousContext(),options:l,activeProperty:h,value:r,asGraph:false,indexKey:"@type"})}else{const S=d==="@list";if(S||d==="@set"){let e=s;if(S&&a==="@graph"){e=null}i=await $.expand({activeCtx:t,activeProperty:e,element:r,options:l,insideList:S})}else if(U(n,h,"@type")==="@json"){i={"@type":"@json","@value":r}}else{i=await $.expand({activeCtx:t,activeProperty:h,element:r,options:l,insideList:false})}}if(i===null&&d!=="@value"){continue}if(d!=="@list"&&!P(i)&&y.includes("@list")){i={"@list":W(i)}}if(y.includes("@graph")&&!y.some(e=>e==="@id"||e==="@index")){i=W(i);if(!l.isFrame){i=i.filter(e=>{const t=Object.keys(e).length;return Z({value:e,count:t,options:l})!==null})}if(i.length===0){continue}i=i.map(e=>({"@graph":W(e)}))}if(t.mappings.has(h)&&t.mappings.get(h).reverse){const T=o["@reverse"]=o["@reverse"]||{};i=W(i);for(let e=0;e<i.length;++e){const _=i[e];if(Q(_)||P(_)){throw new C('Invalid JSON-LD syntax; "@reverse" value must not be a '+"@value or an @list.","jsonld.SyntaxError",{code:"invalid reverse property value",value:i})}V(T,d,_,{propertyIsArray:true})}continue}V(o,d,i,{propertyIsArray:true})}if("@value"in o){if(o["@type"]==="@json"&&H(n,1.1)){}else if((N(c)||R(c))&&!l.isFrame){throw new C('Invalid JSON-LD syntax; "@value" value must not be an '+"object or an array.","jsonld.SyntaxError",{code:"invalid value object value",value:c})}}for(const h of f){const F=R(e[h])?e[h]:[e[h]];for(const I of F){if(!N(I)||Object.keys(I).some(e=>B(n,e,{vocab:true},l)==="@value")){throw new C("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:I})}await Y({activeCtx:n,activeProperty:s,expandedActiveProperty:a,element:I,expandedParent:o,options:l,insideList:t,typeScopedContext:u,typeKey:r})}}}function k({activeCtx:e,activeProperty:t,value:r,options:i}){if(r===null||r===undefined){return null}const n=B(e,t,{vocab:true},i);if(n==="@id"){return B(e,r,{base:true},i)}else if(n==="@type"){return B(e,r,{vocab:true,base:true},{...i,typeExpansion:true})}const s=U(e,t,"@type");if((s==="@id"||n==="@graph")&&L(r)){const o=B(e,r,{base:true},i);if(o===null&&r.match(f)){if(i.eventHandler){K({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:t}},options:i})}}return{"@id":o}}if(s==="@vocab"&&L(r)){return{"@id":B(e,r,{vocab:true,base:true},i)}}if(G(n)){return r}const a={};if(s&&!["@id","@vocab","@none"].includes(s)){a["@type"]=s}else if(L(r)){const l=U(e,t,"@language");if(l!==null){a["@language"]=l}const u=U(e,t,"@direction");if(u!==null){a["@direction"]=u}}if(!["boolean","number","string"].includes(typeof r)){r=r.toString()}a["@value"]=r;return a}function ee(t,r,i,n){const s=[];const e=Object.keys(r).sort();for(const a of e){const o=B(t,a,{vocab:true},n);let e=r[a];if(!R(e)){e=[e]}for(const l of e){if(l===null){continue}if(!L(l)){throw new C("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:r})}const e={"@value":l};if(o!=="@none"){if(!a.match(z)){if(n.eventHandler){K({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:a}},options:n})}}e["@language"]=a.toLowerCase()}if(i){e["@direction"]=i}s.push(e)}}return s}async function te({activeCtx:e,options:n,activeProperty:s,value:a,asGraph:o,indexKey:l,propertyIndex:u}){const f=[];const t=Object.keys(a).sort();const c=l==="@type";for(let i of t){if(c){const p=U(e,i,"@context");if(!D(p)){e=await q({activeCtx:e,localCtx:p,propagate:false,options:n})}}let t=a[i];if(!R(t)){t=[t]}t=await $.expand({activeCtx:e,activeProperty:s,element:t,options:n,insideList:false,insideIndex:true});let r;if(u){if(i==="@none"){r="@none"}else{r=k({activeCtx:e,activeProperty:l,value:i,options:n})}}else{r=B(e,i,{vocab:true},n)}if(l==="@id"){i=B(e,i,{base:true},n)}else if(c){i=r}for(let e of t){if(o&&!h(e)){e={"@graph":[e]}}if(l==="@type"){if(r==="@none"){}else if(e["@type"]){e["@type"]=[i].concat(e["@type"])}else{e["@type"]=[i]}}else if(Q(e)&&!["@language","@type","@index"].includes(l)){throw new C("Invalid JSON-LD syntax; Attempt to add illegal key to value "+`object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e})}else if(u){if(r!=="@none"){V(e,u,r,{propertyIsArray:true,prependValue:true})}}else if(r!=="@none"&&!(l in e)){e[l]=i}f.push(e)}}return f}},{"./JsonLdError":42,"./context":49,"./events":51,"./graphTypes":56,"./types":61,"./url":62,"./util":63}],53:[function(e,t,r){"use strict";const{isSubjectReference:s}=e("./graphTypes");const{createMergedNodeMap:a}=e("./nodeMap");const i={};t.exports=i;i.flatten=e=>{const t=a(e);const r=[];const i=Object.keys(t).sort();for(let e=0;e<i.length;++e){const n=t[i[e]];if(!s(n)){r.push(n)}}return r}},{"./graphTypes":56,"./nodeMap":58}],54:[function(e,t,r){"use strict";const{isKeyword:E}=e("./context");const A=e("./graphTypes");const j=e("./types");const S=e("./util");const i=e("./url");const T=e("./JsonLdError");const{createNodeMap:a,mergeNodeMapGraphs:o}=e("./nodeMap");const F={};t.exports=F;F.frameMergedOrDefault=(e,t,r)=>{const i={options:r,embedded:false,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}};const n=new S.IdentifierIssuer("_:b");a(e,i.graphMap,"@default",n);if(r.merged){i.graphMap["@merged"]=o(i.graphMap);i.graph="@merged"}i.subjects=i.graphMap[i.graph];const s=[];F.frame(i,Object.keys(i.subjects).sort(),t,s);if(r.pruneBlankNodeIdentifiers){r.bnodesToClear=Object.keys(i.bnodeMap).filter(e=>i.bnodeMap[e].length===1)}r.link={};return u(s,r)};F.frame=(r,e,i,t,n=null)=>{N(i);i=i[0];const s=r.options;const a={embed:R(i,s,"embed"),explicit:R(i,s,"explicit"),requireAll:R(i,s,"requireAll")};if(!r.link.hasOwnProperty(r.graph)){r.link[r.graph]={}}const o=r.link[r.graph];const l=O(r,e,i,a);const u=Object.keys(l).sort();for(const f of u){const c=l[f];if(n===null){r.uniqueEmbeds={[r.graph]:{}}}else{r.uniqueEmbeds[r.graph]=r.uniqueEmbeds[r.graph]||{}}if(a.embed==="@link"&&f in o){D(t,n,o[f]);continue}const p={"@id":f};if(f.indexOf("_:")===0){S.addValue(r.bnodeMap,f,p,{propertyIsArray:true})}o[f]=p;if((a.embed==="@first"||a.embed==="@last")&&r.is11){throw new T("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:i})}if(!r.embedded&&r.uniqueEmbeds[r.graph].hasOwnProperty(f)){continue}if(r.embedded&&(a.embed==="@never"||C(c,r.graph,r.subjectStack))){D(t,n,p);continue}if(r.embedded&&(a.embed=="@first"||a.embed=="@once")&&r.uniqueEmbeds[r.graph].hasOwnProperty(f)){D(t,n,p);continue}if(a.embed==="@last"){if(f in r.uniqueEmbeds[r.graph]){L(r,f)}}r.uniqueEmbeds[r.graph][f]={parent:t,property:n};r.subjectStack.push({subject:c,graph:r.graph});if(f in r.graphMap){let e=false;let t=null;if(!("@graph"in i)){e=r.graph!=="@merged";t={}}else{t=i["@graph"][0];e=!(f==="@merged"||f==="@default");if(!j.isObject(t)){t={}}}if(e){F.frame({...r,graph:f,embedded:false},Object.keys(r.graphMap[f]).sort(),[t],p,"@graph")}}if("@included"in i){F.frame({...r,embedded:false},e,i["@included"],p,"@included")}for(const h of Object.keys(c).sort()){if(E(h)){p[h]=S.clone(c[h]);if(h==="@type"){for(const d of c["@type"]){if(d.indexOf("_:")===0){S.addValue(r.bnodeMap,d,p,{propertyIsArray:true})}}}continue}if(a.explicit&&!(h in i)){continue}for(const v of c[h]){const y=h in i?i[h]:I(a);if(A.isList(v)){const y=i[h]&&i[h][0]&&i[h][0]["@list"]?i[h][0]["@list"]:I(a);const g={"@list":[]};D(p,h,g);const b=v["@list"];for(const m of b){if(A.isSubjectReference(m)){F.frame({...r,embedded:true},[m["@id"]],y,g,"@list")}else{D(g,"@list",S.clone(m))}}}else if(A.isSubjectReference(v)){F.frame({...r,embedded:true},[v["@id"]],y,p,h)}else if(P(y[0],v)){D(p,h,S.clone(v))}}}for(const h of Object.keys(i).sort()){if(h==="@type"){if(!j.isObject(i[h][0])||!("@default"in i[h][0])){continue}}else if(E(h)){continue}const w=i[h][0]||{};const x=R(w,s,"omitDefault");if(!x&&!(h in p)){let e="@null";if("@default"in w){e=S.clone(w["@default"])}if(!j.isArray(e)){e=[e]}p[h]=[{"@preserve":e}]}}for(const _ of Object.keys(i["@reverse"]||{}).sort()){const y=i["@reverse"][_];for(const c of Object.keys(r.subjects)){const k=S.getValues(r.subjects[c],_);if(k.some(e=>e["@id"]===f)){p["@reverse"]=p["@reverse"]||{};S.addValue(p["@reverse"],_,[],{propertyIsArray:true});F.frame({...r,embedded:true},[c],y,p["@reverse"][_],n)}}}D(t,n,p);r.subjectStack.pop()}};F.cleanupNull=(e,t)=>{if(j.isArray(e)){const r=e.map(e=>F.cleanupNull(e,t));return r.filter(e=>e)}if(e==="@null"){return null}if(j.isObject(e)){if("@id"in e){const i=e["@id"];if(t.link.hasOwnProperty(i)){const n=t.link[i].indexOf(e);if(n!==-1){return t.link[i][n]}t.link[i].push(e)}else{t.link[i]=[e]}}for(const s in e){e[s]=F.cleanupNull(e[s],t)}}return e};function I(e){const t={};for(const r in e){if(e[r]!==undefined){t["@"+r]=[e[r]]}}return[t]}function C(t,r,i){for(let e=i.length-1;e>=0;--e){const n=i[e];if(n.graph===r&&n.subject["@id"]===t["@id"]){return true}}return false}function R(e,t,r){const i="@"+r;let n=i in e?e[i][0]:t[r];if(r==="embed"){if(n===true){n="@once"}else if(n===false){n="@never"}else if(n!=="@always"&&n!=="@never"&&n!=="@link"&&n!=="@first"&&n!=="@last"&&n!=="@once"){throw new T("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:e})}}return n}function N(e){if(!j.isArray(e)||e.length!==1||!j.isObject(e[0])){throw new T("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}if("@id"in e[0]){for(const t of S.asArray(e[0]["@id"])){if(!(j.isObject(t)||i.isAbsolute(t))||j.isString(t)&&t.indexOf("_:")===0){throw new T("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}}if("@type"in e[0]){for(const r of S.asArray(e[0]["@type"])){if(!(j.isObject(r)||i.isAbsolute(r)||r==="@json")||j.isString(r)&&r.indexOf("_:")===0){throw new T("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:e})}}}}function O(e,t,r,i){const n={};for(const s of t){const a=e.graphMap[e.graph][s];if(l(e,a,r,i)){n[s]=a}}return n}function l(r,e,i,n){let s=true;let a=false;for(const o in i){let t=false;const l=S.getValues(e,o);const u=S.getValues(i,o).length===0;if(o==="@id"){if(j.isEmptyObject(i["@id"][0]||{})){t=true}else if(i["@id"].length>=0){t=i["@id"].includes(l[0])}if(!n.requireAll){return t}}else if(o==="@type"){s=false;if(u){if(l.length>0){return false}t=true}else if(i["@type"].length===1&&j.isEmptyObject(i["@type"][0])){t=l.length>0}else{for(const f of i["@type"]){if(j.isObject(f)&&"@default"in f){t=true}else{t=t||l.some(e=>e===f)}}}if(!n.requireAll){return t}}else if(E(o)){continue}else{const c=S.getValues(i,o)[0];let e=false;if(c){N([c]);e="@default"in c}s=false;if(l.length===0&&e){continue}if(l.length>0&&u){return false}if(c===undefined){if(l.length>0){return false}t=true}else{if(A.isList(c)){const p=c["@list"][0];if(A.isList(l[0])){const h=l[0]["@list"];if(A.isValue(p)){t=h.some(e=>P(p,e))}else if(A.isSubject(p)||A.isSubjectReference(p)){t=h.some(e=>d(r,p,e,n))}}}else if(A.isValue(c)){t=l.some(e=>P(c,e))}else if(A.isSubjectReference(c)){t=l.some(e=>d(r,c,e,n))}else if(j.isObject(c)){t=l.length>0}else{t=false}}}if(!t&&n.requireAll){return false}a=a||t}return s||a}function L(e,t){const i=e.uniqueEmbeds[e.graph];const r=i[t];const n=r.parent;const s=r.property;const a={"@id":t};if(j.isArray(n)){for(let e=0;e<n.length;++e){if(S.compareValues(n[e],a)){n[e]=a;break}}}else{const l=j.isArray(n[s]);S.removeValue(n,s,a,{propertyIsArray:l});S.addValue(n,s,a,{propertyIsArray:l})}const o=e=>{const t=Object.keys(i);for(const r of t){if(r in i&&j.isObject(i[r].parent)&&i[r].parent["@id"]===e){delete i[r];o(r)}}};o(t)}function u(e,t){if(j.isArray(e)){return e.map(e=>u(e,t))}if(j.isObject(e)){if("@preserve"in e){return e["@preserve"][0]}if(A.isValue(e)){return e}if(A.isList(e)){e["@list"]=u(e["@list"],t);return e}if("@id"in e){const r=e["@id"];if(t.link.hasOwnProperty(r)){const i=t.link[r].indexOf(e);if(i!==-1){return t.link[r][i]}t.link[r].push(e)}else{t.link[r]=[e]}}for(const n in e){if(n==="@id"&&t.bnodesToClear.includes(e[n])){delete e["@id"];continue}e[n]=u(e[n],t)}}return e}function D(e,t,r){if(j.isObject(e)){S.addValue(e,t,r,{propertyIsArray:true})}else{e.push(r)}}function d(e,t,r,i){if(!("@id"in r)){return false}const n=e.subjects[r["@id"]];return n&&l(e,n,t,i)}function P(e,t){const r=t["@value"];const i=t["@type"];const n=t["@language"];const s=e["@value"]?j.isArray(e["@value"])?e["@value"]:[e["@value"]]:[];const a=e["@type"]?j.isArray(e["@type"])?e["@type"]:[e["@type"]]:[];const o=e["@language"]?j.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];if(s.length===0&&a.length===0&&o.length===0){return true}if(!(s.includes(r)||j.isEmptyObject(s[0]))){return false}if(!(!i&&a.length===0||a.includes(i)||i&&j.isEmptyObject(a[0]))){return false}if(!(!n&&o.length===0||o.includes(n)||n&&j.isEmptyObject(o[0]))){return false}return true}},{"./JsonLdError":42,"./context":49,"./graphTypes":56,"./nodeMap":58,"./types":61,"./url":62,"./util":63}],55:[function(e,t,r){"use strict";const F=e("./JsonLdError");const I=e("./graphTypes");const C=e("./types");const{REGEX_BCP47:u,addValue:R}=e("./util");const{handleEvent:f}=e("./events");const{RDF_LIST:N,RDF_FIRST:O,RDF_REST:L,RDF_NIL:D,RDF_TYPE:P,RDF_JSON_LITERAL:c,XSD_BOOLEAN:p,XSD_DOUBLE:h,XSD_INTEGER:d,XSD_STRING:v}=e("./constants");const i={};t.exports=i;i.fromRDF=async(e,t)=>{const{useRdfType:r=false,useNativeTypes:i=false,rdfDirection:n=null}=t;const s={};const a={"@default":s};const o={};if(n){if(n==="compound-literal"){throw new F("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:n})}else if(n!=="i18n-datatype"){throw new F("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:n})}}for(const f of e){const c=f.graph.termType==="DefaultGraph"?"@default":f.graph.value;if(!(c in a)){a[c]={}}if(c!=="@default"&&!(c in s)){s[c]={"@id":c}}const p=a[c];const h=f.subject.value;const d=f.predicate.value;const v=f.object;if(!(h in p)){p[h]={"@id":h}}const y=p[h];const g=v.termType.endsWith("Node");if(g&&!(v.value in p)){p[v.value]={"@id":v.value}}if(d===P&&!r&&g){R(y,"@type",v.value,{propertyIsArray:true});continue}const b=Q(v,i,n,t);R(y,d,b,{propertyIsArray:true});if(g){if(v.value===D){const m=p[v.value];if(!("usages"in m)){m.usages=[]}m.usages.push({node:y,property:d,value:b})}else if(v.value in o){o[v.value]=false}else{o[v.value]={node:y,property:d,value:b}}}}for(const c in a){const w=a[c];if(!(D in w)){continue}const x=w[D];if(!x.usages){continue}for(let n of x.usages){let e=n.node;let t=n.property;let r=n.value;const _=[];const k=[];let i=Object.keys(e).length;while(t===L&&C.isObject(o[e["@id"]])&&C.isArray(e[O])&&e[O].length===1&&C.isArray(e[L])&&e[L].length===1&&(i===3||i===4&&C.isArray(e["@type"])&&e["@type"].length===1&&e["@type"][0]===N)){_.push(e[O][0]);k.push(e["@id"]);n=o[e["@id"]];e=n.node;t=n.property;r=n.value;i=Object.keys(e).length;if(!I.isBlankNode(e)){break}}delete r["@id"];r["@list"]=_.reverse();for(const E of k){delete w[E]}}delete x.usages}const l=[];const u=Object.keys(s).sort();for(const A of u){const y=s[A];if(A in a){const j=y["@graph"]=[];const w=a[A];const S=Object.keys(w).sort();for(const T of S){const y=w[T];if(!I.isSubjectReference(y)){j.push(y)}}}if(!I.isSubjectReference(y)){l.push(y)}}return l};function Q(t,r,i,n){if(t.termType.endsWith("Node")){return{"@id":t.value}}const s={"@value":t.value};if(t.language){if(!t.language.match(u)){if(n.eventHandler){f({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:t.language}},options:n})}}s["@language"]=t.language}else{let e=t.datatype.value;if(!e){e=v}if(e===c){e="@json";try{s["@value"]=JSON.parse(s["@value"])}catch(e){throw new F("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:s["@value"],cause:e})}}if(r){if(e===p){if(s["@value"]==="true"){s["@value"]=true}else if(s["@value"]==="false"){s["@value"]=false}}else if(C.isNumeric(s["@value"])){if(e===d){const a=parseInt(s["@value"],10);if(a.toFixed(0)===s["@value"]){s["@value"]=a}}else if(e===h){s["@value"]=parseFloat(s["@value"])}}if(![p,d,h,v].includes(e)){s["@type"]=e}}else if(i==="i18n-datatype"&&e.startsWith("https://www.w3.org/ns/i18n#")){const[,o,l]=e.split(/[#_]/);if(o.length>0){s["@language"]=o;if(!o.match(u)){if(n.eventHandler){f({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:o}},options:n})}}}s["@direction"]=l}else if(e!==v){s["@type"]=e}}return s}},{"./JsonLdError":42,"./constants":48,"./events":51,"./graphTypes":56,"./types":61,"./util":63}],56:[function(e,t,r){"use strict";const i=e("./types");const n={};t.exports=n;n.isSubject=e=>{if(i.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){const t=Object.keys(e).length;return t>1||!("@id"in e)}return false};n.isSubjectReference=e=>i.isObject(e)&&Object.keys(e).length===1&&"@id"in e;n.isValue=e=>i.isObject(e)&&"@value"in e;n.isList=e=>i.isObject(e)&&"@list"in e;n.isGraph=e=>{return i.isObject(e)&&"@graph"in e&&Object.keys(e).filter(e=>e!=="@id"&&e!=="@index").length===1};n.isSimpleGraph=e=>{return n.isGraph(e)&&!("@id"in e)};n.isBlankNode=e=>{if(i.isObject(e)){if("@id"in e){const t=e["@id"];return!i.isString(t)||t.indexOf("_:")===0}return Object.keys(e).length===0||!("@value"in e||"@set"in e||"@list"in e)}return false}},{"./types":61}],57:[function(t,e,m){const a=t("rdf-canonize");const r=t("./platform");const x=t("./util");const _=t("./ContextResolver");const k=x.IdentifierIssuer;const c=t("./JsonLdError");const i=t("lru-cache");const o=t("./NQuads");const{expand:f}=t("./expand");const{flatten:l}=t("./flatten");const{fromRDF:u}=t("./fromRdf");const{toRDF:n}=t("./toRdf");const{frameMergedOrDefault:p,cleanupNull:h}=t("./frame");const{isArray:E,isObject:d,isString:v}=t("./types");const{isSubjectReference:A}=t("./graphTypes");const{expandIri:y,getInitialContext:g,process:j,processingMode:S}=t("./context");const{compact:T,compactIri:F}=t("./compact");const{createNodeMap:I,createMergedNodeMap:C,mergeNodeMaps:R}=t("./nodeMap");const{logEventHandler:N,logWarningEventHandler:O,safeEventHandler:L,setDefaultEventHandler:D,setupEventHandler:P,strictEventHandler:Q,unhandledEventHandler:M}=t("./events");const s=function(b){const s={};const e=100;const m=new i({max:e});b.compact=async function(e,t,r){if(arguments.length<2){throw new TypeError("Could not compact, too few arguments.")}if(t===null){throw new c("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"})}if(e===null){return null}r=w(r,{base:v(e)?e:"",compactArrays:true,compactToRelative:true,graph:false,skipExpansion:false,link:false,issuer:new k("_:b"),contextResolver:new _({sharedCache:m})});if(r.link){r.skipExpansion=true}if(!r.compactToRelative){delete r.base}let i;if(r.skipExpansion){i=e}else{i=await b.expand(e,r)}const n=await b.processContext(g(r),t,r);let s=await T({activeCtx:n,element:i,options:r});if(r.compactArrays&&!r.graph&&E(s)){if(s.length===1){s=s[0]}else if(s.length===0){s={}}}else if(r.graph&&d(s)){s=[s]}if(d(t)&&"@context"in t){t=t["@context"]}t=x.clone(t);if(!E(t)){t=[t]}const a=t;t=[];for(let e=0;e<a.length;++e){if(!d(a[e])||Object.keys(a[e]).length>0){t.push(a[e])}}const o=t.length>0;if(t.length===1){t=t[0]}if(E(s)){const l=F({activeCtx:n,iri:"@graph",relativeTo:{vocab:true}});const u=s;s={};if(o){s["@context"]=t}s[l]=u}else if(d(s)&&o){const u=s;s={"@context":t};for(const f in u){s[f]=u[f]}}return s};b.expand=async function(e,t){if(arguments.length<1){throw new TypeError("Could not expand, too few arguments.")}t=w(t,{keepFreeFloatingNodes:false,contextResolver:new _({sharedCache:m})});const r={};const i=[];if("expandContext"in t){const o=x.clone(t.expandContext);if(d(o)&&"@context"in o){r.expandContext=o}else{r.expandContext={"@context":o}}i.push(r.expandContext)}let n;if(!v(e)){r.input=x.clone(e)}else{const l=await b.get(e,t);n=l.documentUrl;r.input=l.document;if(l.contextUrl){r.remoteContext={"@context":l.contextUrl};i.push(r.remoteContext)}}if(!("base"in t)){t.base=n||""}let s=g(t);for(const u of i){s=await j({activeCtx:s,localCtx:u,options:t})}let a=await f({activeCtx:s,element:r.input,options:t});if(d(a)&&"@graph"in a&&Object.keys(a).length===1){a=a["@graph"]}else if(a===null){a=[]}if(!E(a)){a=[a]}return a};b.flatten=async function(e,t,r){if(arguments.length<1){return new TypeError("Could not flatten, too few arguments.")}if(typeof t==="function"){t=null}else{t=t||null}r=w(r,{base:v(e)?e:"",contextResolver:new _({sharedCache:m})});const i=await b.expand(e,r);const n=l(i);if(t===null){return n}r.graph=true;r.skipExpansion=true;const s=await b.compact(n,t,r);return s};b.frame=async function(e,t,r){if(arguments.length<2){throw new TypeError("Could not frame, too few arguments.")}r=w(r,{base:v(e)?e:"",embed:"@once",explicit:false,requireAll:false,omitDefault:false,bnodesToClear:[],contextResolver:new _({sharedCache:m})});if(v(t)){const c=await b.get(t,r);t=c.document;if(c.contextUrl){let e=t["@context"];if(!e){e=c.contextUrl}else if(E(e)){e.push(c.contextUrl)}else{e=[e,c.contextUrl]}t["@context"]=e}}const i=t?t["@context"]||{}:{};const n=await b.processContext(g(r),i,r);if(!r.hasOwnProperty("omitGraph")){r.omitGraph=S(n,1.1)}if(!r.hasOwnProperty("pruneBlankNodeIdentifiers")){r.pruneBlankNodeIdentifiers=S(n,1.1)}const s=await b.expand(e,r);const a={...r};a.isFrame=true;a.keepFreeFloatingNodes=true;const o=await b.expand(t,a);const l=Object.keys(t).map(e=>y(n,e,{vocab:true}));a.merged=!l.includes("@graph");a.is11=S(n,1.1);const u=p(s,o,a);a.graph=!r.omitGraph;a.skipExpansion=true;a.link={};a.framing=true;let f=await b.compact(u,i,a);a.link={};f=h(f,a);return f};b.link=async function(e,t,r){const i={};if(t){i["@context"]=t}i["@embed"]="@link";return b.frame(e,i,r)};b.normalize=b.canonize=async function(e,t){if(arguments.length<1){throw new TypeError("Could not canonize, too few arguments.")}t=w(t,{base:v(e)?e:null,algorithm:"URDNA2015",skipExpansion:false,safe:true,contextResolver:new _({sharedCache:m})});if("inputFormat"in t){if(t.inputFormat!=="application/n-quads"&&t.inputFormat!=="application/nquads"){throw new c("Unknown canonicalization input format.","jsonld.CanonizeError")}const n=o.parse(e);return a.canonize(n,t)}const r={...t};delete r.format;r.produceGeneralizedRdf=false;const i=await b.toRDF(e,r);return a.canonize(i,t)};b.fromRDF=async function(e,t){if(arguments.length<1){throw new TypeError("Could not convert from RDF, too few arguments.")}t=w(t,{format:v(e)?"application/n-quads":undefined});const{format:r}=t;let{rdfParser:i}=t;if(r){i=i||s[r];if(!i){throw new c("Unknown input format.","jsonld.UnknownFormat",{format:r})}}else{i=()=>e}const n=await i(e);return u(n,t)};b.toRDF=async function(e,t){if(arguments.length<1){throw new TypeError("Could not convert to RDF, too few arguments.")}t=w(t,{base:v(e)?e:"",skipExpansion:false,contextResolver:new _({sharedCache:m})});let r;if(t.skipExpansion){r=e}else{r=await b.expand(e,t)}const i=n(r,t);if(t.format){if(t.format==="application/n-quads"||t.format==="application/nquads"){return o.serialize(i)}throw new c("Unknown output format.","jsonld.UnknownFormat",{format:t.format})}return i};b.createNodeMap=async function(e,t){if(arguments.length<1){throw new TypeError("Could not create node map, too few arguments.")}t=w(t,{base:v(e)?e:"",contextResolver:new _({sharedCache:m})});const r=await b.expand(e,t);return C(r,t)};b.merge=async function(e,t,r){if(arguments.length<1){throw new TypeError("Could not merge, too few arguments.")}if(!E(e)){throw new TypeError('Could not merge, "docs" must be an array.')}if(typeof t==="function"){t=null}else{t=t||null}r=w(r,{contextResolver:new _({sharedCache:m})});const i=await Promise.all(e.map(e=>{const t={...r};return b.expand(e,t)}));let n=true;if("mergeNodes"in r){n=r.mergeNodes}const s=r.issuer||new k("_:b");const a={"@default":{}};for(let e=0;e<i.length;++e){const c=x.relabelBlankNodes(i[e],{issuer:new k("_:b"+e+"-")});const p=n||e===0?a:{"@default":{}};I(c,p,"@default",s);if(p!==a){for(const h in p){const d=p[h];if(!(h in a)){a[h]=d;continue}const v=a[h];for(const y in d){if(!(y in v)){v[y]=d[y]}}}}}const o=R(a);const l=[];const u=Object.keys(o).sort();for(let e=0;e<u.length;++e){const g=o[u[e]];if(!A(g)){l.push(g)}}if(t===null){return l}r.graph=true;r.skipExpansion=true;const f=await b.compact(l,t,r);return f};Object.defineProperty(b,"documentLoader",{get:()=>b._documentLoader,set:e=>b._documentLoader=e});b.documentLoader=async e=>{throw new c("Could not retrieve a JSON-LD document from the URL. URL "+"dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})};b.get=async function(e,t){let r;if(typeof t.documentLoader==="function"){r=t.documentLoader}else{r=b.documentLoader}const i=await r(e);try{if(!i.document){throw new c("No remote document found at the given URL.","jsonld.NullRemoteDocument")}if(v(i.document)){i.document=JSON.parse(i.document)}}catch(e){throw new c("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i};b.processContext=async function(e,t,r){r=w(r,{base:"",contextResolver:new _({sharedCache:m})});if(t===null){return g(r)}t=x.clone(t);if(!(d(t)&&"@context"in t)){t={"@context":t}}return j({activeCtx:e,localCtx:t,options:r})};b.getContextValue=t("./context").getContextValue;b.documentLoaders={};b.useDocumentLoader=function(e){if(!(e in b.documentLoaders)){throw new c('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e})}b.documentLoader=b.documentLoaders[e].apply(b,Array.prototype.slice.call(arguments,1))};b.registerRDFParser=function(e,t){s[e]=t};b.unregisterRDFParser=function(e){delete s[e]};b.registerRDFParser("application/n-quads",o.parse);b.registerRDFParser("application/nquads",o.parse);b.url=t("./url");b.logEventHandler=N;b.logWarningEventHandler=O;b.safeEventHandler=L;b.setDefaultEventHandler=D;b.strictEventHandler=Q;b.unhandledEventHandler=M;b.util=x;Object.assign(b,x);b.promises=b;b.RequestQueue=t("./RequestQueue");b.JsonLdProcessor=t("./JsonLdProcessor")(b);r.setupGlobals(b);r.setupDocumentLoaders(b);function w(e,{documentLoader:t=b.documentLoader,...r}){if(e&&"compactionMap"in e){throw new c('"compactionMap" not supported.',"jsonld.OptionsError")}if(e&&"expansionMap"in e){throw new c('"expansionMap" not supported.',"jsonld.OptionsError")}return Object.assign({},{documentLoader:t},r,e,{eventHandler:P({options:e})})}return b};const b=function(){return s(function(){return b()})};s(b);e.exports=b},{"./ContextResolver":41,"./JsonLdError":42,"./JsonLdProcessor":43,"./NQuads":44,"./RequestQueue":45,"./compact":47,"./context":49,"./events":51,"./expand":52,"./flatten":53,"./frame":54,"./fromRdf":55,"./graphTypes":56,"./nodeMap":58,"./platform":59,"./toRdf":60,"./types":61,"./url":62,"./util":63,"lru-cache":64,"rdf-canonize":82}],58:[function(e,t,r){"use strict";const{isKeyword:m}=e("./context");const w=e("./graphTypes");const x=e("./types");const _=e("./util");const k=e("./JsonLdError");const E={};t.exports=E;E.createMergedNodeMap=(e,t)=>{t=t||{};const r=t.issuer||new _.IdentifierIssuer("_:b");const i={"@default":{}};E.createNodeMap(e,i,"@default",r);return E.mergeNodeMaps(i)};E.createNodeMap=(r,i,n,s,a,e)=>{if(x.isArray(r)){for(const t of r){E.createNodeMap(t,i,n,s,undefined,e)}return}if(!x.isObject(r)){if(e){e.push(r)}return}if(w.isValue(r)){if("@type"in r){let e=r["@type"];if(e.indexOf("_:")===0){r["@type"]=e=s.getId(e)}}if(e){e.push(r)}return}else if(e&&w.isList(r)){const f=[];E.createNodeMap(r["@list"],i,n,s,a,f);e.push({"@list":f});return}if("@type"in r){const x=r["@type"];for(const c of x){if(c.indexOf("_:")===0){s.getId(c)}}}if(x.isUndefined(a)){a=w.isBlankNode(r)?s.getId(r["@id"]):r["@id"]}if(e){e.push({"@id":a})}const o=i[n];const l=o[a]=o[a]||{};l["@id"]=a;const u=Object.keys(r).sort();for(let t of u){if(t==="@id"){continue}if(t==="@reverse"){const h={"@id":a};const d=r["@reverse"];for(const v in d){const y=d[v];for(const g of y){let e=g["@id"];if(w.isBlankNode(g)){e=s.getId(e)}E.createNodeMap(g,i,n,s,e);_.addValue(o[e],v,h,{propertyIsArray:true,allowDuplicate:false})}}continue}if(t==="@graph"){if(!(a in i)){i[a]={}}E.createNodeMap(r[t],i,a,s);continue}if(t==="@included"){E.createNodeMap(r[t],i,n,s);continue}if(t!=="@type"&&m(t)){if(t==="@index"&&t in l&&(r[t]!==l[t]||r[t]["@id"]!==l[t]["@id"])){throw new k("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:l})}l[t]=r[t];continue}const p=r[t];if(t.indexOf("_:")===0){t=s.getId(t)}if(p.length===0){_.addValue(l,t,[],{propertyIsArray:true});continue}for(let e of p){if(t==="@type"){e=e.indexOf("_:")===0?s.getId(e):e}if(w.isSubject(e)||w.isSubjectReference(e)){if("@id"in e&&!e["@id"]){continue}const b=w.isBlankNode(e)?s.getId(e["@id"]):e["@id"];_.addValue(l,t,{"@id":b},{propertyIsArray:true,allowDuplicate:false});E.createNodeMap(e,i,n,s,b)}else if(w.isValue(e)){_.addValue(l,t,e,{propertyIsArray:true,allowDuplicate:false})}else if(w.isList(e)){const f=[];E.createNodeMap(e["@list"],i,n,s,a,f);e={"@list":f};_.addValue(l,t,e,{propertyIsArray:true,allowDuplicate:false})}else{E.createNodeMap(e,i,n,s,a);_.addValue(l,t,e,{propertyIsArray:true,allowDuplicate:false})}}}};E.mergeNodeMapGraphs=e=>{const t={};for(const r of Object.keys(e).sort()){for(const i of Object.keys(e[r]).sort()){const n=e[r][i];if(!(i in t)){t[i]={"@id":i}}const s=t[i];for(const a of Object.keys(n).sort()){if(m(a)&&a!=="@type"){s[a]=_.clone(n[a])}else{for(const o of n[a]){_.addValue(s,a,_.clone(o),{propertyIsArray:true,allowDuplicate:false})}}}}}return t};E.mergeNodeMaps=t=>{const r=t["@default"];const e=Object.keys(t).sort();for(const i of e){if(i==="@default"){continue}const n=t[i];let e=r[i];if(!e){r[i]=e={"@id":i,"@graph":[]}}else if(!("@graph"in e)){e["@graph"]=[]}const s=e["@graph"];for(const a of Object.keys(n).sort()){const o=n[a];if(!w.isSubjectReference(o)){s.push(o)}}}return r}},{"./JsonLdError":42,"./context":49,"./graphTypes":56,"./types":61,"./util":63}],59:[function(e,t,r){"use strict";const i=e("./documentLoaders/xhr");const n={};t.exports=n;n.setupDocumentLoaders=function(e){if(typeof XMLHttpRequest!=="undefined"){e.documentLoaders.xhr=i;e.useDocumentLoader("xhr")}};n.setupGlobals=function(e){if(typeof globalThis.JsonLdProcessor==="undefined"){Object.defineProperty(globalThis,"JsonLdProcessor",{writable:true,enumerable:false,configurable:true,value:e.JsonLdProcessor})}}},{"./documentLoaders/xhr":50}],60:[function(e,t,r){"use strict";const{createNodeMap:o}=e("./nodeMap");const{isKeyword:d}=e("./context");const p=e("./graphTypes");const h=e("canonicalize");const v=e("./JsonLdError");const y=e("./types");const l=e("./util");const{handleEvent:g}=e("./events");const{RDF_FIRST:b,RDF_REST:m,RDF_NIL:w,RDF_TYPE:x,RDF_JSON_LITERAL:_,RDF_LANGSTRING:k,XSD_BOOLEAN:E,XSD_DOUBLE:A,XSD_INTEGER:j,XSD_STRING:S}=e("./constants");const{isAbsolute:T}=e("./url");const i={};t.exports=i;i.toRDF=(e,t)=>{const r=new l.IdentifierIssuer("_:b");const i={"@default":{}};o(e,i,"@default",r);const n=[];const s=Object.keys(i).sort();for(const a of s){let e;if(a==="@default"){e={termType:"DefaultGraph",value:""}}else if(T(a)){if(a.startsWith("_:")){e={termType:"BlankNode"}}else{e={termType:"NamedNode"}}e.value=a}else{if(t.eventHandler){g({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:a}},options:t})}continue}u(n,i[a],e,r,t)}return n};function u(e,t,r,i,n){const s=Object.keys(t).sort();for(const a of s){const o=t[a];const l=Object.keys(o).sort();for(let t of l){const u=o[t];if(t==="@type"){t=x}else if(d(t)){continue}for(const f of u){const c={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!T(a)){if(n.eventHandler){g({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:a}},options:n})}continue}const p={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!T(t)){if(n.eventHandler){g({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:t}},options:n})}continue}if(p.termType==="BlankNode"&&!n.produceGeneralizedRdf){if(n.eventHandler){g({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:i.getOldIds().find(e=>i.getId(e)===t)}},options:n})}continue}const h=I(f,i,e,r,n.rdfDirection,n);if(h){e.push({subject:c,predicate:p,object:h,graph:r})}}}}}function F(e,t,r,i,n,s){const a={termType:"NamedNode",value:b};const o={termType:"NamedNode",value:m};const l={termType:"NamedNode",value:w};const u=e.pop();const f=u?{termType:"BlankNode",value:t.getId()}:l;let c=f;for(const p of e){const h=I(p,t,r,i,n,s);const d={termType:"BlankNode",value:t.getId()};r.push({subject:c,predicate:a,object:h,graph:i});r.push({subject:c,predicate:o,object:d,graph:i});c=d}if(u){const h=I(u,t,r,i,n,s);r.push({subject:c,predicate:a,object:h,graph:i});r.push({subject:c,predicate:o,object:l,graph:i})}return f}function I(t,e,r,i,n,s){const a={};if(p.isValue(t)){a.termType="Literal";a.value=undefined;a.datatype={termType:"NamedNode"};let e=t["@value"];const o=t["@type"]||null;if(o==="@json"){a.value=h(e);a.datatype.value=_}else if(y.isBoolean(e)){a.value=e.toString();a.datatype.value=o||E}else if(y.isDouble(e)||o===A){if(!y.isDouble(e)){e=parseFloat(e)}a.value=e.toExponential(15).replace(/(\d)0*e\+?/,"$1E");a.datatype.value=o||A}else if(y.isNumber(e)){a.value=e.toFixed(0);a.datatype.value=o||j}else if("@direction"in t&&n==="i18n-datatype"){const l=(t["@language"]||"").toLowerCase();const u=t["@direction"];const o=`https://www.w3.org/ns/i18n#${l}_${u}`;a.datatype.value=o;a.value=e}else if("@direction"in t&&n==="compound-literal"){throw new v("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:n})}else if("@direction"in t&&n){throw new v("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:n})}else if("@language"in t){if("@direction"in t&&!n){if(s.eventHandler){g({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:s})}}a.value=e;a.datatype.value=o||k;a.language=t["@language"]}else{if("@direction"in t&&!n){if(s.eventHandler){g({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:a.value}},options:s})}}a.value=e;a.datatype.value=o||S}}else if(p.isList(t)){const f=F(t["@list"],e,r,i,n,s);a.termType=f.termType;a.value=f.value}else{const c=y.isObject(t)?t["@id"]:t;a.termType=c.startsWith("_:")?"BlankNode":"NamedNode";a.value=c}if(a.termType==="NamedNode"&&!T(a.value)){if(s.eventHandler){g({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:a.value}},options:s})}return null}return a}},{"./JsonLdError":42,"./constants":48,"./context":49,"./events":51,"./graphTypes":56,"./nodeMap":58,"./types":61,"./url":62,"./util":63,canonicalize:12}],61:[function(e,t,r){"use strict";const i={};t.exports=i;i.isArray=Array.isArray;i.isBoolean=e=>typeof e==="boolean"||Object.prototype.toString.call(e)==="[object Boolean]";i.isDouble=e=>i.isNumber(e)&&(String(e).indexOf(".")!==-1||Math.abs(e)>=1e21);i.isEmptyObject=e=>i.isObject(e)&&Object.keys(e).length===0;i.isNumber=e=>typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]";i.isNumeric=e=>!isNaN(parseFloat(e))&&isFinite(e);i.isObject=e=>Object.prototype.toString.call(e)==="[object Object]";i.isString=e=>typeof e==="string"||Object.prototype.toString.call(e)==="[object String]";i.isUndefined=e=>typeof e==="undefined"},{}],62:[function(e,t,r){"use strict";const l=e("./types");const u={};t.exports=u;u.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};u.parse=(e,t)=>{const r={};const i=u.parsers[t||"full"];const n=i.regex.exec(e);let s=i.keys.length;while(s--){r[i.keys[s]]=n[s]===undefined?null:n[s]}if(r.scheme==="https"&&r.port==="443"||r.scheme==="http"&&r.port==="80"){r.href=r.href.replace(":"+r.port,"");r.authority=r.authority.replace(":"+r.port,"");r.port=null}r.normalizedPath=u.removeDotSegments(r.path);return r};u.prependBase=(t,e)=>{if(t===null){return e}if(u.isAbsolute(e)){return e}if(!t||l.isString(t)){t=u.parse(t||"")}const r=u.parse(e);const i={protocol:t.protocol||""};if(r.authority!==null){i.authority=r.authority;i.path=r.path;i.query=r.query}else{i.authority=t.authority;if(r.path===""){i.path=t.path;if(r.query!==null){i.query=r.query}else{i.query=t.query}}else{if(r.path.indexOf("/")===0){i.path=r.path}else{let e=t.path;e=e.substr(0,e.lastIndexOf("/")+1);if((e.length>0||t.authority)&&e.substr(-1)!=="/"){e+="/"}e+=r.path;i.path=e}i.query=r.query}}if(r.path!==""){i.path=u.removeDotSegments(i.path)}let n=i.protocol;if(i.authority!==null){n+="//"+i.authority}n+=i.path;if(i.query!==null){n+="?"+i.query}if(r.fragment!==null){n+="#"+r.fragment}if(n===""){n="./"}return n};u.removeBase=(e,t)=>{if(e===null){return t}if(!e||l.isString(e)){e=u.parse(e||"")}let r="";if(e.href!==""){r+=(e.protocol||"")+"//"+(e.authority||"")}else if(t.indexOf("//")){r+="//"}if(t.indexOf(r)!==0){return t}const i=u.parse(t.substr(r.length));const n=e.normalizedPath.split("/");const s=i.normalizedPath.split("/");const a=i.fragment||i.query?0:1;while(n.length>0&&s.length>a){if(n[0]!==s[0]){break}n.shift();s.shift()}let o="";if(n.length>0){n.pop();for(let e=0;e<n.length;++e){o+="../"}}o+=s.join("/");if(i.query!==null){o+="?"+i.query}if(i.fragment!==null){o+="#"+i.fragment}if(o===""){o="./"}return o};u.removeDotSegments=e=>{if(e.length===0){return""}const t=e.split("/");const r=[];while(t.length>0){const i=t.shift();const n=t.length===0;if(i==="."){if(n){r.push("")}continue}if(i===".."){r.pop();if(n){r.push("")}continue}r.push(i)}if(e[0]==="/"&&r.length>0&&r[0]!==""){r.unshift("")}if(r.length===1&&r[0]===""){return"/"}return r.join("/")};const i=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;u.isAbsolute=e=>l.isString(e)&&i.test(e);u.isRelative=e=>l.isString(e)},{"./types":61}],63:[function(e,t,r){"use strict";const s=e("./graphTypes");const a=e("./types");const i=e("rdf-canonize").IdentifierIssuer;const n=e("./JsonLdError");const o=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/;const l=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g;const u=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/;const f=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g;const c=/^@[a-zA-Z]+$/;const p={headers:{accept:"application/ld+json, application/json"}};const h={};t.exports=h;h.IdentifierIssuer=i;h.REGEX_BCP47=o;h.REGEX_KEYWORD=c;h.clone=function(r){if(r&&typeof r==="object"){let t;if(a.isArray(r)){t=[];for(let e=0;e<r.length;++e){t[e]=h.clone(r[e])}}else if(r instanceof Map){t=new Map;for(const[e,i]of r){t.set(e,h.clone(i))}}else if(r instanceof Set){t=new Set;for(const i of r){t.add(h.clone(i))}}else if(a.isObject(r)){t={};for(const n in r){t[n]=h.clone(r[n])}}else{t=r.toString()}return t}return r};h.asArray=function(e){return Array.isArray(e)?e:[e]};h.buildHeaders=(e={})=>{const t=Object.keys(e).some(e=>e.toLowerCase()==="accept");if(t){throw new RangeError('Accept header may not be specified; only "'+p.headers.accept+'" is supported.')}return Object.assign({Accept:p.headers.accept},e)};h.parseLinkHeader=e=>{const r={};const i=e.match(l);for(let t=0;t<i.length;++t){let e=i[t].match(u);if(!e){continue}const n={target:e[1]};const s=e[2];while(e=f.exec(s)){n[e[1]]=e[2]===undefined?e[3]:e[2]}const a=n.rel||"";if(Array.isArray(r[a])){r[a].push(n)}else if(r.hasOwnProperty(a)){r[a]=[r[a],n]}else{r[a]=n}}return r};h.validateTypeValue=(e,t)=>{if(a.isString(e)){return}if(a.isArray(e)&&e.every(e=>a.isString(e))){return}if(t&&a.isObject(e)){switch(Object.keys(e).length){case 0:return;case 1:if("@default"in e&&h.asArray(e["@default"]).every(e=>a.isString(e))){return}}}throw new n('Invalid JSON-LD syntax; "@type" value must a string, an array of '+"strings, an empty object, "+"or a default object.","jsonld.SyntaxError",{code:"invalid type value",value:e})};h.hasProperty=(e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!a.isArray(r)||r.length>0}return false};h.hasValue=(e,r,i)=>{if(h.hasProperty(e,r)){let t=e[r];const n=s.isList(t);if(a.isArray(t)||n){if(n){t=t["@list"]}for(let e=0;e<t.length;++e){if(h.compareValues(i,t[e])){return true}}}else if(!a.isArray(i)){return h.compareValues(i,t)}}return false};h.addValue=(t,r,i,n)=>{n=n||{};if(!("propertyIsArray"in n)){n.propertyIsArray=false}if(!("valueIsArray"in n)){n.valueIsArray=false}if(!("allowDuplicate"in n)){n.allowDuplicate=true}if(!("prependValue"in n)){n.prependValue=false}if(n.valueIsArray){t[r]=i}else if(a.isArray(i)){if(i.length===0&&n.propertyIsArray&&!t.hasOwnProperty(r)){t[r]=[]}if(n.prependValue){i=i.concat(t[r]);t[r]=[]}for(let e=0;e<i.length;++e){h.addValue(t,r,i[e],n)}}else if(t.hasOwnProperty(r)){const e=!n.allowDuplicate&&h.hasValue(t,r,i);if(!a.isArray(t[r])&&(!e||n.propertyIsArray)){t[r]=[t[r]]}if(!e){if(n.prependValue){t[r].unshift(i)}else{t[r].push(i)}}}else{t[r]=n.propertyIsArray?[i]:i}};h.getValues=(e,t)=>[].concat(e[t]||[]);h.removeProperty=(e,t)=>{delete e[t]};h.removeValue=(e,t,r,i)=>{i=i||{};if(!("propertyIsArray"in i)){i.propertyIsArray=false}const n=h.getValues(e,t).filter(e=>!h.compareValues(e,r));if(n.length===0){h.removeProperty(e,t)}else if(n.length===1&&!i.propertyIsArray){e[t]=n[0]}else{e[t]=n}};h.relabelBlankNodes=(e,t)=>{t=t||{};const r=t.issuer||new i("_:b");return d(r,e)};h.compareValues=(e,t)=>{if(e===t){return true}if(s.isValue(e)&&s.isValue(t)&&e["@value"]===t["@value"]&&e["@type"]===t["@type"]&&e["@language"]===t["@language"]&&e["@index"]===t["@index"]){return true}if(a.isObject(e)&&"@id"in e&&a.isObject(t)&&"@id"in t){return e["@id"]===t["@id"]}return false};h.compareShortestLeast=(e,t)=>{if(e.length<t.length){return-1}if(t.length<e.length){return 1}if(e===t){return 0}return e<t?-1:1};function d(t,r){if(a.isArray(r)){for(let e=0;e<r.length;++e){r[e]=d(t,r[e])}}else if(s.isList(r)){r["@list"]=d(t,r["@list"])}else if(a.isObject(r)){if(s.isBlankNode(r)){r["@id"]=t.getId(r["@id"])}const i=Object.keys(r).sort();for(let e=0;e<i.length;++e){const n=i[e];if(n!=="@id"){r[n]=d(t,r[n])}}}return r}},{"./JsonLdError":42,"./graphTypes":56,"./types":61,"rdf-canonize":82}],64:[function(e,t,r){"use strict";const i=e("yallist");const l=Symbol("max");const u=Symbol("length");const f=Symbol("lengthCalculator");const s=Symbol("allowStale");const c=Symbol("maxAge");const p=Symbol("dispose");const h=Symbol("noDisposeOnSet");const d=Symbol("lruList");const v=Symbol("cache");const a=Symbol("updateAgeOnGet");const n=()=>1;class o{constructor(e){if(typeof e==="number")e={max:e};if(!e)e={};if(e.max&&(typeof e.max!=="number"||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[l]=e.max||Infinity;const r=e.length||n;this[f]=typeof r!=="function"?n:r;this[s]=e.stale||false;if(e.maxAge&&typeof e.maxAge!=="number")throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0;this[p]=e.dispose;this[h]=e.noDisposeOnSet||false;this[a]=e.updateAgeOnGet||false;this.reset()}set max(e){if(typeof e!=="number"||e<0)throw new TypeError("max must be a non-negative number");this[l]=e||Infinity;b(this)}get max(){return this[l]}set allowStale(e){this[s]=!!e}get allowStale(){return this[s]}set maxAge(e){if(typeof e!=="number")throw new TypeError("maxAge must be a non-negative number");this[c]=e;b(this)}get maxAge(){return this[c]}set lengthCalculator(e){if(typeof e!=="function")e=n;if(e!==this[f]){this[f]=e;this[u]=0;this[d].forEach(e=>{e.length=this[f](e.value,e.key);this[u]+=e.length})}b(this)}get lengthCalculator(){return this[f]}get length(){return this[u]}get itemCount(){return this[d].length}rforEach(t,r){r=r||this;for(let e=this[d].tail;e!==null;){const i=e.prev;x(this,t,e,r);e=i}}forEach(t,r){r=r||this;for(let e=this[d].head;e!==null;){const i=e.next;x(this,t,e,r);e=i}}keys(){return this[d].toArray().map(e=>e.key)}values(){return this[d].toArray().map(e=>e.value)}reset(){if(this[p]&&this[d]&&this[d].length){this[d].forEach(e=>this[p](e.key,e.value))}this[v]=new Map;this[d]=new i;this[u]=0}dump(){return this[d].map(e=>g(this,e)?false:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[d]}set(e,t,r){r=r||this[c];if(r&&typeof r!=="number")throw new TypeError("maxAge must be a number");const i=r?Date.now():0;const n=this[f](t,e);if(this[v].has(e)){if(n>this[l]){m(this,this[v].get(e));return false}const a=this[v].get(e);const o=a.value;if(this[p]){if(!this[h])this[p](e,o.value)}o.now=i;o.maxAge=r;o.value=t;this[u]+=n-o.length;o.length=n;this.get(e);b(this);return true}const s=new w(e,t,n,i,r);if(s.length>this[l]){if(this[p])this[p](e,t);return false}this[u]+=s.length;this[d].unshift(s);this[v].set(e,this[d].head);b(this);return true}has(e){if(!this[v].has(e))return false;const t=this[v].get(e).value;return!g(this,t)}get(e){return y(this,e,true)}peek(e){return y(this,e,false)}pop(){const e=this[d].tail;if(!e)return null;m(this,e);return e.value}del(e){m(this,this[v].get(e))}load(t){this.reset();const r=Date.now();for(let e=t.length-1;e>=0;e--){const i=t[e];const n=i.e||0;if(n===0)this.set(i.k,i.v);else{const s=n-r;if(s>0){this.set(i.k,i.v,s)}}}}prune(){this[v].forEach((e,t)=>y(this,t,false))}}const y=(e,t,r)=>{const i=e[v].get(t);if(i){const n=i.value;if(g(e,n)){m(e,i);if(!e[s])return undefined}else{if(r){if(e[a])i.value.now=Date.now();e[d].unshiftNode(i)}}return n.value}};const g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return false;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[c]&&r>e[c]};const b=t=>{if(t[u]>t[l]){for(let e=t[d].tail;t[u]>t[l]&&e!==null;){const r=e.prev;m(t,e);e=r}}};const m=(e,t)=>{if(t){const r=t.value;if(e[p])e[p](r.key,r.value);e[u]-=r.length;e[v].delete(r.key);e[d].removeNode(t)}};class w{constructor(e,t,r,i,n){this.key=e;this.value=t;this.length=r;this.now=i;this.maxAge=n||0}}const x=(e,t,r,i)=>{let n=r.value;if(g(e,n)){m(e,r);if(!e[s])n=undefined}if(n)t.call(i,n.value,n.key,e)};t.exports=o},{yallist:137}],65:[function(e,t,r){var i=e;e=function(){};var r=t.exports={Lexer:e("./lib/N3Lexer"),Parser:e("./lib/N3Parser"),Writer:e("./lib/N3Writer"),Store:e("./lib/N3Store"),StreamParser:e("./lib/N3StreamParser"),StreamWriter:e("./lib/N3StreamWriter"),Util:e("./lib/N3Util")};Object.keys(r).forEach(function(e){Object.defineProperty(r,e,{configurable:true,enumerable:true,get:function(){delete r[e];return r[e]=i("./lib/N3"+e)}})})},{"./lib/N3Lexer":66,"./lib/N3Parser":67,"./lib/N3Store":68,"./lib/N3StreamParser":69,"./lib/N3StreamWriter":70,"./lib/N3Util":71,"./lib/N3Writer":72}],66:[function(e,i,t){(function(e){(function(){var a=String.fromCharCode;var s=typeof e==="function"?e:function e(t){setTimeout(t,0)};var t=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g;var o={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"};var g=/[\x00-\x20<>\\"\{\}\|\^\`]/;function r(e){if(!(this instanceof r))return new r(e);e=e||{};if(e.lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var i=this;this._tokenize=this.tokenize;this.tokenize=function(e,r){this._tokenize(e,function(e,t){if(!e&&/^(?:IRI|blank|literal|langcode|typeIRI|\.|eof)$/.test(t.type))r&&r(e,t);else r&&r(e||i._syntaxError(t.type,r=null))})}}this._n3Mode=e.n3!==false;this._comments=!!e.comments}r.prototype={_iri:/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,_unescapedString:/^"[^"\\\r\n]+"/,_singleQuotedString:/^"(?:[^"\\\r\n]|\\.)*"(?=[^"])|^'(?:[^'\\\r\n]|\\.)*'(?=[^'])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,_variable:/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/i,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_comment:/#([^\n\r]*)/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(t,e){var r=this._input,i=this._comments;while(true){var n,s;while(n=this._newline.exec(r)){if(i&&(s=this._comment.exec(n[0])))t(null,{line:this._line,type:"comment",value:s[1],prefix:""});r=r.substr(n[0].length,r.length);this._line++}if(n=this._whitespace.exec(r))r=r.substr(n[0].length,r.length);if(this._endOfFile.test(r)){if(e){if(i&&(s=this._comment.exec(r)))t(null,{line:this._line,type:"comment",value:s[1],prefix:""});t(r=null,{line:this._line,type:"eof",value:"",prefix:""})}return this._input=r}var a=this._line,o="",l="",u="",f=r[0],c=null,p=0,h,d=false;switch(f){case"^":if(r.length<3)break;else if(r[1]==="^"){this._previousMarker="^^";r=r.substr(2);if(r[0]!=="<"){d=true;break}}else{if(this._n3Mode){p=1;o="^"}break}case"<":if(c=this._unescapedIri.exec(r))o="IRI",l=c[1];else if(c=this._iri.exec(r)){h=this._unescape(c[1]);if(h===null||g.test(h))return y(this);o="IRI",l=h}else if(this._n3Mode&&r.length>1&&r[1]==="=")o="inverse",p=2,l="http://www.w3.org/2000/10/swap/log#implies";break;case"_":if((c=this._blank.exec(r))||e&&(c=this._blank.exec(r+" ")))o="blank",u="_",l=c[1];break;case'"':case"'":if(c=this._unescapedString.exec(r))o="literal",l=c[0];else if(c=this._singleQuotedString.exec(r)){h=this._unescape(c[0]);if(h===null)return y(this);o="literal",l=h.replace(/^'|'$/g,'"')}else if(c=this._tripleQuotedString.exec(r)){h=c[1]||c[2];this._line+=h.split(/\r\n|\r|\n/).length-1;h=this._unescape(h);if(h===null)return y(this);o="literal",l=h.replace(/^'|'$/g,'"')}break;case"?":if(this._n3Mode&&(c=this._variable.exec(r)))o="var",l=c[0];break;case"@":if(this._previousMarker==="literal"&&(c=this._langcode.exec(r)))o="langcode",l=c[1];else if(c=this._keyword.exec(r))o=c[0];break;case".":if(r.length===1?e:r[1]<"0"||r[1]>"9"){o=".";p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":if(c=this._number.exec(r)||e&&(c=this._number.exec(r+" "))){o="literal";l='"'+c[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(c[1]?"double":/^[+\-]?\d+$/.test(c[0])?"integer":"decimal")}break;case"B":case"b":case"p":case"P":case"G":case"g":if(c=this._sparqlKeyword.exec(r))o=c[0].toUpperCase();else d=true;break;case"f":case"t":if(c=this._boolean.exec(r))o="literal",l='"'+c[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean';else d=true;break;case"a":if(c=this._shortPredicates.exec(r))o="abbreviation",l="http://www.w3.org/1999/02/22-rdf-syntax-ns#type";else d=true;break;case"=":if(this._n3Mode&&r.length>1){o="abbreviation";if(r[1]!==">")p=1,l="http://www.w3.org/2002/07/owl#sameAs";else p=2,l="http://www.w3.org/2000/10/swap/log#implies"}break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":p=1;o=f;break;default:d=true}if(d){if((this._previousMarker==="@prefix"||this._previousMarker==="PREFIX")&&(c=this._prefix.exec(r)))o="prefix",l=c[1]||"";else if((c=this._prefixed.exec(r))||e&&(c=this._prefixed.exec(r+" ")))o="prefixed",u=c[1]||"",l=this._unescape(c[2])}if(this._previousMarker==="^^"){switch(o){case"prefixed":o="type";break;case"IRI":o="typeIRI";break;default:o=""}}if(!o){if(e||!/^'''|^"""/.test(r)&&/\n|\r/.test(r))return y(this);else return this._input=r}var v={line:a,type:o,value:l,prefix:u};t(null,v);this.previousToken=v;this._previousMarker=o;r=r.substr(p||c[0].length,r.length)}function y(e){t(e._syntaxError(/^\S*/.exec(r)[0]))}},_unescape:function(e){try{return e.replace(t,function(e,t,r,i){var n;if(t){n=parseInt(t,16);if(isNaN(n))throw new Error;return a(n)}else if(r){n=parseInt(r,16);if(isNaN(n))throw new Error;if(n<=65535)return a(n);return a(55296+(n-=65536)/1024,56320+(n&1023))}else{var s=o[i];if(!s)throw new Error;return s}})}catch(e){return null}},_syntaxError:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");t.context={token:undefined,line:this._line,previousToken:this.previousToken};return t},tokenize:function(e,t){var r=this;this._line=1;if(typeof e==="string"){this._input=e;if(typeof t==="function")s(function(){r._tokenizeToEnd(t,true)});else{var i=[],n;this._tokenizeToEnd(function(e,t){e?n=e:i.push(t)},true);if(n)throw n;return i}}else{this._input="";if(typeof e.setEncoding==="function")e.setEncoding("utf8");e.on("data",function(e){if(r._input!==null){r._input+=e;r._tokenizeToEnd(t,false)}});e.on("end",function(){if(r._input!==null)r._tokenizeToEnd(t,true)});e.on("error",t)}}};i.exports=r}).call(this)}).call(this,e("timers").setImmediate)},{timers:131}],67:[function(e,t,r){var l=e("./N3Lexer");var i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",u=i+"nil",f=i+"first",c=i+"rest";var n="urn:n3:quantifiers";var s=/^[a-z][a-z0-9+.-]*:/i,a=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,o=/(?:^|\/)\.\.?(?:$|[\/#?])/;var p=0,h=0;function d(e){if(!(this instanceof d))return new d(e);this._contextStack=[];this._graph=null;e=e||{};this._setBase(e.documentIRI);var t=typeof e.format==="string"?e.format.match(/\w*$/)[0].toLowerCase():"",r=t==="turtle",i=t==="trig",n=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),o=n||s;if(!(this._supportsNamedGraphs=!(r||a)))this._readPredicateOrNamedGraph=this._readPredicate;this._supportsQuads=!(r||i||n||a);if(o){this._base="";this._resolveIRI=function(e){this._error("Disallowed relative IRI",e);return this._callback=v,this._subject=null}}this._blankNodePrefix=typeof e.blankNodePrefix!=="string"?"":"_:"+e.blankNodePrefix.replace(/^_:/,"");this._lexer=e.lexer||new l({lineMode:o,n3:a});this._explicitQuantifiers=!!e.explicitQuantifiers}d._resetBlankNodeIds=function(){p=h=0};d.prototype={_setBase:function(e){if(!e)this._base=null;else{var t=e.indexOf("#");if(t>=0)e=e.substr(0,t);this._base=e;this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,"");e=e.match(a);this._baseRoot=e[0];this._baseScheme=e[1]}},_saveContext:function(e,t,r,i,n){var s=this._n3Mode;this._contextStack.push({subject:r,predicate:i,object:n,graph:t,type:e,inverse:s?this._inversePredicate:false,blankPrefix:s?this._prefixes._:"",quantified:s?this._quantified:null});if(s){this._inversePredicate=false;this._prefixes._=this._graph+".";this._quantified=Object.create(this._quantified)}},_restoreContext:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject;this._predicate=e.predicate;this._object=e.object;this._graph=e.graph;if(t){this._inversePredicate=e.inverse;this._prefixes._=e.blankPrefix;this._quantified=e.quantified}},_readInTopContext:function(e){switch(e.type){case"eof":if(this._graph!==null)return this._error("Unclosed graph",e);delete this._prefixes._;return this._callback(null,null,this._prefixes);case"PREFIX":this._sparqlStyle=true;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=true;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs){this._graph="";this._subject=null;return this._readSubject}case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readEntity:function(e,t){var r;switch(e.type){case"IRI":case"typeIRI":r=this._base===null||s.test(e.value)?e.value:this._resolveIRI(e);break;case"type":case"blank":case"prefixed":var i=this._prefixes[e.prefix];if(i===undefined)return this._error('Undefined prefix "'+e.prefix+':"',e);r=i+e.value;break;case"var":return e.value;default:return this._error("Expected entity but got "+e.type,e)}if(!t&&this._n3Mode&&r in this._quantified)r=this._quantified[r];return r},_readSubject:function(e){this._predicate=null;switch(e.type){case"[":this._saveContext("blank",this._graph,this._subject="_:b"+h++,null,null);return this._readBlankNodeHead;case"(":this._saveContext("list",this._graph,u,null,null);this._subject=null;return this._readListItem;case"{":if(!this._n3Mode)return this._error("Unexpected graph",e);this._saveContext("formula",this._graph,this._graph="_:b"+h++,null,null);return this._readSubject;case"}":return this._readPunctuation(e);case"@forSome":if(!this._n3Mode)return this._error('Unexpected "@forSome"',e);this._subject=null;this._predicate="http://www.w3.org/2000/10/swap/reify#forSome";this._quantifiedPrefix="_:b";return this._readQuantifierList;case"@forAll":if(!this._n3Mode)return this._error('Unexpected "@forAll"',e);this._subject=null;this._predicate="http://www.w3.org/2000/10/swap/reify#forAll";this._quantifiedPrefix="?b-";return this._readQuantifierList;default:if((this._subject=this._readEntity(e))===undefined)return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=true;case"abbreviation":this._predicate=e.value;break;case".":case"]":case"}":if(this._predicate===null)return this._error("Unexpected "+t,e);this._subject=null;return t==="]"?this._readBlankNodeTail(e):this._readPunctuation(e);case";":return this._predicate!==null?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if((this._predicate=this._readEntity(e))===undefined)return}return this._readObject},_readObject:function(e){switch(e.type){case"literal":this._object=e.value;return this._readDataTypeOrLang;case"[":this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject="_:b"+h++);return this._readBlankNodeHead;case"(":this._saveContext("list",this._graph,this._subject,this._predicate,u);this._subject=null;return this._readListItem;case"{":if(!this._n3Mode)return this._error("Unexpected graph",e);this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph="_:b"+h++);return this._readSubject;default:if((this._object=this._readEntity(e))===undefined)return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()},_readPredicateOrNamedGraph:function(e){return e.type==="{"?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){if(e.type!=="{")return this._error("Expected graph but got "+e.type,e);this._graph=this._subject,this._subject=null;return this._readSubject},_readBlankNodeHead:function(e){if(e.type==="]"){this._subject=null;return this._readBlankNodeTail(e)}else{this._predicate=null;return this._readPredicate(e)}},_readBlankNodeTail:function(e){if(e.type!=="]")return this._readBlankNodePunctuation(e);if(this._subject!==null)this._triple(this._subject,this._predicate,this._object,this._graph);var t=this._predicate===null;this._restoreContext();if(this._object===null)return t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank;else return this._getContextEndReader()},_readPredicateAfterBlank:function(e){if(e.type==="."&&!this._contextStack.length){this._subject=null;return this._readPunctuation(e)}return this._readPredicate(e)},_readListItem:function(e){var t=null,r=null,i=this._subject,n=this._contextStack,s=n[n.length-1],a=this._readListItem,o=true;switch(e.type){case"[":this._saveContext("blank",this._graph,r="_:b"+h++,f,this._subject=t="_:b"+h++);a=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r="_:b"+h++,f,u);this._subject=null;break;case")":this._restoreContext();if(n.length!==0&&n[n.length-1].type==="list")this._triple(this._subject,this._predicate,this._object,this._graph);if(this._predicate===null){a=this._readPredicate;if(this._subject===u)return a}else{a=this._getContextEndReader();if(this._object===u)return a}r=u;break;case"literal":t=e.value;o=false;a=this._readListItemDataTypeOrLang;break;default:if((t=this._readEntity(e))===undefined)return}if(r===null)this._subject=r="_:b"+h++;if(i===null){if(s.predicate===null)s.subject=r;else s.object=r}else{this._triple(i,c,r,this._graph)}if(t!==null){if(this._n3Mode&&(e.type==="IRI"||e.type==="prefixed")){this._saveContext("item",this._graph,r,f,t);this._subject=t,this._predicate=null;return this._getPathReader(this._readListItem)}if(o)this._triple(r,f,t,this._graph);else this._object=t}return a},_readDataTypeOrLang:function(e){return this._completeLiteral(e,false)},_readListItemDataTypeOrLang:function(e){return this._completeLiteral(e,true)},_completeLiteral:function(e,t){var r=false;switch(e.type){case"type":case"typeIRI":var i=this._readEntity(e);if(i===undefined)return;r=true;this._object+="^^"+i;break;case"langcode":r=true;this._object+="@"+e.value.toLowerCase();break}if(t)this._triple(this._subject,f,this._object,this._graph);if(r)return this._getContextEndReader();else{this._readCallback=this._getContextEndReader();return this._readCallback(e)}},_readFormulaTail:function(e){if(e.type!=="}")return this._readPunctuation(e);if(this._subject!==null)this._triple(this._subject,this._predicate,this._object,this._graph);this._restoreContext();return this._object===null?this._readPredicate:this._getContextEndReader()},_readPunctuation:function(e){var t,r=this._subject,i=this._graph,n=this._inversePredicate;switch(e.type){case"}":if(this._graph===null)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null;t=this._contextStack.length?this._readSubject:this._readInTopContext;if(n)this._inversePredicate=false;break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&this._graph===null&&(i=this._readEntity(e))!==undefined){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object+'"',e)}if(r!==null){var s=this._predicate,a=this._object;if(!n)this._triple(r,s,a,i);else this._triple(a,s,r,i)}return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}this._triple(this._subject,this._predicate,this._object,this._graph);return t},_readQuadPunctuation:function(e){if(e.type!==".")return this._error("Expected dot to follow quad",e);return this._readInTopContext},_readPrefix:function(e){if(e.type!=="prefix")return this._error("Expected prefix to follow @prefix",e);this._prefix=e.value;return this._readPrefixIRI},_readPrefixIRI:function(e){if(e.type!=="IRI")return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);this._prefixes[this._prefix]=t;this._prefixCallback(this._prefix,t);return this._readDeclarationPunctuation},_readBaseIRI:function(e){if(e.type!=="IRI")return this._error("Expected IRI to follow base declaration",e);this._setBase(this._base===null||s.test(e.value)?e.value:this._resolveIRI(e));return this._readDeclarationPunctuation},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){if(e.type!=="]")return this._error("Invalid graph label",e);this._subject="_:b"+h++;return this._readGraph},_readDeclarationPunctuation:function(e){if(this._sparqlStyle){this._sparqlStyle=false;return this._readInTopContext(e)}if(e.type!==".")return this._error("Expected declaration to end with a dot",e);return this._readInTopContext},_readQuantifierList:function(e){var t;switch(e.type){case"IRI":case"prefixed":if((t=this._readEntity(e,true))!==undefined)break;default:return this._error("Unexpected "+e.type,e)}if(!this._explicitQuantifiers)this._quantified[t]=this._quantifiedPrefix+h++;else{if(this._subject===null)this._triple(this._graph||"",this._predicate,this._subject="_:b"+h++,n);else this._triple(this._subject,c,this._subject="_:b"+h++,n);this._triple(this._subject,f,t,n)}return this._readQuantifierPunctuation},_readQuantifierPunctuation:function(e){if(e.type===",")return this._readQuantifierList;else{if(this._explicitQuantifiers){this._triple(this._subject,c,u,n);this._subject=null}this._readCallback=this._getContextEndReader();return this._readCallback(e)}},_getPathReader:function(e){this._afterPath=e;return this._readPath},_readPath:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&r.type==="item"){var i=this._subject;this._restoreContext();this._triple(this._subject,f,i,this._graph)}return this._afterPath(e)}},_readForwardPath:function(e){var t,r,i="_:b"+h++;if((r=this._readEntity(e))===undefined)return;if(this._predicate===null)t=this._subject,this._subject=i;else t=this._object,this._object=i;this._triple(t,r,i,this._graph);return this._readPath},_readBackwardPath:function(e){var t="_:b"+h++,r,i;if((r=this._readEntity(e))===undefined)return;if(this._predicate===null)i=this._subject,this._subject=t;else i=this._object,this._object=t;this._triple(t,r,i,this._graph);return this._readPath},_getContextEndReader:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}},_triple:function(e,t,r,i){this._callback(null,{subject:e,predicate:t,object:r,graph:i||""})},_error:function(e,t){var r=new Error(e+" on line "+t.line+".");r.context={token:t,line:t.line,previousToken:this._lexer.previousToken};this._callback(r);this._callback=v},_resolveIRI:function(e){var t=e.value;switch(t[0]){case undefined:return this._base;case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return(t[1]==="/"?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return this._removeDotSegments(this._basePath+t)}},_removeDotSegments:function(e){if(!o.test(e))return e;var t="",r=e.length,i=-1,n=-1,s=0,a="/";while(i<r){switch(a){case":":if(n<0){if(e[++i]==="/"&&e[++i]==="/")while((n=i+1)<r&&e[n]!=="/")i=n}break;case"?":case"#":i=r;break;case"/":if(e[i+1]==="."){a=e[++i+1];switch(a){case"/":t+=e.substring(s,i-1);s=i+1;break;case undefined:case"?":case"#":return t+e.substring(s,i)+e.substr(i+1);case".":a=e[++i+1];if(a===undefined||a==="/"||a==="?"||a==="#"){t+=e.substring(s,i-2);if((s=t.lastIndexOf("/"))>=n)t=t.substr(0,s);if(a!=="/")return t+"/"+e.substr(i+1);s=i+1}}}}a=e[++i]}return t+e.substring(s)},parse:function(e,t,r){var i=this;this._readCallback=this._readInTopContext;this._sparqlStyle=false;this._prefixes=Object.create(null);this._prefixes._=this._blankNodePrefix||"_:b"+p+++"_";this._prefixCallback=r||v;this._inversePredicate=false;this._quantified=Object.create(null);if(!t){var n=[],s;this._callback=function(e,t){e?s=e:t&&n.push(t)};this._lexer.tokenize(e).every(function(e){return i._readCallback=i._readCallback(e)});if(s)throw s;return n}this._callback=t;this._lexer.tokenize(e,function(e,t){if(e!==null)i._callback(e),i._callback=v;else if(i._readCallback)i._readCallback=i._readCallback(t)})}};function v(){}t.exports=d},{"./N3Lexer":66}],68:[function(e,t,r){var a=e("./N3Util").expandPrefixedName;function i(e,t){if(!(this instanceof i))return new i(e,t);this._size=0;this._graphs=Object.create(null);this._id=0;this._ids=Object.create(null);this._ids["><"]=0;this._entities=Object.create(null);this._blankNodeIndex=0;if(!t&&e&&!e[0])t=e,e=null;t=t||{};this._prefixes=Object.create(null);if(t.prefixes)this.addPrefixes(t.prefixes);if(e)this.addTriples(e)}i.prototype={get size(){var e=this._size;if(e!==null)return e;e=0;var t=this._graphs,r,i;for(var n in t)for(var s in r=t[n].subjects)for(var a in i=r[s])e+=Object.keys(i[a]).length;return this._size=e},_addToIndex:function(e,t,r,i){var n=e[t]||(e[t]={});var s=n[r]||(n[r]={});var a=i in s;if(!a)s[i]=null;return!a},_removeFromIndex:function(e,t,r,i){var n=e[t],s=n[r],a;delete s[i];for(a in s)return;delete n[r];for(a in n)return;delete e[t]},_findInIndex:function(e,t,r,i,n,s,a,o,l,u){var f,c,p,h=!t+!r+!i,d=h>1?Object.keys(this._ids):this._entities;if(t)(f=e,e={})[t]=f[t];for(var v in e){var y=d[v];if(c=e[v]){if(r)(f=c,c={})[r]=f[r];for(var g in c){var b=d[g];if(p=c[g]){var m=i?i in p?[i]:[]:Object.keys(p);for(var w=m.length-1;w>=0;w--){var x={subject:"",predicate:"",object:"",graph:o};x[n]=y;x[s]=b;x[a]=d[m[w]];if(u)u.push(x);else if(l(x))return true}}}}}return u},_loop:function(e,t){for(var r in e)t(r)},_loopByKey0:function(e,t,r){var i,n;if(i=e[t]){for(n in i)r(n)}},_loopByKey1:function(e,t,r){var i,n;for(i in e){n=e[i];if(n[t])r(i)}},_loopBy2Keys:function(e,t,r,i){var n,s,a;if((n=e[t])&&(s=n[r])){for(a in s)i(a)}},_countInIndex:function(e,t,r,i){var n=0,s,a,o;if(t)(s=e,e={})[t]=s[t];for(var l in e){if(a=e[l]){if(r)(s=a,a={})[r]=s[r];for(var u in a){if(o=a[u]){if(i)i in o&&n++;else n+=Object.keys(o).length}}}}return n},_getGraphs:function(e){if(!p(e))return this._graphs;var t={};t[e]=this._graphs[e];return t},_uniqueEntities:function(t){var r=Object.create(null),i=this._entities;return function(e){if(!(e in r)){r[e]=true;t(i[e])}}},addTriple:function(e,t,r,i){if(!t)i=e.graph,r=e.object,t=e.predicate,e=e.subject;i=i||"";var n=this._graphs[i];if(!n){n=this._graphs[i]={subjects:{},predicates:{},objects:{}};Object.freeze(n)}var s=this._ids;var a=this._entities;e=s[e]||(s[a[++this._id]=e]=this._id);t=s[t]||(s[a[++this._id]=t]=this._id);r=s[r]||(s[a[++this._id]=r]=this._id);var o=this._addToIndex(n.subjects,e,t,r);this._addToIndex(n.predicates,t,r,e);this._addToIndex(n.objects,r,e,t);this._size=null;return o},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,r,i){if(!t)i=e.graph,r=e.object,t=e.predicate,e=e.subject;i=i||"";var n,s=this._ids,a=this._graphs,o,l;if(!(e=s[e])||!(t=s[t])||!(r=s[r])||!(n=a[i])||!(o=n.subjects[e])||!(l=o[t])||!(r in l))return false;this._removeFromIndex(n.subjects,e,t,r);this._removeFromIndex(n.predicates,t,r,e);this._removeFromIndex(n.objects,r,e,t);if(this._size!==null)this._size--;for(e in n.subjects)return true;delete a[i];return true},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},getTriples:function(e,t,r,i){var n=this._prefixes;return this.getTriplesByIRI(a(e,n),a(t,n),a(r,n),a(i,n))},getTriplesByIRI:function(e,t,r,i){var n=[],s=this._getGraphs(i),a,o=this._ids,l,u,f;if(p(e)&&!(l=o[e])||p(t)&&!(u=o[t])||p(r)&&!(f=o[r]))return n;for(var c in s){if(a=s[c]){if(l){if(f)this._findInIndex(a.objects,f,l,u,"object","subject","predicate",c,null,n);else this._findInIndex(a.subjects,l,u,null,"subject","predicate","object",c,null,n)}else if(u)this._findInIndex(a.predicates,u,f,null,"predicate","object","subject",c,null,n);else if(f)this._findInIndex(a.objects,f,null,null,"object","subject","predicate",c,null,n);else this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",c,null,n)}}return n},countTriples:function(e,t,r,i){var n=this._prefixes;return this.countTriplesByIRI(a(e,n),a(t,n),a(r,n),a(i,n))},countTriplesByIRI:function(e,t,r,i){var n=0,s=this._getGraphs(i),a,o=this._ids,l,u,f;if(p(e)&&!(l=o[e])||p(t)&&!(u=o[t])||p(r)&&!(f=o[r]))return 0;for(var c in s){if(a=s[c]){if(e){if(r)n+=this._countInIndex(a.objects,f,l,u);else n+=this._countInIndex(a.subjects,l,u,f)}else if(t){n+=this._countInIndex(a.predicates,u,f,l)}else{n+=this._countInIndex(a.objects,f,l,u)}}}return n},forEach:function(e,t,r,i,n){var s=this._prefixes;this.forEachByIRI(e,a(t,s),a(r,s),a(i,s),a(n,s))},forEachByIRI:function(t,e,r,i,n){this.someByIRI(function(e){t(e);return false},e,r,i,n)},every:function(e,t,r,i,n){var s=this._prefixes;return this.everyByIRI(e,a(t,s),a(r,s),a(i,s),a(n,s))},everyByIRI:function(t,e,r,i,n){var s=false;var a=!this.someByIRI(function(e){s=true;return!t(e)},e,r,i,n);return s&&a},some:function(e,t,r,i,n){var s=this._prefixes;return this.someByIRI(e,a(t,s),a(r,s),a(i,s),a(n,s))},someByIRI:function(e,t,r,i,n){var s=this._getGraphs(n),a,o=this._ids,l,u,f;if(p(t)&&!(l=o[t])||p(r)&&!(u=o[r])||p(i)&&!(f=o[i]))return false;for(var c in s){if(a=s[c]){if(l){if(f){if(this._findInIndex(a.objects,f,l,u,"object","subject","predicate",c,e,null))return true}else if(this._findInIndex(a.subjects,l,u,null,"subject","predicate","object",c,e,null))return true}else if(u){if(this._findInIndex(a.predicates,u,f,null,"predicate","object","subject",c,e,null)){return true}}else if(f){if(this._findInIndex(a.objects,f,null,null,"object","subject","predicate",c,e,null)){return true}}else if(this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",c,e,null)){return true}}}return false},getSubjects:function(e,t,r){var i=this._prefixes;return this.getSubjectsByIRI(a(e,i),a(t,i),a(r,i))},getSubjectsByIRI:function(e,t,r){var i=[];this.forSubjectsByIRI(function(e){i.push(e)},e,t,r);return i},forSubjects:function(e,t,r,i){var n=this._prefixes;this.forSubjectsByIRI(e,a(t,n),a(r,n),a(i,n))},forSubjectsByIRI:function(e,t,r,i){var n=this._ids,s=this._getGraphs(i),a,o,l;e=this._uniqueEntities(e);if(p(t)&&!(o=n[t])||p(r)&&!(l=n[r]))return;for(i in s){if(a=s[i]){if(o){if(l)this._loopBy2Keys(a.predicates,o,l,e);else this._loopByKey1(a.subjects,o,e)}else if(l)this._loopByKey0(a.objects,l,e);else this._loop(a.subjects,e)}}},getPredicates:function(e,t,r){var i=this._prefixes;return this.getPredicatesByIRI(a(e,i),a(t,i),a(r,i))},getPredicatesByIRI:function(e,t,r){var i=[];this.forPredicatesByIRI(function(e){i.push(e)},e,t,r);return i},forPredicates:function(e,t,r,i){var n=this._prefixes;this.forPredicatesByIRI(e,a(t,n),a(r,n),a(i,n))},forPredicatesByIRI:function(e,t,r,i){var n=this._ids,s=this._getGraphs(i),a,o,l;e=this._uniqueEntities(e);if(p(t)&&!(o=n[t])||p(r)&&!(l=n[r]))return;for(i in s){if(a=s[i]){if(o){if(l)this._loopBy2Keys(a.objects,l,o,e);else this._loopByKey0(a.subjects,o,e)}else if(l)this._loopByKey1(a.predicates,l,e);else this._loop(a.predicates,e)}}},getObjects:function(e,t,r){var i=this._prefixes;return this.getObjectsByIRI(a(e,i),a(t,i),a(r,i))},getObjectsByIRI:function(e,t,r){var i=[];this.forObjectsByIRI(function(e){i.push(e)},e,t,r);return i},forObjects:function(e,t,r,i){var n=this._prefixes;this.forObjectsByIRI(e,a(t,n),a(r,n),a(i,n))},forObjectsByIRI:function(e,t,r,i){var n=this._ids,s=this._getGraphs(i),a,o,l;e=this._uniqueEntities(e);if(p(t)&&!(o=n[t])||p(r)&&!(l=n[r]))return;for(i in s){if(a=s[i]){if(o){if(l)this._loopBy2Keys(a.subjects,o,l,e);else this._loopByKey1(a.objects,o,e)}else if(l)this._loopByKey0(a.predicates,l,e);else this._loop(a.objects,e)}}},getGraphs:function(e,t,r){var i=this._prefixes;return this.getGraphsByIRI(a(e,i),a(t,i),a(r,i))},getGraphsByIRI:function(e,t,r){var i=[];this.forGraphsByIRI(function(e){i.push(e)},e,t,r);return i},forGraphs:function(e,t,r,i){var n=this._prefixes;this.forGraphsByIRI(e,a(t,n),a(r,n),a(i,n))},forGraphsByIRI:function(t,e,r,i){for(var n in this._graphs){this.someByIRI(function(e){t(e.graph);return true},e,r,i,n)}},createBlankNode:function(e){var t,r;if(e){t=e="_:"+e,r=1;while(this._ids[t])t=e+r++}else{do{t="_:b"+this._blankNodeIndex++}while(this._ids[t])}this._ids[t]=++this._id;this._entities[this._id]=t;return t}};function p(e){return typeof e==="string"||e instanceof String}t.exports=i},{"./N3Util":71}],69:[function(e,t,r){var s=e("stream").Transform,i=e("util"),a=e("./N3Parser.js");function o(e){if(!(this instanceof o))return new o(e);s.call(this,{decodeStrings:true});this._readableState.objectMode=true;var r=this,t=new a(e),i,n;t.parse({on:function(e,t){switch(e){case"data":i=t;break;case"end":n=t;break}}},function(e,t){e&&r.emit("error",e)||t&&r.push(t)},function(e,t){r.emit("prefix",e,t)});this._transform=function(e,t,r){i(e);r()};this._flush=function(e){n();e()}}i.inherits(o,s);t.exports=o},{"./N3Parser.js":67,stream:96,util:7}],70:[function(e,t,r){var s=e("stream").Transform,i=e("util"),a=e("./N3Writer.js");function o(e){if(!(this instanceof o))return new o(e);s.call(this,{encoding:"utf8"});this._writableState.objectMode=true;var i=this;var n=new a({write:function(e,t,r){i.push(e);r&&r()},end:function(e){i.push(null);e&&e()}},e);this._transform=function(e,t,r){n.addTriple(e,r)};this._flush=function(e){n.end(e)}}i.inherits(o,s);t.exports=o},{"./N3Writer.js":72,stream:96,util:7}],71:[function(e,t,r){var i="http://www.w3.org/2001/XMLSchema#";var n=i+"string";var s=i+"integer";var a=i+"double";var o=i+"boolean";var l="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString";var u={isIRI:function(e){if(typeof e!=="string")return false;else if(e.length===0)return true;else{var t=e[0];return t!=='"'&&t!=="_"}},isLiteral:function(e){return typeof e==="string"&&e[0]==='"'},isBlank:function(e){return typeof e==="string"&&e.substr(0,2)==="_:"},isDefaultGraph:function(e){return!e},inDefaultGraph:function(e){return!e.graph},getLiteralValue:function(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]},getLiteralType:function(e){var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?l:n)},getLiteralLanguage:function(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""},isPrefixedName:function(e){return typeof e==="string"&&/^[^:\/"']*:[^:\/"']+$/.test(e)},expandPrefixedName:function(e,t){var r=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(e),i,n,s;if(r)i=r[1],n=t[i],s=r.index;if(n===undefined)return e;return s===0?n+e.substr(i.length+1):e.substr(0,s+3)+n+e.substr(s+i.length+4)},createIRI:function(e){return e&&e[0]==='"'?u.getLiteralValue(e):e},createLiteral:function(e,t){if(!t){switch(typeof e){case"boolean":t=o;break;case"number":if(isFinite(e))t=e%1===0?s:a;else{t=a;if(!isNaN(e))e=e>0?"INF":"-INF"}break;default:return'"'+e+'"'}}return'"'+e+(/^[a-z]+(-[a-z0-9]+)*$/i.test(t)?'"@'+t.toLowerCase():'"^^'+t)},prefix:function(e){return u.prefixes({"":e})("")},prefixes:function(e){var i=Object.create(null);for(var t in e)r(t,e[t]);function r(e,t){if(t||!(e in i)){var r=Object.create(null);t=t||"";i[e]=function(e){return r[e]||(r[e]=t+e)}}return i[e]}return r}};t.exports=u},{}],72:[function(e,t,r){var i=/^"([^]*)"(?:\^\^(.+)|@([a-z]+(?:-[a-z0-9]+)*))?$/i;var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",s=n+"type";var a=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,o=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,l={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function u(e,t){if(!(this instanceof u))return new u(e,t);if(e&&typeof e.write!=="function")t=e,e=null;t=t||{};if(!e){var i="";this._outputStream={write:function(e,t,r){i+=e;r&&r()},end:function(e){e&&e(null,i)}};this._endStream=true}else{this._outputStream=e;this._endStream=t.end===undefined?true:!!t.end}this._subject=null;if(!/triple|quad/i.test(t.format)){this._graph="";this._prefixIRIs=Object.create(null);t.prefixes&&this.addPrefixes(t.prefixes)}else{this._writeTriple=this._writeTripleLine}}u.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,r,i,n){try{if(this._graph!==i){this._write((this._subject===null?"":this._graph?"\n}\n":".\n")+(i?this._encodeIriOrBlankNode(i)+" {\n":""));this._subject=null;this._graph=i[0]!=="["?i:"]"}if(this._subject===e){if(this._predicate===t)this._write(", "+this._encodeObject(r),n);else this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),n)}else this._write((this._subject===null?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),n)}catch(e){n&&n(e)}},_writeTripleLine:function(e,t,r,i,n){delete this._prefixMatch;try{this._write(this.tripleToString(e,t,r,i),n)}catch(e){n&&n(e)}},tripleToString:function(e,t,r,i){return this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(r)+(i?" "+this._encodeIriOrBlankNode(i)+".\n":".\n")},triplesToString:function(e){return e.map(function(e){return this.tripleToString(e.subject,e.predicate,e.object,e.graph)},this).join("")},_encodeIriOrBlankNode:function(e){var t=e[0];if(t==="["||t==="("||t==="_"&&e[1]===":")return e;if(a.test(e))e=e.replace(o,f);var r=this._prefixRegex.exec(e);return!r?"<"+e+">":!r[1]?e:this._prefixIRIs[r[1]]+r[2]},_encodeLiteral:function(e,t,r){if(a.test(e))e=e.replace(o,f);if(r)return'"'+e+'"@'+r;else if(t)return'"'+e+'"^^'+this._encodeIriOrBlankNode(t);else return'"'+e+'"'},_encodeSubject:function(e){if(e[0]==='"')throw new Error("A literal as subject is not allowed: "+e);if(e[0]==="[")this._subject="]";return this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if(e[0]==='"')throw new Error("A literal as predicate is not allowed: "+e);return e===s?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if(e[0]!=='"')return this._encodeIriOrBlankNode(e);var t=i.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,r,i,n){if(r===undefined)this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t);else if(typeof i!=="string")this._writeTriple(e,t,r,"",i);else this._writeTriple(e,t,r,i,n)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,r){var i={};i[e]=t;this.addPrefixes(i,r)},addPrefixes:function(e,t){var r=this._prefixIRIs,i=false;for(var n in e){var s=e[n];if(/[#\/]$/.test(s)&&r[s]!==(n+=":")){i=true;r[s]=n;if(this._subject!==null){this._write(this._graph?"\n}\n":".\n");this._subject=null,this._graph=""}this._write("@prefix "+n+" <"+s+">.\n")}}if(i){var a="",o="";for(var l in r){a+=a?"|"+l:l;o+=(o?"|":"")+r[l]}a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^(?:"+o+")[^/]*$|"+"^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(i?"\n":"",t)},blank:function(e,t){var r=e,i,n;if(e===undefined)r=[];else if(typeof e==="string")r=[{predicate:e,object:t}];else if(!("length"in e))r=[e];switch(n=r.length){case 0:return"[]";case 1:i=r[0];if(i.object[0]!=="[")return"[ "+this._encodePredicate(i.predicate)+" "+this._encodeObject(i.object)+" ]";default:var s="[";for(var a=0;a<n;a++){i=r[a];if(i.predicate===e)s+=", "+this._encodeObject(i.object);else{s+=(a?";\n  ":"\n  ")+this._encodePredicate(i.predicate)+" "+this._encodeObject(i.object);e=i.predicate}}return s+"\n]"}},list:function(e){var t=e&&e.length||0,r=new Array(t);for(var i=0;i<t;i++)r[i]=this._encodeObject(e[i]);return"("+r.join(" ")+")"},_prefixRegex:/$0^/,end:function(r){if(this._subject!==null){this._write(this._graph?"\n}\n":".\n");this._subject=null}this._write=this._blockedWrite;var i=r&&function(e,t){i=null,r(e,t)};if(this._endStream){try{return this._outputStream.end(i)}catch(e){}}i&&i()}};function f(e){var t=l[e];if(t===undefined){if(e.length===1){t=e.charCodeAt(0).toString(16);t="\\u0000".substr(0,6-t.length)+t}else{t=((e.charCodeAt(0)-55296)*1024+e.charCodeAt(1)+9216).toString(16);t="\\U00000000".substr(0,10-t.length)+t}}return t}t.exports=u},{}],73:[function(w,x,e){(function(Ee){(function(){var e=typeof Map==="function"&&Map.prototype;var t=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null;var F=e&&t&&typeof t.get==="function"?t.get:null;var I=e&&Map.prototype.forEach;var r=typeof Set==="function"&&Set.prototype;var i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null;var C=r&&i&&typeof i.get==="function"?i.get:null;var R=r&&Set.prototype.forEach;var u=typeof WeakMap==="function"&&WeakMap.prototype;var n=u?WeakMap.prototype.has:null;var p=typeof WeakSet==="function"&&WeakSet.prototype;var s=p?WeakSet.prototype.has:null;var h=typeof WeakRef==="function"&&WeakRef.prototype;var a=h?WeakRef.prototype.deref:null;var ee=Boolean.prototype.valueOf;var d=Object.prototype.toString;var v=Function.prototype.toString;var y=String.prototype.match;var N=String.prototype.slice;var O=String.prototype.replace;var g=String.prototype.toUpperCase;var L=String.prototype.toLowerCase;var f=RegExp.prototype.test;var D=Array.prototype.concat;var P=Array.prototype.join;var te=Array.prototype.slice;var o=Math.floor;var Q=typeof BigInt==="function"?BigInt.prototype.valueOf:null;var c=Object.getOwnPropertySymbols;var M=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol.prototype.toString:null;var B=typeof Symbol==="function"&&typeof Symbol.iterator==="object";var U=typeof Symbol==="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===B?"object":"symbol")?Symbol.toStringTag:null;var G=Object.prototype.propertyIsEnumerable;var q=(typeof Reflect==="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function H(e,t){if(e===Infinity||e===-Infinity||e!==e||e&&e>-1e3&&e<1e3||f.call(/e/,t)){return t}var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e==="number"){var i=e<0?-o(-e):o(e);if(i!==e){var n=String(i);var s=N.call(t,n.length+1);return O.call(n,r,"$&_")+"."+O.call(O.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return O.call(t,r,"$&_")}var J=w("./util.inspect");var l=J.custom;var z=fe(l)?l:null;x.exports=function n(r,e,s,a){var o=e||{};if(W(o,"quoteStyle")&&(o.quoteStyle!=="single"&&o.quoteStyle!=="double")){throw new TypeError('option "quoteStyle" must be "single" or "double"')}if(W(o,"maxStringLength")&&(typeof o.maxStringLength==="number"?o.maxStringLength<0&&o.maxStringLength!==Infinity:o.maxStringLength!==null)){throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`')}var t=W(o,"customInspect")?o.customInspect:true;if(typeof t!=="boolean"&&t!=="symbol"){throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`")}if(W(o,"indent")&&o.indent!==null&&o.indent!=="\t"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0)){throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`')}if(W(o,"numericSeparator")&&typeof o.numericSeparator!=="boolean"){throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`')}var i=o.numericSeparator;if(typeof r==="undefined"){return"undefined"}if(r===null){return"null"}if(typeof r==="boolean"){return r?"true":"false"}if(typeof r==="string"){return we(r,o)}if(typeof r==="number"){if(r===0){return Infinity/r>0?"0":"-0"}var l=String(r);return i?H(r,l):l}if(typeof r==="bigint"){var u=String(r)+"n";return i?H(r,u):u}var f=typeof o.depth==="undefined"?5:o.depth;if(typeof s==="undefined"){s=0}if(s>=f&&f>0&&typeof r==="object"){return V(r)?"[Array]":"[Object]"}var c=ke(o,s);if(typeof a==="undefined"){a=[]}else if(he(a,r)>=0){return"[Circular]"}function p(e,t,r){if(t){a=te.call(a);a.push(t)}if(r){var i={depth:o.depth};if(W(o,"quoteStyle")){i.quoteStyle=o.quoteStyle}return n(e,i,s+1,a)}return n(e,o,s+1,a)}if(typeof r==="function"&&!se(r)){var h=pe(r);var d=Y(r,p);return"[Function"+(h?": "+h:" (anonymous)")+"]"+(d.length>0?" { "+P.call(d,", ")+" }":"")}if(fe(r)){var v=B?O.call(String(r),/^(Symbol\(.*\))_[^)]*$/,"$1"):M.call(r);return typeof r==="object"&&!B?K(v):v}if(me(r)){var y="<"+L.call(String(r.nodeName));var g=r.attributes||[];for(var b=0;b<g.length;b++){y+=" "+g[b].name+"="+re(ie(g[b].value),"double",o)}y+=">";if(r.childNodes&&r.childNodes.length){y+="..."}y+="</"+L.call(String(r.nodeName))+">";return y}if(V(r)){if(r.length===0){return"[]"}var m=Y(r,p);if(c&&!_e(m)){return"["+Z(m,c)+"]"}return"[ "+P.call(m,", ")+" ]"}if(ae(r)){var w=Y(r,p);if(!("cause"in Error.prototype)&&"cause"in r&&!G.call(r,"cause")){return"{ ["+String(r)+"] "+P.call(D.call("[cause]: "+p(r.cause),w),", ")+" }"}if(w.length===0){return"["+String(r)+"]"}return"{ ["+String(r)+"] "+P.call(w,", ")+" }"}if(typeof r==="object"&&t){if(z&&typeof r[z]==="function"&&J){return J(r,{depth:f-s})}else if(t!=="symbol"&&typeof r.inspect==="function"){return r.inspect()}}if(de(r)){var x=[];if(I){I.call(r,function(e,t){x.push(p(t,r,true)+" => "+p(e,r))})}return xe("Map",F.call(r),x,c)}if(ge(r)){var _=[];if(R){R.call(r,function(e){_.push(p(e,r))})}return xe("Set",C.call(r),_,c)}if(ve(r)){return $("WeakMap")}if(be(r)){return $("WeakSet")}if(ye(r)){return $("WeakRef")}if(le(r)){return K(p(Number(r)))}if(ce(r)){return K(p(Q.call(r)))}if(ue(r)){return K(ee.call(r))}if(oe(r)){return K(p(String(r)))}if(typeof window!=="undefined"&&r===window){return"{ [object Window] }"}if(r===Ee){return"{ [object globalThis] }"}if(!ne(r)&&!se(r)){var k=Y(r,p);var E=q?q(r)===Object.prototype:r instanceof Object||r.constructor===Object;var A=r instanceof Object?"":"null prototype";var j=!E&&U&&Object(r)===r&&U in r?N.call(X(r),8,-1):A?"Object":"";var S=E||typeof r.constructor!=="function"?"":r.constructor.name?r.constructor.name+" ":"";var T=S+(j||A?"["+P.call(D.call([],j||[],A||[]),": ")+"] ":"");if(k.length===0){return T+"{}"}if(c){return T+"{"+Z(k,c)+"}"}return T+"{ "+P.call(k,", ")+" }"}return String(r)};function re(e,t,r){var i=(r.quoteStyle||t)==="double"?'"':"'";return i+e+i}function ie(e){return O.call(String(e),/"/g,"&quot;")}function V(e){return X(e)==="[object Array]"&&(!U||!(typeof e==="object"&&U in e))}function ne(e){return X(e)==="[object Date]"&&(!U||!(typeof e==="object"&&U in e))}function se(e){return X(e)==="[object RegExp]"&&(!U||!(typeof e==="object"&&U in e))}function ae(e){return X(e)==="[object Error]"&&(!U||!(typeof e==="object"&&U in e))}function oe(e){return X(e)==="[object String]"&&(!U||!(typeof e==="object"&&U in e))}function le(e){return X(e)==="[object Number]"&&(!U||!(typeof e==="object"&&U in e))}function ue(e){return X(e)==="[object Boolean]"&&(!U||!(typeof e==="object"&&U in e))}function fe(e){if(B){return e&&typeof e==="object"&&e instanceof Symbol}if(typeof e==="symbol"){return true}if(!e||typeof e!=="object"||!M){return false}try{M.call(e);return true}catch(e){}return false}function ce(e){if(!e||typeof e!=="object"||!Q){return false}try{Q.call(e);return true}catch(e){}return false}var b=Object.prototype.hasOwnProperty||function(e){return e in this};function W(e,t){return b.call(e,t)}function X(e){return d.call(e)}function pe(e){if(e.name){return e.name}var t=y.call(v.call(e),/^function\s*([\w$]+)/);if(t){return t[1]}return null}function he(e,t){if(e.indexOf){return e.indexOf(t)}for(var r=0,i=e.length;r<i;r++){if(e[r]===t){return r}}return-1}function de(e){if(!F||!e||typeof e!=="object"){return false}try{F.call(e);try{C.call(e)}catch(e){return true}return e instanceof Map}catch(e){}return false}function ve(e){if(!n||!e||typeof e!=="object"){return false}try{n.call(e,n);try{s.call(e,s)}catch(e){return true}return e instanceof WeakMap}catch(e){}return false}function ye(e){if(!a||!e||typeof e!=="object"){return false}try{a.call(e);return true}catch(e){}return false}function ge(e){if(!C||!e||typeof e!=="object"){return false}try{C.call(e);try{F.call(e)}catch(e){return true}return e instanceof Set}catch(e){}return false}function be(e){if(!s||!e||typeof e!=="object"){return false}try{s.call(e,s);try{n.call(e,n)}catch(e){return true}return e instanceof WeakSet}catch(e){}return false}function me(e){if(!e||typeof e!=="object"){return false}if(typeof HTMLElement!=="undefined"&&e instanceof HTMLElement){return true}return typeof e.nodeName==="string"&&typeof e.getAttribute==="function"}function we(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength;var i="... "+r+" more character"+(r>1?"s":"");return we(N.call(e,0,t.maxStringLength),t)+i}var n=O.call(O.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,m);return re(n,"single",t)}function m(e){var t=e.charCodeAt(0);var r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];if(r){return"\\"+r}return"\\x"+(t<16?"0":"")+g.call(t.toString(16))}function K(e){return"Object("+e+")"}function $(e){return e+" { ? }"}function xe(e,t,r,i){var n=i?Z(r,i):P.call(r,", ");return e+" ("+t+") {"+n+"}"}function _e(e){for(var t=0;t<e.length;t++){if(he(e[t],"\n")>=0){return false}}return true}function ke(e,t){var r;if(e.indent==="\t"){r="\t"}else if(typeof e.indent==="number"&&e.indent>0){r=P.call(Array(e.indent+1)," ")}else{return null}return{base:r,prev:P.call(Array(t+1),r)}}function Z(e,t){if(e.length===0){return""}var r="\n"+t.prev+t.base;return r+P.call(e,","+r)+"\n"+t.prev}function Y(e,t){var r=V(e);var i=[];if(r){i.length=e.length;for(var n=0;n<e.length;n++){i[n]=W(e,n)?t(e[n],e):""}}var s=typeof c==="function"?c(e):[];var a;if(B){a={};for(var o=0;o<s.length;o++){a["$"+s[o]]=s[o]}}for(var l in e){if(!W(e,l)){continue}if(r&&String(Number(l))===l&&l<e.length){continue}if(B&&a["$"+l]instanceof Symbol){continue}else if(f.call(/[^\w$]/,l)){i.push(t(l,e)+": "+t(e[l],e))}else{i.push(l+": "+t(e[l],e))}}if(typeof c==="function"){for(var u=0;u<s.length;u++){if(G.call(e,s[u])){i.push("["+t(s[u])+"]: "+t(e[s[u]],e))}}}return i}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./util.inspect":3}],74:[function(e,t,r){"use strict";t.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},{}],75:[function(e,t,r){var i=t.exports={};var n;var s;function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=a}}catch(e){n=a}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=o}}catch(e){s=o}})();function l(t){if(n===setTimeout){return setTimeout(t,0)}if((n===a||!n)&&setTimeout){n=setTimeout;return setTimeout(t,0)}try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function u(t){if(s===clearTimeout){return clearTimeout(t)}if((s===o||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(t)}try{return s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}var f=[];var c=false;var p;var h=-1;function d(){if(!c||!p){return}c=false;if(p.length){f=p.concat(f)}else{h=-1}if(f.length){v()}}function v(){if(c){return}var e=l(d);c=true;var t=f.length;while(t){p=f;f=[];while(++h<t){if(p){p[h].run()}}h=-1;t=f.length}p=null;c=false;u(e)}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}f.push(new y(e,t));if(f.length===1&&!c){l(v)}};function y(e,t){this.fun=e;this.array=t}y.prototype.run=function(){this.fun.apply(null,this.array)};i.title="browser";i.browser=true;i.env={};i.argv=[];i.version="";i.versions={};function g(){}i.on=g;i.addListener=g;i.once=g;i.off=g;i.removeListener=g;i.removeAllListeners=g;i.emit=g;i.prependListener=g;i.prependOnceListener=g;i.listeners=function(e){return[]};i.binding=function(e){throw new Error("process.binding is not supported")};i.cwd=function(){return"/"};i.chdir=function(e){throw new Error("process.chdir is not supported")};i.umask=function(){return 0}},{}],76:[function(e,L,D){(function(O){(function(){(function(e){var t=typeof D=="object"&&D&&!D.nodeType&&D;var r=typeof L=="object"&&L&&!L.nodeType&&L;var i=typeof O=="object"&&O;if(i.global===i||i.window===i||i.self===i){e=i}var n,g=2147483647,b=36,m=1,w=26,s=38,a=700,x=72,_=128,k="-",o=/^xn--/,l=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,f={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=b-m,E=Math.floor,A=String.fromCharCode,p;function j(e){throw new RangeError(f[e])}function h(e,t){var r=e.length;var i=[];while(r--){i[r]=t(e[r])}return i}function d(e,t){var r=e.split("@");var i="";if(r.length>1){i=r[0]+"@";e=r[1]}e=e.replace(u,".");var n=e.split(".");var s=h(n,t).join(".");return i+s}function S(e){var t=[],r=0,i=e.length,n,s;while(r<i){n=e.charCodeAt(r++);if(n>=55296&&n<=56319&&r<i){s=e.charCodeAt(r++);if((s&64512)==56320){t.push(((n&1023)<<10)+(s&1023)+65536)}else{t.push(n);r--}}else{t.push(n)}}return t}function y(e){return h(e,function(e){var t="";if(e>65535){e-=65536;t+=A(e>>>10&1023|55296);e=56320|e&1023}t+=A(e);return t}).join("")}function T(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return b}function F(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function I(e,t,r){var i=0;e=r?E(e/a):e>>1;e+=E(e/t);for(;e>c*w>>1;i+=b){e=E(e/c)}return E(i+(c+1)*e/(e+s))}function v(e){var t=[],r=e.length,i,n=0,s=_,a=x,o,l,u,f,c,p,h,d,v;o=e.lastIndexOf(k);if(o<0){o=0}for(l=0;l<o;++l){if(e.charCodeAt(l)>=128){j("not-basic")}t.push(e.charCodeAt(l))}for(u=o>0?o+1:0;u<r;){for(f=n,c=1,p=b;;p+=b){if(u>=r){j("invalid-input")}h=T(e.charCodeAt(u++));if(h>=b||h>E((g-n)/c)){j("overflow")}n+=h*c;d=p<=a?m:p>=a+w?w:p-a;if(h<d){break}v=b-d;if(c>E(g/v)){j("overflow")}c*=v}i=t.length+1;a=I(n-f,i,f==0);if(E(n/i)>g-s){j("overflow")}s+=E(n/i);n%=i;t.splice(n++,0,s)}return y(t)}function C(e){var t,r,i,n,s,a,o,l,u,f,c,p=[],h,d,v,y;e=S(e);h=e.length;t=_;r=0;s=x;for(a=0;a<h;++a){c=e[a];if(c<128){p.push(A(c))}}i=n=p.length;if(n){p.push(k)}while(i<h){for(o=g,a=0;a<h;++a){c=e[a];if(c>=t&&c<o){o=c}}d=i+1;if(o-t>E((g-r)/d)){j("overflow")}r+=(o-t)*d;t=o;for(a=0;a<h;++a){c=e[a];if(c<t&&++r>g){j("overflow")}if(c==t){for(l=r,u=b;;u+=b){f=u<=s?m:u>=s+w?w:u-s;if(l<f){break}y=l-f;v=b-f;p.push(A(F(f+y%v,0)));l=E(y/v)}p.push(A(F(l,0)));s=I(r,d,i==n);r=0;++i}}++r;++t}return p.join("")}function R(e){return d(e,function(e){return o.test(e)?v(e.slice(4).toLowerCase()):e})}function N(e){return d(e,function(e){return l.test(e)?"xn--"+C(e):e})}n={version:"1.4.1",ucs2:{decode:S,encode:y},decode:v,encode:C,toASCII:N,toUnicode:R};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",function(){return n})}else if(t&&r){if(L.exports==t){r.exports=n}else{for(p in n){n.hasOwnProperty(p)&&(t[p]=n[p])}}}else{e.punycode=n}})(this)}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],77:[function(e,t,r){"use strict";var i=String.prototype.replace;var n=/%20/g;var s={RFC1738:"RFC1738",RFC3986:"RFC3986"};t.exports={default:s.RFC3986,formatters:{RFC1738:function(e){return i.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:s.RFC1738,RFC3986:s.RFC3986}},{}],78:[function(e,t,r){"use strict";var i=e("./stringify");var n=e("./parse");var s=e("./formats");t.exports={formats:s,parse:n,stringify:i}},{"./formats":77,"./parse":79,"./stringify":80}],79:[function(e,t,r){"use strict";var y=e("./utils");var g=Object.prototype.hasOwnProperty;var b=Array.isArray;var m={allowDots:false,allowEmptyArrays:false,allowPrototypes:false,allowSparse:false,arrayLimit:20,charset:"utf-8",charsetSentinel:false,comma:false,decodeDotInKeys:false,decoder:y.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:false,interpretNumericEntities:false,parameterLimit:1e3,parseArrays:true,plainObjects:false,strictNullHandling:false};var w=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})};var x=function(e,t){if(e&&typeof e==="string"&&t.comma&&e.indexOf(",")>-1){return e.split(",")}return e};var _="utf8=%26%2310003%3B";var k="utf8=%E2%9C%93";var u=function e(t,r){var i={__proto__:null};var n=r.ignoreQueryPrefix?t.replace(/^\?/,""):t;var s=r.parameterLimit===Infinity?undefined:r.parameterLimit;var a=n.split(r.delimiter,s);var o=-1;var l;var u=r.charset;if(r.charsetSentinel){for(l=0;l<a.length;++l){if(a[l].indexOf("utf8=")===0){if(a[l]===k){u="utf-8"}else if(a[l]===_){u="iso-8859-1"}o=l;l=a.length}}}for(l=0;l<a.length;++l){if(l===o){continue}var f=a[l];var c=f.indexOf("]=");var p=c===-1?f.indexOf("="):c+1;var h,d;if(p===-1){h=r.decoder(f,m.decoder,u,"key");d=r.strictNullHandling?null:""}else{h=r.decoder(f.slice(0,p),m.decoder,u,"key");d=y.maybeMap(x(f.slice(p+1),r),function(e){return r.decoder(e,m.decoder,u,"value")})}if(d&&r.interpretNumericEntities&&u==="iso-8859-1"){d=w(d)}if(f.indexOf("[]=")>-1){d=b(d)?[d]:d}var v=g.call(i,h);if(v&&r.duplicates==="combine"){i[h]=y.combine(i[h],d)}else if(!v||r.duplicates==="last"){i[h]=d}}return i};var p=function(e,t,r,i){var n=i?t:x(t,r);for(var s=e.length-1;s>=0;--s){var a;var o=e[s];if(o==="[]"&&r.parseArrays){a=r.allowEmptyArrays&&n===""?[]:[].concat(n)}else{a=r.plainObjects?Object.create(null):{};var l=o.charAt(0)==="["&&o.charAt(o.length-1)==="]"?o.slice(1,-1):o;var u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l;var f=parseInt(u,10);if(!r.parseArrays&&u===""){a={0:n}}else if(!isNaN(f)&&o!==u&&String(f)===u&&f>=0&&(r.parseArrays&&f<=r.arrayLimit)){a=[];a[f]=n}else if(u!=="__proto__"){a[u]=n}}n=a}return n};var f=function e(t,r,i,n){if(!t){return}var s=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t;var a=/(\[[^[\]]*])/;var o=/(\[[^[\]]*])/g;var l=i.depth>0&&a.exec(s);var u=l?s.slice(0,l.index):s;var f=[];if(u){if(!i.plainObjects&&g.call(Object.prototype,u)){if(!i.allowPrototypes){return}}f.push(u)}var c=0;while(i.depth>0&&(l=o.exec(s))!==null&&c<i.depth){c+=1;if(!i.plainObjects&&g.call(Object.prototype,l[1].slice(1,-1))){if(!i.allowPrototypes){return}}f.push(l[1])}if(l){f.push("["+s.slice(l.index)+"]")}return p(f,r,i,n)};var c=function e(t){if(!t){return m}if(typeof t.allowEmptyArrays!=="undefined"&&typeof t.allowEmptyArrays!=="boolean"){throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided")}if(typeof t.decodeDotInKeys!=="undefined"&&typeof t.decodeDotInKeys!=="boolean"){throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided")}if(t.decoder!==null&&typeof t.decoder!=="undefined"&&typeof t.decoder!=="function"){throw new TypeError("Decoder has to be a function.")}if(typeof t.charset!=="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1"){throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined")}var r=typeof t.charset==="undefined"?m.charset:t.charset;var i=typeof t.duplicates==="undefined"?m.duplicates:t.duplicates;if(i!=="combine"&&i!=="first"&&i!=="last"){throw new TypeError("The duplicates option must be either combine, first, or last")}var n=typeof t.allowDots==="undefined"?t.decodeDotInKeys===true?true:m.allowDots:!!t.allowDots;return{allowDots:n,allowEmptyArrays:typeof t.allowEmptyArrays==="boolean"?!!t.allowEmptyArrays:m.allowEmptyArrays,allowPrototypes:typeof t.allowPrototypes==="boolean"?t.allowPrototypes:m.allowPrototypes,allowSparse:typeof t.allowSparse==="boolean"?t.allowSparse:m.allowSparse,arrayLimit:typeof t.arrayLimit==="number"?t.arrayLimit:m.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel==="boolean"?t.charsetSentinel:m.charsetSentinel,comma:typeof t.comma==="boolean"?t.comma:m.comma,decodeDotInKeys:typeof t.decodeDotInKeys==="boolean"?t.decodeDotInKeys:m.decodeDotInKeys,decoder:typeof t.decoder==="function"?t.decoder:m.decoder,delimiter:typeof t.delimiter==="string"||y.isRegExp(t.delimiter)?t.delimiter:m.delimiter,depth:typeof t.depth==="number"||t.depth===false?+t.depth:m.depth,duplicates:i,ignoreQueryPrefix:t.ignoreQueryPrefix===true,interpretNumericEntities:typeof t.interpretNumericEntities==="boolean"?t.interpretNumericEntities:m.interpretNumericEntities,parameterLimit:typeof t.parameterLimit==="number"?t.parameterLimit:m.parameterLimit,parseArrays:t.parseArrays!==false,plainObjects:typeof t.plainObjects==="boolean"?t.plainObjects:m.plainObjects,strictNullHandling:typeof t.strictNullHandling==="boolean"?t.strictNullHandling:m.strictNullHandling}};t.exports=function(e,t){var r=c(t);if(e===""||e===null||typeof e==="undefined"){return r.plainObjects?Object.create(null):{}}var i=typeof e==="string"?u(e,r):e;var n=r.plainObjects?Object.create(null):{};var s=Object.keys(i);for(var a=0;a<s.length;++a){var o=s[a];var l=f(o,i[o],r,typeof e==="string");n=y.merge(n,l,r)}if(r.allowSparse===true){return n}return y.compact(n)}},{"./utils":81}],80:[function(e,t,r){"use strict";var D=e("side-channel");var P=e("./utils");var l=e("./formats");var u=Object.prototype.hasOwnProperty;var d={brackets:function e(t){return t+"[]"},comma:"comma",indices:function e(t,r){return t+"["+r+"]"},repeat:function e(t){return t}};var Q=Array.isArray;var i=Array.prototype.push;var M=function(e,t){i.apply(e,Q(t)?t:[t])};var n=Date.prototype.toISOString;var s=l["default"];var B={addQueryPrefix:false,allowDots:false,allowEmptyArrays:false,arrayFormat:"indices",charset:"utf-8",charsetSentinel:false,delimiter:"&",encode:true,encodeDotInKeys:false,encoder:P.encode,encodeValuesOnly:false,format:s,formatter:l.formatters[s],indices:false,serializeDate:function e(t){return n.call(t)},skipNulls:false,strictNullHandling:false};var U=function e(t){return typeof t==="string"||typeof t==="number"||typeof t==="boolean"||typeof t==="symbol"||typeof t==="bigint"};var G={};var v=function e(t,r,i,n,s,a,o,l,u,f,c,p,h,d,v,y,g,b){var m=t;var w=b;var x=0;var _=false;while((w=w.get(G))!==void undefined&&!_){var k=w.get(t);x+=1;if(typeof k!=="undefined"){if(k===x){throw new RangeError("Cyclic object value")}else{_=true}}if(typeof w.get(G)==="undefined"){x=0}}if(typeof f==="function"){m=f(r,m)}else if(m instanceof Date){m=h(m)}else if(i==="comma"&&Q(m)){m=P.maybeMap(m,function(e){if(e instanceof Date){return h(e)}return e})}if(m===null){if(a){return u&&!y?u(r,B.encoder,g,"key",d):r}m=""}if(U(m)||P.isBuffer(m)){if(u){var E=y?r:u(r,B.encoder,g,"key",d);return[v(E)+"="+v(u(m,B.encoder,g,"value",d))]}return[v(r)+"="+v(String(m))]}var A=[];if(typeof m==="undefined"){return A}var j;if(i==="comma"&&Q(m)){if(y&&u){m=P.maybeMap(m,u)}j=[{value:m.length>0?m.join(",")||null:void undefined}]}else if(Q(f)){j=f}else{var S=Object.keys(m);j=c?S.sort(c):S}var T=l?r.replace(/\./g,"%2E"):r;var F=n&&Q(m)&&m.length===1?T+"[]":T;if(s&&Q(m)&&m.length===0){return F+"[]"}for(var I=0;I<j.length;++I){var C=j[I];var R=typeof C==="object"&&typeof C.value!=="undefined"?C.value:m[C];if(o&&R===null){continue}var N=p&&l?C.replace(/\./g,"%2E"):C;var O=Q(m)?typeof i==="function"?i(F,N):F:F+(p?"."+N:"["+N+"]");b.set(t,x);var L=D();L.set(G,b);M(A,e(R,O,i,n,s,a,o,l,i==="comma"&&y&&Q(m)?null:u,f,c,p,h,d,v,y,g,L))}return A};var y=function e(t){if(!t){return B}if(typeof t.allowEmptyArrays!=="undefined"&&typeof t.allowEmptyArrays!=="boolean"){throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided")}if(typeof t.encodeDotInKeys!=="undefined"&&typeof t.encodeDotInKeys!=="boolean"){throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided")}if(t.encoder!==null&&typeof t.encoder!=="undefined"&&typeof t.encoder!=="function"){throw new TypeError("Encoder has to be a function.")}var r=t.charset||B.charset;if(typeof t.charset!=="undefined"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1"){throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined")}var i=l["default"];if(typeof t.format!=="undefined"){if(!u.call(l.formatters,t.format)){throw new TypeError("Unknown format option provided.")}i=t.format}var n=l.formatters[i];var s=B.filter;if(typeof t.filter==="function"||Q(t.filter)){s=t.filter}var a;if(t.arrayFormat in d){a=t.arrayFormat}else if("indices"in t){a=t.indices?"indices":"repeat"}else{a=B.arrayFormat}if("commaRoundTrip"in t&&typeof t.commaRoundTrip!=="boolean"){throw new TypeError("`commaRoundTrip` must be a boolean, or absent")}var o=typeof t.allowDots==="undefined"?t.encodeDotInKeys===true?true:B.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix==="boolean"?t.addQueryPrefix:B.addQueryPrefix,allowDots:o,allowEmptyArrays:typeof t.allowEmptyArrays==="boolean"?!!t.allowEmptyArrays:B.allowEmptyArrays,arrayFormat:a,charset:r,charsetSentinel:typeof t.charsetSentinel==="boolean"?t.charsetSentinel:B.charsetSentinel,commaRoundTrip:t.commaRoundTrip,delimiter:typeof t.delimiter==="undefined"?B.delimiter:t.delimiter,encode:typeof t.encode==="boolean"?t.encode:B.encode,encodeDotInKeys:typeof t.encodeDotInKeys==="boolean"?t.encodeDotInKeys:B.encodeDotInKeys,encoder:typeof t.encoder==="function"?t.encoder:B.encoder,encodeValuesOnly:typeof t.encodeValuesOnly==="boolean"?t.encodeValuesOnly:B.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof t.serializeDate==="function"?t.serializeDate:B.serializeDate,skipNulls:typeof t.skipNulls==="boolean"?t.skipNulls:B.skipNulls,sort:typeof t.sort==="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling==="boolean"?t.strictNullHandling:B.strictNullHandling}};t.exports=function(e,t){var r=e;var i=y(t);var n;var s;if(typeof i.filter==="function"){s=i.filter;r=s("",r)}else if(Q(i.filter)){s=i.filter;n=s}var a=[];if(typeof r!=="object"||r===null){return""}var o=d[i.arrayFormat];var l=o==="comma"&&i.commaRoundTrip;if(!n){n=Object.keys(r)}if(i.sort){n.sort(i.sort)}var u=D();for(var f=0;f<n.length;++f){var c=n[f];if(i.skipNulls&&r[c]===null){continue}M(a,v(r[c],c,o,l,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,u))}var p=a.join(i.delimiter);var h=i.addQueryPrefix===true?"?":"";if(i.charsetSentinel){if(i.charset==="iso-8859-1"){h+="utf8=%26%2310003%3B&"}else{h+="utf8=%E2%9C%93&"}}return p.length>0?h+p:""}},{"./formats":77,"./utils":81,"side-channel":95}],81:[function(e,t,r){"use strict";var h=e("./formats");var o=Object.prototype.hasOwnProperty;var l=Array.isArray;var d=function(){var e=[];for(var t=0;t<256;++t){e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase())}return e}();var c=function e(t){while(t.length>1){var r=t.pop();var i=r.obj[r.prop];if(l(i)){var n=[];for(var s=0;s<i.length;++s){if(typeof i[s]!=="undefined"){n.push(i[s])}}r.obj[r.prop]=n}}};var u=function e(t,r){var i=r&&r.plainObjects?Object.create(null):{};for(var n=0;n<t.length;++n){if(typeof t[n]!=="undefined"){i[n]=t[n]}}return i};var i=function i(n,s,a){if(!s){return n}if(typeof s!=="object"){if(l(n)){n.push(s)}else if(n&&typeof n==="object"){if(a&&(a.plainObjects||a.allowPrototypes)||!o.call(Object.prototype,s)){n[s]=true}}else{return[n,s]}return n}if(!n||typeof n!=="object"){return[n].concat(s)}var e=n;if(l(n)&&!l(s)){e=u(n,a)}if(l(n)&&l(s)){s.forEach(function(e,t){if(o.call(n,t)){var r=n[t];if(r&&typeof r==="object"&&e&&typeof e==="object"){n[t]=i(r,e,a)}else{n.push(e)}}else{n[t]=e}});return n}return Object.keys(s).reduce(function(e,t){var r=s[t];if(o.call(e,t)){e[t]=i(e[t],r,a)}else{e[t]=r}return e},e)};var n=function e(t,r){return Object.keys(r).reduce(function(e,t){e[t]=r[t];return e},t)};var s=function(e,t,r){var i=e.replace(/\+/g," ");if(r==="iso-8859-1"){return i.replace(/%[0-9a-f]{2}/gi,unescape)}try{return decodeURIComponent(i)}catch(e){return i}};var v=1024;var a=function e(t,r,i,n,s){if(t.length===0){return t}var a=t;if(typeof t==="symbol"){a=Symbol.prototype.toString.call(t)}else if(typeof t!=="string"){a=String(t)}if(i==="iso-8859-1"){return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"})}var o="";for(var l=0;l<a.length;l+=v){var u=a.length>=v?a.slice(l,l+v):a;var f=[];for(var c=0;c<u.length;++c){var p=u.charCodeAt(c);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===h.RFC1738&&(p===40||p===41)){f[f.length]=u.charAt(c);continue}if(p<128){f[f.length]=d[p];continue}if(p<2048){f[f.length]=d[192|p>>6]+d[128|p&63];continue}if(p<55296||p>=57344){f[f.length]=d[224|p>>12]+d[128|p>>6&63]+d[128|p&63];continue}c+=1;p=65536+((p&1023)<<10|u.charCodeAt(c)&1023);f[f.length]=d[240|p>>18]+d[128|p>>12&63]+d[128|p>>6&63]+d[128|p&63]}o+=f.join("")}return o};var f=function e(t){var r=[{obj:{o:t},prop:"o"}];var i=[];for(var n=0;n<r.length;++n){var s=r[n];var a=s.obj[s.prop];var o=Object.keys(a);for(var l=0;l<o.length;++l){var u=o[l];var f=a[u];if(typeof f==="object"&&f!==null&&i.indexOf(f)===-1){r.push({obj:a,prop:u});i.push(f)}}}c(r);return t};var p=function e(t){return Object.prototype.toString.call(t)==="[object RegExp]"};var y=function e(t){if(!t||typeof t!=="object"){return false}return!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};var g=function e(t,r){return[].concat(t,r)};var b=function e(t,r){if(l(t)){var i=[];for(var n=0;n<t.length;n+=1){i.push(r(t[n]))}return i}return r(t)};t.exports={arrayToObject:u,assign:n,combine:g,compact:f,decode:s,encode:a,isBuffer:y,isRegExp:p,maybeMap:b,merge:i}},{"./formats":77}],82:[function(e,t,r){t.exports=e("./lib")},{"./lib":91}],83:[function(e,t,r){"use strict";t.exports=class i{constructor(e,t=new Map,r=0){this.prefix=e;this._existing=t;this.counter=r}clone(){const{prefix:e,_existing:t,counter:r}=this;return new i(e,new Map(t),r)}getId(e){const t=e&&this._existing.get(e);if(t){return t}const r=this.prefix+this.counter;this.counter++;if(e){this._existing.set(e,r)}return r}hasId(e){return this._existing.has(e)}getOldIds(){return[...this._existing.keys()]}}},{}],84:[function(e,t,r){"use strict";e("setimmediate");const i=self.crypto||self.msCrypto;t.exports=class n{constructor(e){if(!(i&&i.subtle)){throw new Error("crypto.subtle not found.")}if(e==="sha256"){this.algorithm={name:"SHA-256"}}else if(e==="sha1"){this.algorithm={name:"SHA-1"}}else{throw new Error(`Unsupported algorithm "${e}".`)}this._content=""}update(e){this._content+=e}async digest(){const e=(new TextEncoder).encode(this._content);const t=new Uint8Array(await i.subtle.digest(this.algorithm,e));let r="";for(let e=0;e<t.length;++e){r+=t[e].toString(16).padStart(2,"0")}return r}}},{setimmediate:94}],85:[function(e,t,r){"use strict";const i=["subject","predicate","object","graph"];const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#";const f=n+"langString";const c="http://www.w3.org/2001/XMLSchema#string";const p="NamedNode";const h="BlankNode";const d="Literal";const v="DefaultGraph";const y={};(()=>{const e="(?:<([^:]+:[^>]*)>)";const t="A-Z"+"a-z"+"À-Ö"+"Ø-ö"+"ø-˿"+"Ͱ-ͽ"+"Ϳ-῿"+"‌-‍"+"⁰-↏"+"Ⰰ-⿯"+"、-퟿"+"豈-﷏"+"ﷰ-�";const r=t+"_";const i=r+"0-9"+"-"+"·"+"̀-ͯ"+"‿-⁀";const n="(_:"+"(?:["+r+"0-9])"+"(?:(?:["+i+".])*(?:["+i+"]))?"+")";const s=n;const a='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"';const o="(?:\\^\\^"+e+")";const l="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))";const u="(?:"+a+"(?:"+o+"|"+l+")?)";const f="[ \\t]+";const c="[ \\t]*";const p="(?:"+e+"|"+s+")"+f;const h=e+f;const d="(?:"+e+"|"+s+"|"+u+")"+c;const v="(?:\\.|(?:(?:"+e+"|"+s+")"+c+"\\.))";y.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g;y.empty=new RegExp("^"+c+"$");y.quad=new RegExp("^"+c+p+h+d+v+c+"$")})();t.exports=class l{static parse(e){const t=[];const r={};const i=e.split(y.eoln);let n=0;for(const s of i){n++;if(y.empty.test(s)){continue}const a=s.match(y.quad);if(a===null){throw new Error("N-Quads parse error on line "+n+".")}const o={subject:null,predicate:null,object:null,graph:null};if(a[1]!==undefined){o.subject={termType:p,value:a[1]}}else{o.subject={termType:h,value:a[2]}}o.predicate={termType:p,value:a[3]};if(a[4]!==undefined){o.object={termType:p,value:a[4]}}else if(a[5]!==undefined){o.object={termType:h,value:a[5]}}else{o.object={termType:d,value:undefined,datatype:{termType:p}};if(a[7]!==undefined){o.object.datatype.value=a[7]}else if(a[8]!==undefined){o.object.datatype.value=f;o.object.language=a[8]}else{o.object.datatype.value=c}o.object.value=b(a[6])}if(a[9]!==undefined){o.graph={termType:p,value:a[9]}}else if(a[10]!==undefined){o.graph={termType:h,value:a[10]}}else{o.graph={termType:v,value:""}}if(!(o.graph.value in r)){r[o.graph.value]=[o];t.push(o)}else{let e=true;const l=r[o.graph.value];for(const u of l){if(g(u,o)){e=false;break}}if(e){l.push(o);t.push(o)}}}return t}static serialize(e){if(!Array.isArray(e)){e=l.legacyDatasetToQuads(e)}const t=[];for(const r of e){t.push(l.serializeQuad(r))}return t.sort().join("")}static serializeQuadComponents(e,t,r,i){let n="";if(e.termType===p){n+=`<${e.value}>`}else{n+=`${e.value}`}n+=` <${t.value}> `;if(r.termType===p){n+=`<${r.value}>`}else if(r.termType===h){n+=r.value}else{n+=`"${a(r.value)}"`;if(r.datatype.value===f){if(r.language){n+=`@${r.language}`}}else if(r.datatype.value!==c){n+=`^^<${r.datatype.value}>`}}if(i.termType===p){n+=` <${i.value}>`}else if(i.termType===h){n+=` ${i.value}`}n+=" .\n";return n}static serializeQuad(e){return l.serializeQuadComponents(e.subject,e.predicate,e.object,e.graph)}static legacyDatasetToQuads(e){const s=[];const a={"blank node":h,IRI:p,literal:d};for(const o in e){const t=e[o];t.forEach(e=>{const t={};for(const r in e){const i=e[r];const n={termType:a[i.type],value:i.value};if(n.termType===d){n.datatype={termType:p};if("datatype"in i){n.datatype.value=i.datatype}if("language"in i){if(!("datatype"in i)){n.datatype.value=f}n.language=i.language}else if(!("datatype"in i)){n.datatype.value=c}}t[r]=n}if(o==="@default"){t.graph={termType:v,value:""}}else{t.graph={termType:o.startsWith("_:")?h:p,value:o}}s.push(t)})}return s}};function g(e,t){if(!(e.subject.termType===t.subject.termType&&e.object.termType===t.object.termType)){return false}if(!(e.subject.value===t.subject.value&&e.predicate.value===t.predicate.value&&e.object.value===t.object.value)){return false}if(e.object.termType!==d){return true}return e.object.datatype.termType===t.object.datatype.termType&&e.object.language===t.object.language&&e.object.datatype.value===t.object.datatype.value}const s=/["\\\n\r]/g;function a(e){return e.replace(s,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}const o=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function b(e){return e.replace(o,function(e,t,r,i){if(t){switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}}if(r){return String.fromCharCode(parseInt(r,16))}if(i){throw new Error("Unsupported U escape")}})}},{}],86:[function(e,t,r){"use strict";t.exports=class i{constructor(t){this.current=t.sort();this.done=false;this.dir=new Map;for(let e=0;e<t.length;++e){this.dir.set(t[e],true)}}hasNext(){return!this.done}next(){const{current:t,dir:r}=this;const e=t.slice();let i=null;let n=0;const s=t.length;for(let e=0;e<s;++e){const a=t[e];const o=r.get(a);if((i===null||a>i)&&(o&&e>0&&a>t[e-1]||!o&&e<s-1&&a>t[e+1])){i=a;n=e}}if(i===null){this.done=true}else{const l=r.get(i)?n-1:n+1;t[n]=t[l];t[l]=i;for(const a of t){if(a>i){r.set(a,!r.get(a))}}}return e}}},{}],87:[function(r,n,e){(function(t){(function(){"use strict";const y=r("./IdentifierIssuer");const i=r("./MessageDigest");const d=r("./Permuter");const g=r("./NQuads");n.exports=class e{constructor({createMessageDigest:e=()=>new i("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:r=Infinity}={}){this.name="URDNA2015";this.blankNodeInfo=new Map;this.canonicalIssuer=new y("_:c14n",t);this.createMessageDigest=e;this.maxDeepIterations=r;this.quads=null;this.deepIterations=null}async main(e){this.deepIterations=new Map;this.quads=e;for(const o of e){this._addBlankNodeQuadInfo({quad:o,component:o.subject});this._addBlankNodeQuadInfo({quad:o,component:o.object});this._addBlankNodeQuadInfo({quad:o,component:o.graph})}const t=new Map;const r=[...this.blankNodeInfo.keys()];let i=0;for(const l of r){if(++i%100===0){await this._yield()}await this._hashAndTrackBlankNode({id:l,hashToBlankNodes:t})}const n=[...t.keys()].sort();const s=[];for(const u of n){const f=t.get(u);if(f.length>1){s.push(f);continue}const l=f[0];this.canonicalIssuer.getId(l)}for(const f of s){const c=[];for(const l of f){if(this.canonicalIssuer.hasId(l)){continue}const p=new y("_:b");p.getId(l);const h=await this.hashNDegreeQuads(l,p);c.push(h)}c.sort(b);for(const h of c){const d=h.issuer.getOldIds();for(const l of d){this.canonicalIssuer.getId(l)}}}const a=[];for(const o of this.quads){const v=g.serializeQuadComponents(this._componentWithCanonicalId(o.subject),o.predicate,this._componentWithCanonicalId(o.object),this._componentWithCanonicalId(o.graph));a.push(v)}a.sort();return a.join("")}async hashFirstDegreeQuads(e){const t=[];const r=this.blankNodeInfo.get(e);const i=r.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(e,s.subject,"subject");a.object=this.modifyFirstDegreeComponent(e,s.object,"object");a.graph=this.modifyFirstDegreeComponent(e,s.graph,"graph");t.push(g.serializeQuad(a))}t.sort();const n=this.createMessageDigest();for(const o of t){n.update(o)}r.hash=await n.digest();return r.hash}async hashRelatedBlankNode(e,t,r,i){let n;if(this.canonicalIssuer.hasId(e)){n=this.canonicalIssuer.getId(e)}else if(r.hasId(e)){n=r.getId(e)}else{n=this.blankNodeInfo.get(e).hash}const s=this.createMessageDigest();s.update(i);if(i!=="g"){s.update(this.getRelatedPredicate(t))}s.update(n);return s.digest()}async hashNDegreeQuads(e,a){const t=this.deepIterations.get(e)||0;if(t>this.maxDeepIterations){throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`)}this.deepIterations.set(e,t+1);const r=this.createMessageDigest();const o=await this.createHashToRelated(e,a);const i=[...o.keys()].sort();for(const l of i){r.update(l);let i="";let n;const u=new d(o.get(l));let s=0;while(u.hasNext()){const f=u.next();if(++s%3===0){await this._yield()}let e=a.clone();let t="";const c=[];let r=false;for(const p of f){if(this.canonicalIssuer.hasId(p)){t+=this.canonicalIssuer.getId(p)}else{if(!e.hasId(p)){c.push(p)}t+=e.getId(p)}if(i.length!==0&&t>i){r=true;break}}if(r){continue}for(const p of c){const h=await this.hashNDegreeQuads(p,e);t+=e.getId(p);t+=`<${h.hash}>`;e=h.issuer;if(i.length!==0&&t>i){r=true;break}}if(r){continue}if(i.length===0||t<i){i=t;n=e}}r.update(i);a=n}return{hash:await r.digest(),issuer:a}}modifyFirstDegreeComponent(e,t){if(t.termType!=="BlankNode"){return t}return{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}async createHashToRelated(e,t){const r=new Map;const i=this.blankNodeInfo.get(e).quads;let n=0;for(const s of i){if(++n%100===0){await this._yield()}await Promise.all([this._addRelatedBlankNodeHash({quad:s,component:s.subject,position:"s",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.object,position:"o",id:e,issuer:t,hashToRelated:r}),this._addRelatedBlankNodeHash({quad:s,component:s.graph,position:"g",id:e,issuer:t,hashToRelated:r})])}return r}async _hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=await this.hashFirstDegreeQuads(e);const i=t.get(r);if(!i){t.set(r,[e])}else{i.push(e)}}_addBlankNodeQuadInfo({quad:e,component:t}){if(t.termType!=="BlankNode"){return}const r=t.value;const i=this.blankNodeInfo.get(r);if(i){i.quads.add(e)}else{this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}}async _addRelatedBlankNodeHash({quad:e,component:t,position:r,id:i,issuer:n,hashToRelated:s}){if(!(t.termType==="BlankNode"&&t.value!==i)){return}const a=t.value;const o=await this.hashRelatedBlankNode(a,e,n,r);const l=s.get(o);if(l){l.push(a)}else{s.set(o,[a])}}_componentWithCanonicalId(e){if(e.termType==="BlankNode"&&!e.value.startsWith(this.canonicalIssuer.prefix)){return{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}return e}async _yield(){return new Promise(e=>t(e))}};function b(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}}).call(this)}).call(this,r("timers").setImmediate)},{"./IdentifierIssuer":83,"./MessageDigest":84,"./NQuads":85,"./Permuter":86,timers:131}],88:[function(e,t,r){"use strict";const v=e("./IdentifierIssuer");const i=e("./MessageDigest");const h=e("./Permuter");const y=e("./NQuads");t.exports=class n{constructor({createMessageDigest:e=()=>new i("sha256"),canonicalIdMap:t=new Map,maxDeepIterations:r=Infinity}={}){this.name="URDNA2015";this.blankNodeInfo=new Map;this.canonicalIssuer=new v("_:c14n",t);this.createMessageDigest=e;this.maxDeepIterations=r;this.quads=null;this.deepIterations=null}main(e){this.deepIterations=new Map;this.quads=e;for(const a of e){this._addBlankNodeQuadInfo({quad:a,component:a.subject});this._addBlankNodeQuadInfo({quad:a,component:a.object});this._addBlankNodeQuadInfo({quad:a,component:a.graph})}const t=new Map;const r=[...this.blankNodeInfo.keys()];for(const o of r){this._hashAndTrackBlankNode({id:o,hashToBlankNodes:t})}const i=[...t.keys()].sort();const n=[];for(const l of i){const u=t.get(l);if(u.length>1){n.push(u);continue}const o=u[0];this.canonicalIssuer.getId(o)}for(const u of n){const f=[];for(const o of u){if(this.canonicalIssuer.hasId(o)){continue}const c=new v("_:b");c.getId(o);const p=this.hashNDegreeQuads(o,c);f.push(p)}f.sort(g);for(const p of f){const h=p.issuer.getOldIds();for(const o of h){this.canonicalIssuer.getId(o)}}}const s=[];for(const a of this.quads){const d=y.serializeQuadComponents(this._componentWithCanonicalId({component:a.subject}),a.predicate,this._componentWithCanonicalId({component:a.object}),this._componentWithCanonicalId({component:a.graph}));s.push(d)}s.sort();return s.join("")}hashFirstDegreeQuads(e){const t=[];const r=this.blankNodeInfo.get(e);const i=r.quads;for(const s of i){const a={subject:null,predicate:s.predicate,object:null,graph:null};a.subject=this.modifyFirstDegreeComponent(e,s.subject,"subject");a.object=this.modifyFirstDegreeComponent(e,s.object,"object");a.graph=this.modifyFirstDegreeComponent(e,s.graph,"graph");t.push(y.serializeQuad(a))}t.sort();const n=this.createMessageDigest();for(const o of t){n.update(o)}r.hash=n.digest();return r.hash}hashRelatedBlankNode(e,t,r,i){let n;if(this.canonicalIssuer.hasId(e)){n=this.canonicalIssuer.getId(e)}else if(r.hasId(e)){n=r.getId(e)}else{n=this.blankNodeInfo.get(e).hash}const s=this.createMessageDigest();s.update(i);if(i!=="g"){s.update(this.getRelatedPredicate(t))}s.update(n);return s.digest()}hashNDegreeQuads(e,s){const t=this.deepIterations.get(e)||0;if(t>this.maxDeepIterations){throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`)}this.deepIterations.set(e,t+1);const r=this.createMessageDigest();const a=this.createHashToRelated(e,s);const i=[...a.keys()].sort();for(const o of i){r.update(o);let i="";let n;const l=new h(a.get(o));while(l.hasNext()){const u=l.next();let e=s.clone();let t="";const f=[];let r=false;for(const c of u){if(this.canonicalIssuer.hasId(c)){t+=this.canonicalIssuer.getId(c)}else{if(!e.hasId(c)){f.push(c)}t+=e.getId(c)}if(i.length!==0&&t>i){r=true;break}}if(r){continue}for(const c of f){const p=this.hashNDegreeQuads(c,e);t+=e.getId(c);t+=`<${p.hash}>`;e=p.issuer;if(i.length!==0&&t>i){r=true;break}}if(r){continue}if(i.length===0||t<i){i=t;n=e}}r.update(i);s=n}return{hash:r.digest(),issuer:s}}modifyFirstDegreeComponent(e,t){if(t.termType!=="BlankNode"){return t}return{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return`<${e.predicate.value}>`}createHashToRelated(e,t){const r=new Map;const i=this.blankNodeInfo.get(e).quads;for(const n of i){this._addRelatedBlankNodeHash({quad:n,component:n.subject,position:"s",id:e,issuer:t,hashToRelated:r});this._addRelatedBlankNodeHash({quad:n,component:n.object,position:"o",id:e,issuer:t,hashToRelated:r});this._addRelatedBlankNodeHash({quad:n,component:n.graph,position:"g",id:e,issuer:t,hashToRelated:r})}return r}_hashAndTrackBlankNode({id:e,hashToBlankNodes:t}){const r=this.hashFirstDegreeQuads(e);const i=t.get(r);if(!i){t.set(r,[e])}else{i.push(e)}}_addBlankNodeQuadInfo({quad:e,component:t}){if(t.termType!=="BlankNode"){return}const r=t.value;const i=this.blankNodeInfo.get(r);if(i){i.quads.add(e)}else{this.blankNodeInfo.set(r,{quads:new Set([e]),hash:null})}}_addRelatedBlankNodeHash({quad:e,component:t,position:r,id:i,issuer:n,hashToRelated:s}){if(!(t.termType==="BlankNode"&&t.value!==i)){return}const a=t.value;const o=this.hashRelatedBlankNode(a,e,n,r);const l=s.get(o);if(l){l.push(a)}else{s.set(o,[a])}}_componentWithCanonicalId({component:e}){if(e.termType==="BlankNode"&&!e.value.startsWith(this.canonicalIssuer.prefix)){return{termType:"BlankNode",value:this.canonicalIssuer.getId(e.value)}}return e}};function g(e,t){return e.hash<t.hash?-1:e.hash>t.hash?1:0}},{"./IdentifierIssuer":83,"./MessageDigest":84,"./NQuads":85,"./Permuter":86}],89:[function(e,t,r){"use strict";const i=e("./MessageDigest");const n=e("./URDNA2015");t.exports=class s extends n{constructor(){super();this.name="URGNA2012";this.createMessageDigest=()=>new i("sha1")}modifyFirstDegreeComponent(e,t,r){if(t.termType!=="BlankNode"){return t}if(r==="graph"){return{termType:"BlankNode",value:"_:g"}}return{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}async createHashToRelated(r,i){const n=new Map;const e=this.blankNodeInfo.get(r).quads;let s=0;for(const a of e){let e;let t;if(a.subject.termType==="BlankNode"&&a.subject.value!==r){t=a.subject.value;e="p"}else if(a.object.termType==="BlankNode"&&a.object.value!==r){t=a.object.value;e="r"}else{continue}if(++s%100===0){await this._yield()}const o=await this.hashRelatedBlankNode(t,a,i,e);const l=n.get(o);if(l){l.push(t)}else{n.set(o,[t])}}return n}}},{"./MessageDigest":84,"./URDNA2015":87}],90:[function(e,t,r){"use strict";const i=e("./MessageDigest");const n=e("./URDNA2015Sync");t.exports=class s extends n{constructor(){super();this.name="URGNA2012";this.createMessageDigest=()=>new i("sha1")}modifyFirstDegreeComponent(e,t,r){if(t.termType!=="BlankNode"){return t}if(r==="graph"){return{termType:"BlankNode",value:"_:g"}}return{termType:"BlankNode",value:t.value===e?"_:a":"_:z"}}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(r,i){const n=new Map;const e=this.blankNodeInfo.get(r).quads;for(const s of e){let e;let t;if(s.subject.termType==="BlankNode"&&s.subject.value!==r){t=s.subject.value;e="p"}else if(s.object.termType==="BlankNode"&&s.object.value!==r){t=s.object.value;e="r"}else{continue}const a=this.hashRelatedBlankNode(t,s,i,e);const o=n.get(a);if(o){o.push(t)}else{n.set(a,[t])}}return n}}},{"./MessageDigest":84,"./URDNA2015Sync":88}],91:[function(e,t,r){"use strict";const i=e("./URDNA2015");const s=e("./URGNA2012");const n=e("./URDNA2015Sync");const a=e("./URGNA2012Sync");let o;try{o=e("rdf-canonize-native")}catch(e){}function l(e){if(!Array.isArray(e)){return r.NQuads.legacyDatasetToQuads(e)}return e}r.NQuads=e("./NQuads");r.IdentifierIssuer=e("./IdentifierIssuer");r._rdfCanonizeNative=function(e){if(e){o=e}return o};r.canonize=async function(e,t){const n=l(e,t);if(t.useNative){if(!o){throw new Error("rdf-canonize-native not available")}if(t.createMessageDigest){throw new Error('"createMessageDigest" cannot be used with "useNative".')}return new Promise((r,i)=>o.canonize(n,t,(e,t)=>e?i(e):r(t)))}if(t.algorithm==="URDNA2015"){return new i(t).main(n)}if(t.algorithm==="URGNA2012"){if(t.createMessageDigest){throw new Error('"createMessageDigest" cannot be used with "URGNA2012".')}return new s(t).main(n)}if(!("algorithm"in t)){throw new Error("No RDF Dataset Canonicalization algorithm specified.")}throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)};r._canonizeSync=function(e,t){const r=l(e,t);if(t.useNative){if(!o){throw new Error("rdf-canonize-native not available")}if(t.createMessageDigest){throw new Error('"createMessageDigest" cannot be used with "useNative".')}return o.canonizeSync(r,t)}if(t.algorithm==="URDNA2015"){return new n(t).main(r)}if(t.algorithm==="URGNA2012"){if(t.createMessageDigest){throw new Error('"createMessageDigest" cannot be used with "URGNA2012".')}return new a(t).main(r)}if(!("algorithm"in t)){throw new Error("No RDF Dataset Canonicalization algorithm specified.")}throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},{"./IdentifierIssuer":83,"./NQuads":85,"./URDNA2015":87,"./URDNA2015Sync":88,"./URGNA2012":89,"./URGNA2012Sync":90,"rdf-canonize-native":3}],92:[function(e,t,r){var i=e("buffer");var n=i.Buffer;function s(e,t){for(var r in e){t[r]=e[r]}}if(n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow){t.exports=i}else{s(i,r);r.Buffer=a}function a(e,t,r){return n(e,t,r)}a.prototype=Object.create(n.prototype);s(n,a);a.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return n(e,t,r)};a.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var i=n(e);if(t!==undefined){if(typeof r==="string"){i.fill(t,r)}else{i.fill(t)}}else{i.fill(0)}return i};a.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n(e)};a.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i.SlowBuffer(e)}},{buffer:8}],93:[function(e,t,r){"use strict";var i=e("get-intrinsic");var o=e("define-data-property");var l=e("has-property-descriptors")();var u=e("gopd");var f=e("es-errors/type");var c=i("%Math.floor%");t.exports=function e(t,r){if(typeof t!=="function"){throw new f("`fn` is not a function")}if(typeof r!=="number"||r<0||r>4294967295||c(r)!==r){throw new f("`length` must be a positive 32-bit integer")}var i=arguments.length>2&&!!arguments[2];var n=true;var s=true;if("length"in t&&u){var a=u(t,"length");if(a&&!a.configurable){n=false}if(a&&!a.writable){s=false}}if(n||s||!i){if(l){o(t,"length",r,true,true)}else{o(t,"length",r)}}return t}},{"define-data-property":13,"es-errors/type":20,"get-intrinsic":26,gopd:27,"has-property-descriptors":28}],94:[function(e,t,r){(function(b,e){(function(){(function(r,i){"use strict";if(r.setImmediate){return}var n=1;var s={};var a=false;var o=r.document;var l;function e(e){if(typeof e!=="function"){e=new Function(""+e)}var t=new Array(arguments.length-1);for(var r=0;r<t.length;r++){t[r]=arguments[r+1]}var i={callback:e,args:t};s[n]=i;l(n);return n++}function u(e){delete s[e]}function f(e){var t=e.callback;var r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(i,r);break}}function c(e){if(a){setTimeout(c,0,e)}else{var t=s[e];if(t){a=true;try{f(t)}finally{u(e);a=false}}}}function t(){l=function(e){b.nextTick(function(){c(e)})}}function p(){if(r.postMessage&&!r.importScripts){var e=true;var t=r.onmessage;r.onmessage=function(){e=false};r.postMessage("","*");r.onmessage=t;return e}}function h(){var t="setImmediate$"+Math.random()+"$";var e=function(e){if(e.source===r&&typeof e.data==="string"&&e.data.indexOf(t)===0){c(+e.data.slice(t.length))}};if(r.addEventListener){r.addEventListener("message",e,false)}else{r.attachEvent("onmessage",e)}l=function(e){r.postMessage(t+e,"*")}}function d(){var t=new MessageChannel;t.port1.onmessage=function(e){var t=e.data;c(t)};l=function(e){t.port2.postMessage(e)}}function v(){var r=o.documentElement;l=function(e){var t=o.createElement("script");t.onreadystatechange=function(){c(e);t.onreadystatechange=null;r.removeChild(t);t=null};r.appendChild(t)}}function y(){l=function(e){setTimeout(c,0,e)}}var g=Object.getPrototypeOf&&Object.getPrototypeOf(r);g=g&&g.setTimeout?g:r;if({}.toString.call(r.process)==="[object process]"){t()}else if(p()){h()}else if(r.MessageChannel){d()}else if(o&&"onreadystatechange"in o.createElement("script")){v()}else{y()}g.setImmediate=e;g.clearImmediate=u})(typeof self==="undefined"?typeof e==="undefined"?this:e:self)}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:75}],95:[function(e,t,r){"use strict";var i=e("get-intrinsic");var n=e("call-bind/callBound");var s=e("object-inspect");var a=e("es-errors/type");var o=i("%WeakMap%",true);var l=i("%Map%",true);var u=n("WeakMap.prototype.get",true);var f=n("WeakMap.prototype.set",true);var c=n("WeakMap.prototype.has",true);var p=n("Map.prototype.get",true);var h=n("Map.prototype.set",true);var d=n("Map.prototype.has",true);var v=function(e,t){var r=e;var i;for(;(i=r.next)!==null;r=i){if(i.key===t){r.next=i.next;i.next=e.next;e.next=i;return i}}};var y=function(e,t){var r=v(e,t);return r&&r.value};var g=function(e,t,r){var i=v(e,t);if(i){i.value=r}else{e.next={key:t,next:e.next,value:r}}};var b=function(e,t){return!!v(e,t)};t.exports=function e(){var r;var i;var n;var t={assert:function(e){if(!t.has(e)){throw new a("Side channel does not contain "+s(e))}},get:function(e){if(o&&e&&(typeof e==="object"||typeof e==="function")){if(r){return u(r,e)}}else if(l){if(i){return p(i,e)}}else{if(n){return y(n,e)}}},has:function(e){if(o&&e&&(typeof e==="object"||typeof e==="function")){if(r){return c(r,e)}}else if(l){if(i){return d(i,e)}}else{if(n){return b(n,e)}}return false},set:function(e,t){if(o&&e&&(typeof e==="object"||typeof e==="function")){if(!r){r=new o}f(r,e,t)}else if(l){if(!i){i=new l}h(i,e,t)}else{if(!n){n={key:{},next:null}}g(n,e,t)}}};return t}},{"call-bind/callBound":10,"es-errors/type":20,"get-intrinsic":26,"object-inspect":73}],96:[function(e,t,r){t.exports=n;var f=e("events").EventEmitter;var i=e("inherits");i(n,f);n.Readable=e("readable-stream/lib/_stream_readable.js");n.Writable=e("readable-stream/lib/_stream_writable.js");n.Duplex=e("readable-stream/lib/_stream_duplex.js");n.Transform=e("readable-stream/lib/_stream_transform.js");n.PassThrough=e("readable-stream/lib/_stream_passthrough.js");n.finished=e("readable-stream/lib/internal/streams/end-of-stream.js");n.pipeline=e("readable-stream/lib/internal/streams/pipeline.js");n.Stream=n;function n(){f.call(this)}n.prototype.pipe=function(t,e){var r=this;function i(e){if(t.writable){if(false===t.write(e)&&r.pause){r.pause()}}}r.on("data",i);function n(){if(r.readable&&r.resume){r.resume()}}t.on("drain",n);if(!t._isStdio&&(!e||e.end!==false)){r.on("end",a);r.on("close",o)}var s=false;function a(){if(s)return;s=true;t.end()}function o(){if(s)return;s=true;if(typeof t.destroy==="function")t.destroy()}function l(e){u();if(f.listenerCount(this,"error")===0){throw e}}r.on("error",l);t.on("error",l);function u(){r.removeListener("data",i);t.removeListener("drain",n);r.removeListener("end",a);r.removeListener("close",o);r.removeListener("error",l);t.removeListener("error",l);r.removeListener("end",u);r.removeListener("close",u);t.removeListener("close",u)}r.on("end",u);r.on("close",u);t.on("close",u);t.emit("pipe",r);return t}},{events:22,inherits:36,"readable-stream/lib/_stream_duplex.js":98,"readable-stream/lib/_stream_passthrough.js":99,"readable-stream/lib/_stream_readable.js":100,"readable-stream/lib/_stream_transform.js":101,"readable-stream/lib/_stream_writable.js":102,"readable-stream/lib/internal/streams/end-of-stream.js":106,"readable-stream/lib/internal/streams/pipeline.js":108}],97:[function(e,t,r){"use strict";function s(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var a={};function i(e,i,t){if(!t){t=Error}function n(e,t,r){if(typeof i==="string"){return i}else{return i(e,t,r)}}var r=function(i){s(e,i);function e(e,t,r){return i.call(this,n(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;a[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function l(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function f(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);i("ERR_INVALID_ARG_TYPE",function(e,t,r){var i;if(typeof t==="string"&&l(t,"not ")){i="must not be";t=t.replace(/^not /,"")}else{i="must be"}var n;if(u(e," argument")){n="The ".concat(e," ").concat(i," ").concat(o(t,"type"))}else{var s=f(e,".")?"property":"argument";n='The "'.concat(e,'" ').concat(s," ").concat(i," ").concat(o(t,"type"))}n+=". Received type ".concat(typeof r);return n},TypeError);i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});i("ERR_STREAM_PREMATURE_CLOSE","Premature close");i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});i("ERR_MULTIPLE_CALLBACK","Callback called multiple times");i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");i("ERR_STREAM_WRITE_AFTER_END","write after end");i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");t.exports.codes=a},{}],98:[function(f,c,e){(function(u){(function(){"use strict";var e=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};c.exports=a;var t=f("./_stream_readable");var r=f("./_stream_writable");f("inherits")(a,t);{var i=e(r.prototype);for(var n=0;n<i.length;n++){var s=i[n];if(!a.prototype[s])a.prototype[s]=r.prototype[s]}}function a(e){if(!(this instanceof a))return new a(e);t.call(this,e);r.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",o)}}}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(a.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(a.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function o(){if(this._writableState.ended)return;u.nextTick(l,this)}function l(e){e.end()}Object.defineProperty(a.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this)}).call(this,f("_process"))},{"./_stream_readable":100,"./_stream_writable":102,_process:75,inherits:36}],99:[function(e,t,r){"use strict";t.exports=n;var i=e("./_stream_transform");e("inherits")(n,i);function n(e){if(!(this instanceof n))return new n(e);i.call(this,e)}n.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":101,inherits:36}],100:[function(K,$,e){(function(W,X){(function(){"use strict";$.exports=k;var i;k.ReadableState=_;var D=K("events").EventEmitter;var y=function e(t,r){return t.listeners(r).length};var n=K("./internal/streams/stream");var o=K("buffer").Buffer;var t=(typeof X!=="undefined"?X:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function l(e){return o.from(e)}function s(e){return o.isBuffer(e)||e instanceof t}var e=K("util");var g;if(e&&e.debuglog){g=e.debuglog("stream")}else{g=function e(){}}var a=K("./internal/streams/buffer_list");var r=K("./internal/streams/destroy");var u=K("./internal/streams/state"),f=u.getHighWaterMark;var c=K("../errors").codes,p=c.ERR_INVALID_ARG_TYPE,h=c.ERR_STREAM_PUSH_AFTER_EOF,d=c.ERR_METHOD_NOT_IMPLEMENTED,P=c.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var v;var b;var m;K("inherits")(k,n);var w=r.errorOrDestroy;var x=["error","close","destroy","pause","resume"];function Q(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function _(e,t,r){i=i||K("./_stream_duplex");e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=f(this,e,"readableHighWaterMark",r);this.buffer=new a;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!v)v=K("string_decoder/").StringDecoder;this.decoder=new v(e.encoding);this.encoding=e.encoding}}function k(e){i=i||K("./_stream_duplex");if(!(this instanceof k))return new k(e);var t=this instanceof i;this._readableState=new _(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}n.call(this)}Object.defineProperty(k.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});k.prototype.destroy=r.destroy;k.prototype._undestroy=r.undestroy;k.prototype._destroy=function(e,t){t(e)};k.prototype.push=function(e,t){var r=this._readableState;var i;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}i=true}}else{i=true}return E(this,e,t,false,i)};k.prototype.unshift=function(e){return E(this,e,null,true,false)};function E(e,t,r,i,n){g("readableAddChunk",t);var s=e._readableState;if(t===null){s.reading=false;U(e,s)}else{var a;if(!n)a=M(s,t);if(a){w(e,a)}else if(s.objectMode||t&&t.length>0){if(typeof t!=="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=l(t)}if(i){if(s.endEmitted)w(e,new P);else A(e,s,t,true)}else if(s.ended){w(e,new h)}else if(s.destroyed){return false}else{s.reading=false;if(s.decoder&&!r){t=s.decoder.write(t);if(s.objectMode||t.length!==0)A(e,s,t,false);else I(e,s)}else{A(e,s,t,false)}}}else if(!i){s.reading=false;I(e,s)}}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function A(e,t,r,i){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(i)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)T(e)}I(e,t)}function M(e,t){var r;if(!s(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}k.prototype.isPaused=function(){return this._readableState.flowing===false};k.prototype.setEncoding=function(e){if(!v)v=K("string_decoder/").StringDecoder;var t=new v(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var i="";while(r!==null){i+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(i!=="")this._readableState.buffer.push(i);this._readableState.length=i.length;return this};var j=1073741824;function B(e){if(e>=j){e=j}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function S(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=B(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}k.prototype.read=function(e){g("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){g("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)O(this);else T(this);return null}e=S(e,t);if(e===0&&t.ended){if(t.length===0)O(this);return null}var i=t.needReadable;g("need readable",i);if(t.length===0||t.length-e<t.highWaterMark){i=true;g("length less than watermark",i)}if(t.ended||t.reading){i=false;g("reading or ended",i)}else if(i){g("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=S(r,t)}var n;if(e>0)n=N(e,t);else n=null;if(n===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)O(this)}if(n!==null)this.emit("data",n);return n};function U(e,t){g("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){T(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;F(e)}}}function T(e){var t=e._readableState;g("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){g("emitReadable",t.flowing);t.emittedReadable=true;W.nextTick(F,e)}}function F(e){var t=e._readableState;g("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;R(e)}function I(e,t){if(!t.readingMore){t.readingMore=true;W.nextTick(G,e,t)}}function G(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;g("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}k.prototype._read=function(e){w(this,new d("_read()"))};k.prototype.pipe=function(r,e){var i=this;var n=this._readableState;switch(n.pipesCount){case 0:n.pipes=r;break;case 1:n.pipes=[n.pipes,r];break;default:n.pipes.push(r);break}n.pipesCount+=1;g("pipe count=%d opts=%j",n.pipesCount,e);var t=(!e||e.end!==false)&&r!==W.stdout&&r!==W.stderr;var s=t?o:v;if(n.endEmitted)W.nextTick(s);else i.once("end",s);r.on("unpipe",a);function a(e,t){g("onunpipe");if(e===i){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;f()}}}function o(){g("onend");r.end()}var l=q(i);r.on("drain",l);var u=false;function f(){g("cleanup");r.removeListener("close",h);r.removeListener("finish",d);r.removeListener("drain",l);r.removeListener("error",p);r.removeListener("unpipe",a);i.removeListener("end",o);i.removeListener("end",v);i.removeListener("data",c);u=true;if(n.awaitDrain&&(!r._writableState||r._writableState.needDrain))l()}i.on("data",c);function c(e){g("ondata");var t=r.write(e);g("dest.write",t);if(t===false){if((n.pipesCount===1&&n.pipes===r||n.pipesCount>1&&L(n.pipes,r)!==-1)&&!u){g("false write response, pause",n.awaitDrain);n.awaitDrain++}i.pause()}}function p(e){g("onerror",e);v();r.removeListener("error",p);if(y(r,"error")===0)w(r,e)}Q(r,"error",p);function h(){r.removeListener("finish",d);v()}r.once("close",h);function d(){g("onfinish");r.removeListener("close",h);v()}r.once("finish",d);function v(){g("unpipe");i.unpipe(r)}r.emit("pipe",i);if(!n.flowing){g("pipe resume");i.resume()}return r};function q(r){return function e(){var t=r._readableState;g("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&y(r,"data")){t.flowing=true;R(r)}}}k.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var i=t.pipes;var n=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var s=0;s<n;s++)i[s].emit("unpipe",this,{hasUnpiped:false});return this}var a=L(t.pipes,e);if(a===-1)return this;t.pipes.splice(a,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};k.prototype.on=function(e,t){var r=n.prototype.on.call(this,e,t);var i=this._readableState;if(e==="data"){i.readableListening=this.listenerCount("readable")>0;if(i.flowing!==false)this.resume()}else if(e==="readable"){if(!i.endEmitted&&!i.readableListening){i.readableListening=i.needReadable=true;i.flowing=false;i.emittedReadable=false;g("on readable",i.length,i.reading);if(i.length){T(this)}else if(!i.reading){W.nextTick(H,this)}}}return r};k.prototype.addListener=k.prototype.on;k.prototype.removeListener=function(e,t){var r=n.prototype.removeListener.call(this,e,t);if(e==="readable"){W.nextTick(C,this)}return r};k.prototype.removeAllListeners=function(e){var t=n.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){W.nextTick(C,this)}return t};function C(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){g("readable nexttick read 0");e.read(0)}k.prototype.resume=function(){var e=this._readableState;if(!e.flowing){g("resume");e.flowing=!e.readableListening;J(this,e)}e.paused=false;return this};function J(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;W.nextTick(z,e,t)}}function z(e,t){g("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");R(e);if(t.flowing&&!t.reading)e.read(0)}k.prototype.pause=function(){g("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){g("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function R(e){var t=e._readableState;g("flow",t.flowing);while(t.flowing&&e.read()!==null);}k.prototype.wrap=function(r){var i=this;var n=this._readableState;var s=false;r.on("end",function(){g("wrapped end");if(n.decoder&&!n.ended){var e=n.decoder.end();if(e&&e.length)i.push(e)}i.push(null)});r.on("data",function(e){g("wrapped data");if(n.decoder)e=n.decoder.write(e);if(n.objectMode&&(e===null||e===undefined))return;else if(!n.objectMode&&(!e||!e.length))return;var t=i.push(e);if(!t){s=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<x.length;t++){r.on(x[t],this.emit.bind(this,x[t]))}this._read=function(e){g("wrapped _read",e);if(s){s=false;r.resume()}};return this};if(typeof Symbol==="function"){k.prototype[Symbol.asyncIterator]=function(){if(b===undefined){b=K("./internal/streams/async_iterator")}return b(this)}}Object.defineProperty(k.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(k.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(k.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});k._fromList=N;Object.defineProperty(k.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function N(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function O(e){var t=e._readableState;g("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;W.nextTick(V,t,e)}}function V(e,t){g("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){k.from=function(e,t){if(m===undefined){m=K("./internal/streams/from")}return m(k,e,t)}}function L(e,t){for(var r=0,i=e.length;r<i;r++){if(e[r]===t)return r}return-1}}).call(this)}).call(this,K("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":97,"./_stream_duplex":98,"./internal/streams/async_iterator":103,"./internal/streams/buffer_list":104,"./internal/streams/destroy":105,"./internal/streams/from":107,"./internal/streams/state":109,"./internal/streams/stream":110,_process:75,buffer:8,events:22,inherits:36,"string_decoder/":130,util:3}],101:[function(e,t,r){"use strict";t.exports=f;var i=e("../errors").codes,n=i.ERR_METHOD_NOT_IMPLEMENTED,s=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0;var l=e("./_stream_duplex");e("inherits")(f,l);function u(e,t){var r=this._transformState;r.transforming=false;var i=r.writecb;if(i===null){return this.emit("error",new s)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);i(e);var n=this._readableState;n.reading=false;if(n.needReadable||n.length<n.highWaterMark){this._read(n.highWaterMark)}}function f(e){if(!(this instanceof f))return new f(e);l.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){p(r,e,t)})}else{p(this,null,null)}}f.prototype.push=function(e,t){this._transformState.needTransform=false;return l.prototype.push.call(this,e,t)};f.prototype._transform=function(e,t,r){r(new n("_transform()"))};f.prototype._write=function(e,t,r){var i=this._transformState;i.writecb=r;i.writechunk=e;i.writeencoding=t;if(!i.transforming){var n=this._readableState;if(i.needTransform||n.needReadable||n.length<n.highWaterMark)this._read(n.highWaterMark)}};f.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};f.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,function(e){t(e)})};function p(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new a;return e.push(null)}},{"../errors":97,"./_stream_duplex":98,inherits:36}],102:[function(J,z,e){(function(q,H){(function(){"use strict";z.exports=E;function D(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function p(e){var t=this;this.next=null;this.entry=null;this.finish=function(){G(t,e)}}var n;E.WritableState=_;var e={deprecate:J("util-deprecate")};var r=J("./internal/streams/stream");var a=J("buffer").Buffer;var t=(typeof H!=="undefined"?H:typeof window!=="undefined"?window:typeof self!=="undefined"?self:{}).Uint8Array||function(){};function o(e){return a.from(e)}function l(e){return a.isBuffer(e)||e instanceof t}var i=J("./internal/streams/destroy");var s=J("./internal/streams/state"),u=s.getHighWaterMark;var f=J("../errors").codes,c=f.ERR_INVALID_ARG_TYPE,h=f.ERR_METHOD_NOT_IMPLEMENTED,d=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,y=f.ERR_STREAM_DESTROYED,g=f.ERR_STREAM_NULL_VALUES,b=f.ERR_STREAM_WRITE_AFTER_END,m=f.ERR_UNKNOWN_ENCODING;var w=i.errorOrDestroy;J("inherits")(E,r);function x(){}function _(e,t,r){n=n||J("./_stream_duplex");e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=u(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var i=e.decodeStrings===false;this.decodeStrings=!i;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){P(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new p(this)}_.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(_.prototype,"buffer",{get:e.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var k;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){k=Function.prototype[Symbol.hasInstance];Object.defineProperty(E,Symbol.hasInstance,{value:function e(t){if(k.call(this,t))return true;if(this!==E)return false;return t&&t._writableState instanceof _}})}else{k=function e(t){return t instanceof this}}function E(e){n=n||J("./_stream_duplex");var t=this instanceof n;if(!t&&!k.call(E,this))return new E(e);this._writableState=new _(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}r.call(this)}E.prototype.pipe=function(){w(this,new v)};function A(e,t){var r=new b;w(e,r);q.nextTick(t,r)}function j(e,t,r,i){var n;if(r===null){n=new g}else if(typeof r!=="string"&&!t.objectMode){n=new c("chunk",["string","Buffer"],r)}if(n){w(e,n);q.nextTick(i,n);return false}return true}E.prototype.write=function(e,t,r){var i=this._writableState;var n=false;var s=!i.objectMode&&l(e);if(s&&!a.isBuffer(e)){e=o(e)}if(typeof t==="function"){r=t;t=null}if(s)t="buffer";else if(!t)t=i.defaultEncoding;if(typeof r!=="function")r=x;if(i.ending)A(this,r);else if(s||j(this,i,e,r)){i.pendingcb++;n=T(this,i,s,e,t,r)}return n};E.prototype.cork=function(){this._writableState.corked++};E.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)N(this,e)}};E.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new m(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(E.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function S(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=a.from(t,r)}return t}Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function T(e,t,r,i,n,s){if(!r){var a=S(t,i,n);if(i!==a){r=true;n="buffer";i=a}}var o=t.objectMode?1:i.length;t.length+=o;var l=t.length<t.highWaterMark;if(!l)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:i,encoding:n,isBuf:r,callback:s,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{F(e,t,false,o,i,n,s)}return l}function F(e,t,r,i,n,s,a){t.writelen=i;t.writecb=a;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new y("write"));else if(r)e._writev(n,t.onwrite);else e._write(n,s,t.onwrite);t.sync=false}function I(e,t,r,i,n){--t.pendingcb;if(r){q.nextTick(n,i);q.nextTick(L,e,t);e._writableState.errorEmitted=true;w(e,i)}else{n(i);e._writableState.errorEmitted=true;w(e,i);L(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function P(e,t){var r=e._writableState;var i=r.sync;var n=r.writecb;if(typeof n!=="function")throw new d;C(r);if(t)I(e,r,i,t,n);else{var s=O(r)||e.destroyed;if(!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){N(e,r)}if(i){q.nextTick(R,e,r,s,n)}else{R(e,r,s,n)}}}function R(e,t,r,i){if(!r)Q(e,t);t.pendingcb--;i();L(e,t)}function Q(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function N(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var i=t.bufferedRequestCount;var n=new Array(i);var s=t.corkedRequestsFree;s.entry=r;var a=0;var o=true;while(r){n[a]=r;if(!r.isBuf)o=false;r=r.next;a+=1}n.allBuffers=o;F(e,t,true,t.length,n,"",s.finish);t.pendingcb++;t.lastBufferedRequest=null;if(s.next){t.corkedRequestsFree=s.next;s.next=null}else{t.corkedRequestsFree=new p(t)}t.bufferedRequestCount=0}else{while(r){var l=r.chunk;var u=r.encoding;var f=r.callback;var c=t.objectMode?1:l.length;F(e,t,false,c,l,u,f);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}E.prototype._write=function(e,t,r){r(new h("_write()"))};E.prototype._writev=null;E.prototype.end=function(e,t,r){var i=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(i.corked){i.corked=1;this.uncork()}if(!i.ending)U(this,i,r);return this};Object.defineProperty(E.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function O(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function M(t,r){t._final(function(e){r.pendingcb--;if(e){w(t,e)}r.prefinished=true;t.emit("prefinish");L(t,r)})}function B(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;q.nextTick(M,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function L(e,t){var r=O(t);if(r){B(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var i=e._readableState;if(!i||i.autoDestroy&&i.endEmitted){e.destroy()}}}}return r}function U(e,t,r){t.ending=true;L(e,t);if(r){if(t.finished)q.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function G(e,t,r){var i=e.entry;e.entry=null;while(i){var n=i.callback;t.pendingcb--;n(r);i=i.next}t.corkedRequestsFree.next=e}Object.defineProperty(E.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});E.prototype.destroy=i.destroy;E.prototype._undestroy=i.undestroy;E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,J("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":97,"./_stream_duplex":98,"./internal/streams/destroy":105,"./internal/streams/state":109,"./internal/streams/stream":110,_process:75,buffer:8,inherits:36,"util-deprecate":133}],103:[function(w,x,e){(function(m){(function(){"use strict";var e;function i(e,t,r){t=n(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function n(e){var t=r(e,"string");return typeof t==="symbol"?t:String(t)}function r(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var i=r.call(e,t||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var s=w("./end-of-stream");var a=Symbol("lastResolve");var o=Symbol("lastReject");var l=Symbol("error");var u=Symbol("ended");var f=Symbol("lastPromise");var c=Symbol("handlePromise");var p=Symbol("stream");function h(e,t){return{value:e,done:t}}function t(e){var t=e[a];if(t!==null){var r=e[p].read();if(r!==null){e[f]=null;e[a]=null;e[o]=null;t(h(r,false))}}}function d(e){m.nextTick(t,e)}function v(r,i){return function(e,t){r.then(function(){if(i[u]){e(h(undefined,true));return}i[c](e,t)},t)}}var y=Object.getPrototypeOf(function(){});var g=Object.setPrototypeOf((e={get stream(){return this[p]},next:function e(){var r=this;var t=this[l];if(t!==null){return Promise.reject(t)}if(this[u]){return Promise.resolve(h(undefined,true))}if(this[p].destroyed){return new Promise(function(e,t){m.nextTick(function(){if(r[l]){t(r[l])}else{e(h(undefined,true))}})})}var i=this[f];var n;if(i){n=new Promise(v(i,this))}else{var s=this[p].read();if(s!==null){return Promise.resolve(h(s,false))}n=new Promise(this[c])}this[f]=n;return n}},i(e,Symbol.asyncIterator,function(){return this}),i(e,"return",function e(){var i=this;return new Promise(function(t,r){i[p].destroy(null,function(e){if(e){r(e);return}t(h(undefined,true))})})}),e),y);var b=function e(t){var r;var n=Object.create(g,(r={},i(r,p,{value:t,writable:true}),i(r,a,{value:null,writable:true}),i(r,o,{value:null,writable:true}),i(r,l,{value:null,writable:true}),i(r,u,{value:t._readableState.endEmitted,writable:true}),i(r,c,{value:function e(t,r){var i=n[p].read();if(i){n[f]=null;n[a]=null;n[o]=null;t(h(i,false))}else{n[a]=t;n[o]=r}},writable:true}),r));n[f]=null;s(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=n[o];if(t!==null){n[f]=null;n[a]=null;n[o]=null;t(e)}n[l]=e;return}var r=n[a];if(r!==null){n[f]=null;n[a]=null;n[o]=null;r(h(undefined,true))}n[u]=true});t.on("readable",d.bind(null,n));return n};x.exports=b}).call(this)}).call(this,w("_process"))},{"./end-of-stream":106,_process:75}],104:[function(e,t,r){"use strict";function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,i)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach(function(e){s(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function s(e,t,r){t=u(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||false;i.configurable=true;if("value"in i)i.writable=true;Object.defineProperty(e,u(i.key),i)}}function l(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function u(e){var t=f(e,"string");return typeof t==="symbol"?t:String(t)}function f(e,t){if(typeof e!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var i=r.call(e,t||"default");if(typeof i!=="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c=e("buffer"),p=c.Buffer;var h=e("util"),d=h.inspect;var v=d&&d.custom||"inspect";function y(e,t,r){p.prototype.copy.call(e,t,r)}t.exports=function(){function e(){a(this,e);this.head=null;this.tail=null;this.length=0}l(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var i=""+r.data;while(r=r.next)i+=t+r.data;return i}},{key:"concat",value:function e(t){if(this.length===0)return p.alloc(0);var r=p.allocUnsafe(t>>>0);var i=this.head;var n=0;while(i){y(i.data,r,n);n+=i.data.length;i=i.next}return r}},{key:"consume",value:function e(t,r){var i;if(t<this.head.data.length){i=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){i=this.shift()}else{i=r?this._getString(t):this._getBuffer(t)}return i}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var i=1;var n=r.data;t-=n.length;while(r=r.next){var s=r.data;var a=t>s.length?s.length:t;if(a===s.length)n+=s;else n+=s.slice(0,t);t-=a;if(t===0){if(a===s.length){++i;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=s.slice(a)}break}++i}this.length-=i;return n}},{key:"_getBuffer",value:function e(t){var r=p.allocUnsafe(t);var i=this.head;var n=1;i.data.copy(r);t-=i.data.length;while(i=i.next){var s=i.data;var a=t>s.length?s.length:t;s.copy(r,r.length-t,0,a);t-=a;if(t===0){if(a===s.length){++n;if(i.next)this.head=i.next;else this.head=this.tail=null}else{this.head=i;i.data=s.slice(a)}break}++n}this.length-=n;return r}},{key:v,value:function e(t,r){return d(this,n(n({},r),{},{depth:0,customInspect:false}))}}]);return e}()},{buffer:8,util:3}],105:[function(e,i,t){(function(l){(function(){"use strict";function e(e,t){var r=this;var i=this._readableState&&this._readableState.destroyed;var n=this._writableState&&this._writableState.destroyed;if(i||n){if(t){t(e)}else if(e){if(!this._writableState){l.nextTick(o,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;l.nextTick(o,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){l.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;l.nextTick(s,r,e)}else{l.nextTick(a,r)}}else if(t){l.nextTick(a,r);t(e)}else{l.nextTick(a,r)}});return this}function s(e,t){o(e,t);a(e)}function a(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function o(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var i=e._writableState;if(r&&r.autoDestroy||i&&i.autoDestroy)e.destroy(t);else e.emit("error",t)}i.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this)}).call(this,e("_process"))},{_process:75}],106:[function(e,t,r){"use strict";var h=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function d(i){var n=false;return function(){if(n)return;n=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}i.apply(this,t)}}function v(){}function y(e){return e.setHeader&&typeof e.abort==="function"}function g(r,e,i){if(typeof e==="function")return g(r,null,e);if(!e)e={};i=d(i||v);var n=e.readable||e.readable!==false&&r.readable;var s=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var a=r._writableState&&r._writableState.finished;var o=function e(){s=false;a=true;if(!n)i.call(r)};var l=r._readableState&&r._readableState.endEmitted;var u=function e(){n=false;l=true;if(!s)i.call(r)};var f=function e(t){i.call(r,t)};var c=function e(){var t;if(n&&!l){if(!r._readableState||!r._readableState.ended)t=new h;return i.call(r,t)}if(s&&!a){if(!r._writableState||!r._writableState.ended)t=new h;return i.call(r,t)}};var p=function e(){r.req.on("finish",o)};if(y(r)){r.on("complete",o);r.on("abort",c);if(r.req)p();else r.on("request",p)}else if(s&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",f);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",p);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",f);r.removeListener("close",c)}}t.exports=g},{"../../../errors":97}],107:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],108:[function(a,e,t){"use strict";var o;function l(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=a("../../../errors").codes,i=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function n(e){if(e)throw e}function f(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,i){i=l(i);var n=false;t.on("close",function(){n=true});if(o===undefined)o=a("./end-of-stream");o(t,{readable:e,writable:r},function(e){if(e)return i(e);n=true;i()});var s=false;return function(e){if(n)return;if(s)return;s=true;if(f(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();i(e||new u("pipe"))}}function p(e){e()}function h(e,t){return e.pipe(t)}function d(e){if(!e.length)return n;if(typeof e[e.length-1]!=="function")return n;return e.pop()}function s(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++){n[t]=arguments[t]}var s=d(n);if(Array.isArray(n[0]))n=n[0];if(n.length<2){throw new i("streams")}var a;var o=n.map(function(e,t){var r=t<n.length-1;var i=t>0;return c(e,r,i,function(e){if(!a)a=e;if(e)o.forEach(p);if(r)return;o.forEach(p);s(a)})});return n.reduce(h)}e.exports=s},{"../../../errors":97,"./end-of-stream":106}],109:[function(e,t,r){"use strict";var a=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function i(e,t,r,i){var n=o(t,i,r);if(n!=null){if(!(isFinite(n)&&Math.floor(n)===n)||n<0){var s=i?r:"highWaterMark";throw new a(s,n)}return Math.floor(n)}return e.objectMode?16:16*1024}t.exports={getHighWaterMark:i}},{"../../../errors":97}],110:[function(e,t,r){t.exports=e("events").EventEmitter},{events:22}],111:[function(r,e,i){(function(c){(function(){var l=r("./lib/request");var e=r("./lib/response");var u=r("xtend");var t=r("builtin-status-codes");var f=r("url");var n=i;n.request=function(e,t){if(typeof e==="string")e=f.parse(e);else e=u(e);var r=c.location.protocol.search(/^https?:$/)===-1?"http:":"";var i=e.protocol||r;var n=e.hostname||e.host;var s=e.port;var a=e.path||"/";if(n&&n.indexOf(":")!==-1)n="["+n+"]";e.url=(n?i+"//"+n:"")+(s?":"+s:"")+a;e.method=(e.method||"GET").toUpperCase();e.headers=e.headers||{};var o=new l(e);if(t)o.on("response",t);return o};n.get=function e(t,r){var i=n.request(t,r);i.end();return i};n.ClientRequest=l;n.IncomingMessage=e.IncomingMessage;n.Agent=function(){};n.Agent.defaultMaxSockets=4;n.globalAgent=new n.Agent;n.STATUS_CODES=t;n.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./lib/request":113,"./lib/response":114,"builtin-status-codes":9,url:132,xtend:135}],112:[function(e,t,s){(function(n){(function(){s.fetch=i(n.fetch)&&i(n.ReadableStream);s.writableStream=i(n.WritableStream);s.abortController=i(n.AbortController);var t;function r(){if(t!==undefined)return t;if(n.XMLHttpRequest){t=new n.XMLHttpRequest;try{t.open("GET",n.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else{t=null}return t}function e(e){var t=r();if(!t)return false;try{t.responseType=e;return t.responseType===e}catch(e){}return false}s.arraybuffer=s.fetch||e("arraybuffer");s.msstream=!s.fetch&&e("ms-stream");s.mozchunkedarraybuffer=!s.fetch&&e("moz-chunked-arraybuffer");s.overrideMimeType=s.fetch||(r()?i(r().overrideMimeType):false);function i(e){return typeof e==="function"}t=null}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],113:[function(h,d,e){(function(f,c,p){(function(){var l=h("./capability");var e=h("inherits");var t=h("./response");var n=h("readable-stream");var r=t.IncomingMessage;var u=t.readyStates;function s(e,t){if(l.fetch&&t){return"fetch"}else if(l.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(l.msstream){return"ms-stream"}else if(l.arraybuffer&&e){return"arraybuffer"}else{return"text"}}var i=d.exports=function(t){var r=this;n.Writable.call(r);r._opts=t;r._body=[];r._headers={};if(t.auth)r.setHeader("Authorization","Basic "+p.from(t.auth).toString("base64"));Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var e;var i=true;if(t.mode==="disable-fetch"||"requestTimeout"in t&&!l.abortController){i=false;e=true}else if(t.mode==="prefer-streaming"){e=false}else if(t.mode==="allow-wrong-content-type"){e=!l.overrideMimeType}else if(!t.mode||t.mode==="default"||t.mode==="prefer-fast"){e=true}else{throw new Error("Invalid value for opts.mode")}r._mode=s(e,i);r._fetchTimer=null;r._socketTimeout=null;r._socketTimer=null;r.on("finish",function(){r._onFinish()})};e(i,n.Writable);i.prototype.setHeader=function(e,t){var r=this;var i=e.toLowerCase();if(o.indexOf(i)!==-1)return;r._headers[i]={name:e,value:t}};i.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];if(t)return t.value;return null};i.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};i.prototype._onFinish=function(){var t=this;if(t._destroyed)return;var e=t._opts;if("timeout"in e&&e.timeout!==0){t.setTimeout(e.timeout)}var i=t._headers;var r=null;if(e.method!=="GET"&&e.method!=="HEAD"){r=new Blob(t._body,{type:(i["content-type"]||{}).value||""})}var n=[];Object.keys(i).forEach(function(e){var t=i[e].name;var r=i[e].value;if(Array.isArray(r)){r.forEach(function(e){n.push([t,e])})}else{n.push([t,r])}});if(t._mode==="fetch"){var s=null;if(l.abortController){var a=new AbortController;s=a.signal;t._fetchAbortController=a;if("requestTimeout"in e&&e.requestTimeout!==0){t._fetchTimer=c.setTimeout(function(){t.emit("requestTimeout");if(t._fetchAbortController)t._fetchAbortController.abort()},e.requestTimeout)}}c.fetch(t._opts.url,{method:t._opts.method,headers:n,body:r||undefined,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:s}).then(function(e){t._fetchResponse=e;t._resetTimers(false);t._connect()},function(e){t._resetTimers(true);if(!t._destroyed)t.emit("error",e)})}else{var o=t._xhr=new c.XMLHttpRequest;try{o.open(t._opts.method,t._opts.url,true)}catch(e){f.nextTick(function(){t.emit("error",e)});return}if("responseType"in o)o.responseType=t._mode;if("withCredentials"in o)o.withCredentials=!!e.withCredentials;if(t._mode==="text"&&"overrideMimeType"in o)o.overrideMimeType("text/plain; charset=x-user-defined");if("requestTimeout"in e){o.timeout=e.requestTimeout;o.ontimeout=function(){t.emit("requestTimeout")}}n.forEach(function(e){o.setRequestHeader(e[0],e[1])});t._response=null;o.onreadystatechange=function(){switch(o.readyState){case u.LOADING:case u.DONE:t._onXHRProgress();break}};if(t._mode==="moz-chunked-arraybuffer"){o.onprogress=function(){t._onXHRProgress()}}o.onerror=function(){if(t._destroyed)return;t._resetTimers(true);t.emit("error",new Error("XHR error"))};try{o.send(r)}catch(e){f.nextTick(function(){t.emit("error",e)});return}}};function a(e){try{var t=e.status;return t!==null&&t!==0}catch(e){return false}}i.prototype._onXHRProgress=function(){var e=this;e._resetTimers(false);if(!a(e._xhr)||e._destroyed)return;if(!e._response)e._connect();e._response._onXHRProgress(e._resetTimers.bind(e))};i.prototype._connect=function(){var t=this;if(t._destroyed)return;t._response=new r(t._xhr,t._fetchResponse,t._mode,t._resetTimers.bind(t));t._response.on("error",function(e){t.emit("error",e)});t.emit("response",t._response)};i.prototype._write=function(e,t,r){var i=this;i._body.push(e);r()};i.prototype._resetTimers=function(e){var t=this;c.clearTimeout(t._socketTimer);t._socketTimer=null;if(e){c.clearTimeout(t._fetchTimer);t._fetchTimer=null}else if(t._socketTimeout){t._socketTimer=c.setTimeout(function(){t.emit("timeout")},t._socketTimeout)}};i.prototype.abort=i.prototype.destroy=function(e){var t=this;t._destroyed=true;t._resetTimers(true);if(t._response)t._response._destroyed=true;if(t._xhr)t._xhr.abort();else if(t._fetchAbortController)t._fetchAbortController.abort();if(e)t.emit("error",e)};i.prototype.end=function(e,t,r){var i=this;if(typeof e==="function"){r=e;e=undefined}n.Writable.prototype.end.call(i,e,t,r)};i.prototype.setTimeout=function(e,t){var r=this;if(t)r.once("timeout",t);r._socketTimeout=e;r._resetTimers(false)};i.prototype.flushHeaders=function(){};i.prototype.setNoDelay=function(){};i.prototype.setSocketKeepAlive=function(){};var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,h("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},h("buffer").Buffer)},{"./capability":112,"./response":114,_process:75,buffer:8,inherits:36,"readable-stream":129}],114:[function(r,e,i){(function(h,u,d){(function(){var c=r("./capability");var e=r("inherits");var p=r("readable-stream");var l=i.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var t=i.IncomingMessage=function(e,t,r,i){var n=this;p.Readable.call(n);n._mode=r;n.headers={};n.rawHeaders=[];n.trailers={};n.rawTrailers=[];n.on("end",function(){h.nextTick(function(){n.emit("close")})});if(r==="fetch"){n._fetchResponse=t;n.url=t.url;n.statusCode=t.status;n.statusMessage=t.statusText;t.headers.forEach(function(e,t){n.headers[t.toLowerCase()]=e;n.rawHeaders.push(t,e)});if(c.writableStream){var s=new WritableStream({write:function(r){i(false);return new Promise(function(e,t){if(n._destroyed){t()}else if(n.push(d.from(r))){e()}else{n._resumeFetch=e}})},close:function(){i(true);if(!n._destroyed)n.push(null)},abort:function(e){i(true);if(!n._destroyed)n.emit("error",e)}});try{t.body.pipeTo(s).catch(function(e){i(true);if(!n._destroyed)n.emit("error",e)});return}catch(e){}}var a=t.body.getReader();function o(){a.read().then(function(e){if(n._destroyed)return;i(e.done);if(e.done){n.push(null);return}n.push(d.from(e.value));o()}).catch(function(e){i(true);if(!n._destroyed)n.emit("error",e)})}o()}else{n._xhr=e;n._pos=0;n.url=e.responseURL;n.statusCode=e.status;n.statusMessage=e.statusText;var l=e.getAllResponseHeaders().split(/\r?\n/);l.forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();if(r==="set-cookie"){if(n.headers[r]===undefined){n.headers[r]=[]}n.headers[r].push(t[2])}else if(n.headers[r]!==undefined){n.headers[r]+=", "+t[2]}else{n.headers[r]=t[2]}n.rawHeaders.push(t[1],t[2])}});n._charset="x-user-defined";if(!c.overrideMimeType){var u=n.rawHeaders["mime-type"];if(u){var f=u.match(/;\s*charset=([^;])(;|$)/);if(f){n._charset=f[1].toLowerCase()}}if(!n._charset)n._charset="utf-8"}}};e(t,p.Readable);t.prototype._read=function(){var e=this;var t=e._resumeFetch;if(t){e._resumeFetch=null;t()}};t.prototype._onXHRProgress=function(e){var t=this;var r=t._xhr;var i=null;switch(t._mode){case"text":i=r.responseText;if(i.length>t._pos){var n=i.substr(t._pos);if(t._charset==="x-user-defined"){var s=d.alloc(n.length);for(var a=0;a<n.length;a++)s[a]=n.charCodeAt(a)&255;t.push(s)}else{t.push(n,t._charset)}t._pos=i.length}break;case"arraybuffer":if(r.readyState!==l.DONE||!r.response)break;i=r.response;t.push(d.from(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":i=r.response;if(r.readyState!==l.LOADING||!i)break;t.push(d.from(new Uint8Array(i)));break;case"ms-stream":i=r.response;if(r.readyState!==l.LOADING)break;var o=new u.MSStreamReader;o.onprogress=function(){if(o.result.byteLength>t._pos){t.push(d.from(new Uint8Array(o.result.slice(t._pos))));t._pos=o.result.byteLength}};o.onload=function(){e(true);t.push(null)};o.readAsArrayBuffer(i);break}if(t._xhr.readyState===l.DONE&&t._mode!=="ms-stream"){e(true);t.push(null)}}}).call(this)}).call(this,r("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},r("buffer").Buffer)},{"./capability":112,_process:75,buffer:8,inherits:36,"readable-stream":129}],115:[function(e,t,r){arguments[4][97][0].apply(r,arguments)},{dup:97}],116:[function(e,t,r){arguments[4][98][0].apply(r,arguments)},{"./_stream_readable":118,"./_stream_writable":120,_process:75,dup:98,inherits:36}],117:[function(e,t,r){arguments[4][99][0].apply(r,arguments)},{"./_stream_transform":119,dup:99,inherits:36}],118:[function(e,t,r){arguments[4][100][0].apply(r,arguments)},{"../errors":115,"./_stream_duplex":116,"./internal/streams/async_iterator":121,"./internal/streams/buffer_list":122,"./internal/streams/destroy":123,"./internal/streams/from":125,"./internal/streams/state":127,"./internal/streams/stream":128,_process:75,buffer:8,dup:100,events:22,inherits:36,"string_decoder/":130,util:3}],119:[function(e,t,r){arguments[4][101][0].apply(r,arguments)},{"../errors":115,"./_stream_duplex":116,dup:101,inherits:36}],120:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{"../errors":115,"./_stream_duplex":116,"./internal/streams/destroy":123,"./internal/streams/state":127,"./internal/streams/stream":128,_process:75,buffer:8,dup:102,inherits:36,"util-deprecate":133}],121:[function(e,t,r){arguments[4][103][0].apply(r,arguments)},{"./end-of-stream":124,_process:75,dup:103}],122:[function(e,t,r){arguments[4][104][0].apply(r,arguments)},{buffer:8,dup:104,util:3}],123:[function(e,t,r){arguments[4][105][0].apply(r,arguments)},{_process:75,dup:105}],124:[function(e,t,r){arguments[4][106][0].apply(r,arguments)},{"../../../errors":115,dup:106}],125:[function(e,t,r){arguments[4][107][0].apply(r,arguments)},{dup:107}],126:[function(e,t,r){arguments[4][108][0].apply(r,arguments)},{"../../../errors":115,"./end-of-stream":124,dup:108}],127:[function(e,t,r){arguments[4][109][0].apply(r,arguments)},{"../../../errors":115,dup:109}],128:[function(e,t,r){arguments[4][110][0].apply(r,arguments)},{dup:110,events:22}],129:[function(e,t,r){r=t.exports=e("./lib/_stream_readable.js");r.Stream=r;r.Readable=r;r.Writable=e("./lib/_stream_writable.js");r.Duplex=e("./lib/_stream_duplex.js");r.Transform=e("./lib/_stream_transform.js");r.PassThrough=e("./lib/_stream_passthrough.js");r.finished=e("./lib/internal/streams/end-of-stream.js");r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":116,"./lib/_stream_passthrough.js":117,"./lib/_stream_readable.js":118,"./lib/_stream_transform.js":119,"./lib/_stream_writable.js":120,"./lib/internal/streams/end-of-stream.js":124,"./lib/internal/streams/pipeline.js":126}],130:[function(e,t,r){"use strict";var i=e("safe-buffer").Buffer;var n=i.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function s(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function a(e){var t=s(e);if(typeof t!=="string"&&(i.isEncoding===n||!n(e)))throw new Error("Unknown encoding: "+e);return t||e}r.StringDecoder=o;function o(e){this.encoding=a(e);var t;switch(this.encoding){case"utf16le":this.text=d;this.end=v;t=4;break;case"utf8":this.fillLast=c;t=4;break;case"base64":this.text=y;this.end=g;t=3;break;default:this.write=b;this.end=m;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=i.allocUnsafe(t)}o.prototype.write=function(e){if(e.length===0)return"";var t;var r;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";r=this.lastNeed;this.lastNeed=0}else{r=0}if(r<e.length)return t?t+this.text(e,r):this.text(e,r);return t||""};o.prototype.end=h;o.prototype.text=p;o.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function l(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function u(e,t,r){var i=t.length-1;if(i<r)return 0;var n=l(t[i]);if(n>=0){if(n>0)e.lastNeed=n-1;return n}if(--i<r||n===-2)return 0;n=l(t[i]);if(n>=0){if(n>0)e.lastNeed=n-2;return n}if(--i<r||n===-2)return 0;n=l(t[i]);if(n>=0){if(n>0){if(n===2)n=0;else e.lastNeed=n-3}return n}return 0}function f(e,t,r){if((t[0]&192)!==128){e.lastNeed=0;return"�"}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return"�"}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return"�"}}}}function c(e){var t=this.lastTotal-this.lastNeed;var r=f(this,e,t);if(r!==undefined)return r;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function p(e,t){var r=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var i=e.length-(r-this.lastNeed);e.copy(this.lastChar,0,i);return e.toString("utf8",t,i)}function h(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"�";return t}function d(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var i=r.charCodeAt(r.length-1);if(i>=55296&&i<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function v(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;if(r===0)return e.toString("base64",t);this.lastNeed=3-r;this.lastTotal=3;if(r===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-r)}function g(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function b(e){return e.toString(this.encoding)}function m(e){return e&&e.length?this.write(e):""}},{"safe-buffer":92}],131:[function(l,e,u){(function(i,o){(function(){var e=l("process/browser.js").nextTick;var t=Function.prototype.apply;var n=Array.prototype.slice;var s={};var a=0;u.setTimeout=function(){return new r(t.call(setTimeout,window,arguments),clearTimeout)};u.setInterval=function(){return new r(t.call(setInterval,window,arguments),clearInterval)};u.clearTimeout=u.clearInterval=function(e){e.close()};function r(e,t){this._id=e;this._clearFn=t}r.prototype.unref=r.prototype.ref=function(){};r.prototype.close=function(){this._clearFn.call(window,this._id)};u.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};u.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};u._unrefActive=u.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;if(e>=0){t._idleTimeoutId=setTimeout(function e(){if(t._onTimeout)t._onTimeout()},e)}};u.setImmediate=typeof i==="function"?i:function(t){var r=a++;var i=arguments.length<2?false:n.call(arguments,1);s[r]=true;e(function e(){if(s[r]){if(i){t.apply(null,i)}else{t.call(null)}u.clearImmediate(r)}});return r};u.clearImmediate=typeof o==="function"?o:function(e){delete s[e]}}).call(this)}).call(this,l("timers").setImmediate,l("timers").clearImmediate)},{"process/browser.js":75,timers:131}],132:[function(e,t,r){"use strict";var O=e("punycode");function S(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var L=/^([a-z0-9.+-]+:)/i,i=/:[0-9]*$/,D=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r","\n","\t"],s=["{","}","|","\\","^","`"].concat(n),P=["'"].concat(s),Q=["%","/","?",";","#"].concat(P),M=["/","?","#"],B=255,U=/^[+a-z0-9A-Z_-]{0,63}$/,G=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,q={javascript:true,"javascript:":true},H={javascript:true,"javascript:":true},J={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},z=e("qs");function a(e,t,r){if(e&&typeof e==="object"&&e instanceof S){return e}var i=new S;i.parse(e,t,r);return i}S.prototype.parse=function(e,t,r){if(typeof e!=="string"){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e.indexOf("?"),n=i!==-1&&i<e.indexOf("#")?"?":"#",s=e.split(n),a=/\\/g;s[0]=s[0].replace(a,"/");e=s.join(n);var o=e;o=o.trim();if(!r&&e.split("#").length===1){var l=D.exec(o);if(l){this.path=o;this.href=o;this.pathname=l[1];if(l[2]){this.search=l[2];if(t){this.query=z.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var u=L.exec(o);if(u){u=u[0];var f=u.toLowerCase();this.protocol=f;o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@/]+@[^@/]+/)){var c=o.substr(0,2)==="//";if(c&&!(u&&H[u])){o=o.substr(2);this.slashes=true}}if(!H[u]&&(c||u&&!J[u])){var p=-1;for(var h=0;h<M.length;h++){var d=o.indexOf(M[h]);if(d!==-1&&(p===-1||d<p)){p=d}}var v,y;if(p===-1){y=o.lastIndexOf("@")}else{y=o.lastIndexOf("@",p)}if(y!==-1){v=o.slice(0,y);o=o.slice(y+1);this.auth=decodeURIComponent(v)}p=-1;for(var h=0;h<Q.length;h++){var d=o.indexOf(Q[h]);if(d!==-1&&(p===-1||d<p)){p=d}}if(p===-1){p=o.length}this.host=o.slice(0,p);o=o.slice(p);this.parseHost();this.hostname=this.hostname||"";var g=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!g){var b=this.hostname.split(/\./);for(var h=0,m=b.length;h<m;h++){var w=b[h];if(!w){continue}if(!w.match(U)){var x="";for(var _=0,k=w.length;_<k;_++){if(w.charCodeAt(_)>127){x+="x"}else{x+=w[_]}}if(!x.match(U)){var E=b.slice(0,h);var A=b.slice(h+1);var j=w.match(G);if(j){E.push(j[1]);A.unshift(j[2])}if(A.length){o="/"+A.join(".")+o}this.hostname=E.join(".");break}}}}if(this.hostname.length>B){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!g){this.hostname=O.toASCII(this.hostname)}var S=this.port?":"+this.port:"";var T=this.hostname||"";this.host=T+S;this.href+=this.host;if(g){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(o[0]!=="/"){o="/"+o}}}if(!q[f]){for(var h=0,m=P.length;h<m;h++){var F=P[h];if(o.indexOf(F)===-1){continue}var I=encodeURIComponent(F);if(I===F){I=escape(F)}o=o.split(F).join(I)}}var C=o.indexOf("#");if(C!==-1){this.hash=o.substr(C);o=o.slice(0,C)}var R=o.indexOf("?");if(R!==-1){this.search=o.substr(R);this.query=o.substr(R+1);if(t){this.query=z.parse(this.query)}o=o.slice(0,R)}else if(t){this.search="";this.query={}}if(o){this.pathname=o}if(J[f]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var S=this.pathname||"";var N=this.search||"";this.path=S+N}this.href=this.format();return this};function o(e){if(typeof e==="string"){e=a(e)}if(!(e instanceof S)){return S.prototype.format.call(e)}return e.format()}S.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=false,s="";if(this.host){n=e+this.host}else if(this.hostname){n=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){n+=":"+this.port}}if(this.query&&typeof this.query==="object"&&Object.keys(this.query).length){s=z.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:false})}var a=this.search||s&&"?"+s||"";if(t&&t.substr(-1)!==":"){t+=":"}if(this.slashes||(!t||J[t])&&n!==false){n="//"+(n||"");if(r&&r.charAt(0)!=="/"){r="/"+r}}else if(!n){n=""}if(i&&i.charAt(0)!=="#"){i="#"+i}if(a&&a.charAt(0)!=="?"){a="?"+a}r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});a=a.replace("#","%23");return t+n+r+a+i};function l(e,t){return a(e,false,true).resolve(t)}S.prototype.resolve=function(e){return this.resolveObject(a(e,false,true)).format()};function u(e,t){if(!e){return t}return a(e,false,true).resolveObject(t)}S.prototype.resolveObject=function(e){if(typeof e==="string"){var t=new S;t.parse(e,false,true);e=t}var r=new S;var i=Object.keys(this);for(var n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var a=Object.keys(e);for(var o=0;o<a.length;o++){var l=a[o];if(l!=="protocol"){r[l]=e[l]}}if(J[r.protocol]&&r.hostname&&!r.pathname){r.pathname="/";r.path=r.pathname}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!J[e.protocol]){var u=Object.keys(e);for(var f=0;f<u.length;f++){var c=u[f];r[c]=e[c]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!H[e.protocol]){var p=(e.pathname||"").split("/");while(p.length&&!(e.host=p.shift())){}if(!e.host){e.host=""}if(!e.hostname){e.hostname=""}if(p[0]!==""){p.unshift("")}if(p.length<2){p.unshift("")}r.pathname=p.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var h=r.pathname||"";var d=r.search||"";r.path=h+d}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var v=r.pathname&&r.pathname.charAt(0)==="/",y=e.host||e.pathname&&e.pathname.charAt(0)==="/",g=y||v||r.host&&e.pathname,b=g,m=r.pathname&&r.pathname.split("/")||[],p=e.pathname&&e.pathname.split("/")||[],w=r.protocol&&!J[r.protocol];if(w){r.hostname="";r.port=null;if(r.host){if(m[0]===""){m[0]=r.host}else{m.unshift(r.host)}}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(p[0]===""){p[0]=e.host}else{p.unshift(e.host)}}e.host=null}g=g&&(p[0]===""||m[0]==="")}if(y){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;m=p}else if(p.length){if(!m){m=[]}m.pop();m=m.concat(p);r.search=e.search;r.query=e.query}else if(e.search!=null){if(w){r.host=m.shift();r.hostname=r.host;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(x){r.auth=x.shift();r.hostname=x.shift();r.host=r.hostname}}r.search=e.search;r.query=e.query;if(r.pathname!==null||r.search!==null){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!m.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var _=m.slice(-1)[0];var k=(r.host||e.host||m.length>1)&&(_==="."||_==="..")||_==="";var E=0;for(var A=m.length;A>=0;A--){_=m[A];if(_==="."){m.splice(A,1)}else if(_===".."){m.splice(A,1);E++}else if(E){m.splice(A,1);E--}}if(!g&&!b){for(;E--;E){m.unshift("..")}}if(g&&m[0]!==""&&(!m[0]||m[0].charAt(0)!=="/")){m.unshift("")}if(k&&m.join("/").substr(-1)!=="/"){m.push("")}var j=m[0]===""||m[0]&&m[0].charAt(0)==="/";if(w){r.hostname=j?"":m.length?m.shift():"";r.host=r.hostname;var x=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(x){r.auth=x.shift();r.hostname=x.shift();r.host=r.hostname}}g=g||r.host&&m.length;if(g&&!j){m.unshift("")}if(m.length>0){r.pathname=m.join("/")}else{r.pathname=null;r.path=null}if(r.pathname!==null||r.search!==null){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};S.prototype.parseHost=function(){var e=this.host;var t=i.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e){this.hostname=e}};r.parse=a;r.resolve=l;r.resolveObject=u;r.format=o;r.Url=S},{punycode:76,qs:78}],133:[function(e,t,r){(function(r){(function(){t.exports=e;function e(e,t){if(n("noDeprecation")){return e}var r=false;function i(){if(!r){if(n("throwDeprecation")){throw new Error(t)}else if(n("traceDeprecation")){console.trace(t)}else{console.warn(t)}r=true}return e.apply(this,arguments)}return i}function n(e){try{if(!r.localStorage)return false}catch(e){return false}var t=r.localStorage[e];if(null==t)return false;return String(t).toLowerCase()==="true"}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],134:[function(y,g,e){(function(v){(function(){"use strict";var t=y("for-each");var e=y("available-typed-arrays");var s=y("call-bind");var r=y("call-bind/callBound");var a=y("gopd");var i=r("Object.prototype.toString");var n=y("has-tostringtag/shams")();var o=typeof globalThis==="undefined"?v:globalThis;var l=e();var u=r("String.prototype.slice");var f=Object.getPrototypeOf;var c=r("Array.prototype.indexOf",true)||function e(t,r){for(var i=0;i<t.length;i+=1){if(t[i]===r){return i}}return-1};var p={__proto__:null};if(n&&a&&f){t(l,function(e){var t=new o[e];if(Symbol.toStringTag in t){var r=f(t);var i=a(r,Symbol.toStringTag);if(!i){var n=f(r);i=a(n,Symbol.toStringTag)}p["$"+e]=s(i.get)}})}else{t(l,function(e){var t=new o[e];var r=t.slice||t.set;if(r){p["$"+e]=s(r)}})}var h=function e(r){var i=false;t(p,function(e,t){if(!i){try{if("$"+e(r)===t){i=u(t,1)}}catch(e){}}});return i};var d=function e(r){var i=false;t(p,function(e,t){if(!i){try{e(r);i=u(t,1)}catch(e){}}});return i};g.exports=function e(t){if(!t||typeof t!=="object"){return false}if(!n){var r=u(i(t),8,-1);if(c(l,r)>-1){return r}if(r!=="Object"){return false}return d(t)}if(!a){return null}return h(t)}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"available-typed-arrays":1,"call-bind":11,"call-bind/callBound":10,"for-each":23,gopd:27,"has-tostringtag/shams":32}],135:[function(e,t,r){t.exports=i;var n=Object.prototype.hasOwnProperty;function i(){var e={};for(var t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r){if(n.call(r,i)){e[i]=r[i]}}}return e}},{}],136:[function(e,t,r){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},{}],137:[function(e,t,r){"use strict";t.exports=s;s.Node=o;s.create=s;function s(e){var t=this;if(!(t instanceof s)){t=new s}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach(function(e){t.push(e)})}else if(arguments.length>0){for(var r=0,i=arguments.length;r<i;r++){t.push(arguments[r])}}return t}s.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var r=e.prev;if(t){t.prev=r}if(r){r.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=r}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};s.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};s.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};s.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){i(this,arguments[e])}return this.length};s.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){n(this,arguments[e])}return this.length};s.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};s.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};s.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,i=0;r!==null;i++){e.call(t,r.value,i,this);r=r.next}};s.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,i=this.length-1;r!==null;i--){e.call(t,r.value,i,this);r=r.prev}};s.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++){r=r.next}if(t===e&&r!==null){return r.value}};s.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++){r=r.prev}if(t===e&&r!==null){return r.value}};s.prototype.map=function(e,t){t=t||this;var r=new s;for(var i=this.head;i!==null;){r.push(e.call(t,i.value,this));i=i.next}return r};s.prototype.mapReverse=function(e,t){t=t||this;var r=new s;for(var i=this.tail;i!==null;){r.push(e.call(t,i.value,this));i=i.prev}return r};s.prototype.reduce=function(e,t){var r;var i=this.head;if(arguments.length>1){r=t}else if(this.head){i=this.head.next;r=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=0;i!==null;n++){r=e(r,i.value,n);i=i.next}return r};s.prototype.reduceReverse=function(e,t){var r;var i=this.tail;if(arguments.length>1){r=t}else if(this.tail){i=this.tail.prev;r=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var n=this.length-1;i!==null;n--){r=e(r,i.value,n);i=i.prev}return r};s.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,r=this.head;r!==null;t++){e[t]=r.value;r=r.next}return e};s.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,r=this.tail;r!==null;t++){e[t]=r.value;r=r.prev}return e};s.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new s;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var i=0,n=this.head;n!==null&&i<e;i++){n=n.next}for(;n!==null&&i<t;i++,n=n.next){r.push(n.value)}return r};s.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new s;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var i=this.length,n=this.tail;n!==null&&i>t;i--){n=n.prev}for(;n!==null&&i>e;i--,n=n.prev){r.push(n.value)}return r};s.prototype.splice=function(e,t,...r){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var i=0,n=this.head;n!==null&&i<e;i++){n=n.next}var s=[];for(var i=0;n&&i<t;i++){s.push(n.value);n=this.removeNode(n)}if(n===null){n=this.tail}if(n!==this.head&&n!==this.tail){n=n.prev}for(var i=0;i<r.length;i++){n=a(this,n,r[i])}return s};s.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var r=e;r!==null;r=r.prev){var i=r.prev;r.prev=r.next;r.next=i}this.head=t;this.tail=e;return this};function a(e,t,r){var i=t===e.head?new o(r,null,t,e):new o(r,t,t.next,e);if(i.next===null){e.tail=i}if(i.prev===null){e.head=i}e.length++;return i}function i(e,t){e.tail=new o(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function n(e,t){e.head=new o(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function o(e,t,r,i){if(!(this instanceof o)){return new o(e,t,r,i)}this.list=i;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(r){r.prev=this;this.next=r}else{this.next=null}}try{e("./iterator.js")(s)}catch(e){}},{"./iterator.js":136}],138:[function(e,t,r){var i=e("./parser");var o=e("./utils");var p=o;function c(e,t){this.name="NonSupportedSparqlFeatureError";this.feature=e;this.message=t||"SPARQL feature "+e+" non supported"}c.prototype=new Error;c.constructor=c;function a(e){this.name=ParserError;this.message=e||"Error parsing SPARQL query"}a.prototype=new Error;a.constructor=a;AbstractQueryTree=function(){};AbstractQueryTree.prototype.parseQueryString=function(e){return i.parse(e)};AbstractQueryTree.prototype.parseExecutableUnit=function(e){if(e.kind==="select"){return this.parseSelect(e)}else if(e.kind==="ask"){return this.parseSelect(e)}else if(e.kind==="modify"){return this.parseSelect(e)}else if(e.kind==="construct"){return this.parseSelect(e)}else if(e.kind==="insertdata"){return this.parseInsertData(e)}else if(e.kind==="deletedata"){return this.parseInsertData(e)}else if(e.kind==="load"){return e}else if(e.kind==="clear"){return e}else if(e.kind==="drop"){return e}else if(e.kind==="create"){return e}else{throw new Error("unknown executable unit: "+e.kind)}};AbstractQueryTree.prototype.parseSelect=function(e){if(e==null){console.log("error parsing query");return null}else{var t={freshCounter:0};e.pattern=this.build(e.pattern,t);return e}};AbstractQueryTree.prototype.parseInsertData=function(e){if(e==null){console.log("error parsing query");return null}else{return e}};AbstractQueryTree.prototype.build=function(e,t){if(e.token==="groupgraphpattern"){return this._buildGroupGraphPattern(e,t)}else if(e.token==="basicgraphpattern"){var r={kind:"BGP",value:e.triplesContext};r=AbstractQueryTree.translatePathExpressionsInBGP(r,t);return r}else if(e.token==="graphunionpattern"){var i=this.build(e.value[0],t);var n=this.build(e.value[1],t);return{kind:"UNION",value:[i,n]}}else if(e.token==="graphgraphpattern"){var s=this.build(e.value,t);return{kind:"GRAPH",value:s,graph:e.graph}}else{if(e.token!=null){throw new c(e.token,"Non implemented SPARQL graph pattern: '"+e.token+"'")}else{throw new a("Error parsing graph pattern: '"+JSON.stringify(e)+"'")}}};AbstractQueryTree.translatePathExpressionsInBGP=function(e,t){var r;var i=[],n,s;for(var a=0;a<e.value.length;a++){if(e.value[a].predicate&&e.value[a].predicate.token==="path"){r=e.value[a];n=e.value.slice(a+1);var o=AbstractQueryTree.translatePathExpression(r,t);var l=null;if(o.kind==="BGP"){i=i.concat(o.value)}else if(o.kind==="ZERO_OR_MORE_PATH"||o.kind==="ONE_OR_MORE_PATH"){if(i.length>0){s={kind:"JOIN",lvalue:{kind:"BGP",value:i},rvalue:o}}else{s=o}if(o.kind==="ZERO_OR_MORE_PATH"){if(o.y.token==="var"&&o.y.value.indexOf("fresh:")===0&&o.x.token==="var"&&o.x.value.indexOf("fresh:")===0){for(var u=0;u<e.value.length;u++){if(e.value[u].object&&e.value[u].object.token==="var"&&e.value[u].object.value===o.x.value){l=p.clone(e.value[u],true);l.object=o.y}}}else if(o.y.token==="var"&&o.y.value.indexOf("fresh:")===0){for(var u=0;u<e.value.length;u++){if(e.value[u].subject&&e.value[u].subject.token==="var"&&e.value[u].subject.value===o.y.value){l=p.clone(e.value[u],true);l.subject=o.x}}}}if(n.length>0){var f=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:n},t);if(l!=null){var c=i.concat([l]).concat(n);return{kind:"UNION",value:[{kind:"JOIN",lvalue:s,rvalue:f},{kind:"BGP",value:c}]}}else{return{kind:"JOIN",lvalue:s,rvalue:f}}}else{return s}}else{return o}}else{i.push(e.value[a])}}e.value=i;return e};AbstractQueryTree.translatePathExpression=function(e,t){if(e.predicate.kind==="element"){if(e.predicate.modifier==="+"){e.predicate.modifier=null;var r=AbstractQueryTree.translatePathExpression(e,t);return{kind:"ONE_OR_MORE_PATH",path:r,x:e.subject,y:e.object}}else if(e.predicate.modifier==="*"){e.predicate.modifier=null;var r=AbstractQueryTree.translatePathExpression(e,t);return{kind:"ZERO_OR_MORE_PATH",path:r,x:e.subject,y:e.object}}else{e.predicate=e.predicate.value;return{kind:"BGP",value:[e]}}}else if(e.predicate.kind==="sequence"){var i=e.subject;var n=e.object;var s=e.graph;var a,o;var l=[];for(var u=0;u<e.predicate.value.length;u++){if(u!=e.predicate.value.length-1){a={token:"var",value:"fresh:"+t.freshCounter};t.freshCounter++}else{a=n}o={subject:i,predicate:e.predicate.value[u],object:a};if(s!=null)o.graph=p.clone(s,true);l.push(o);if(u!=e.predicate.value.length-1)i=p.clone(a,true)}var f={kind:"BGP",value:l};return AbstractQueryTree.translatePathExpressionsInBGP(f,t)}else{throw new c("Non supported path expression "+e.predicate.kind)}};AbstractQueryTree.prototype._buildGroupGraphPattern=function(e,t){var r=e.filters||[];var i=e.binds||[];var n={kind:"EMPTY_PATTERN"};for(var s=0;s<e.patterns.length;s++){var a=e.patterns[s];if(a.token==="optionalgraphpattern"){var o=this.build(a.value,t);if(o.kind==="FILTER"){n={kind:"LEFT_JOIN",lvalue:n,rvalue:o.value,filter:o.filter}}else{n={kind:"LEFT_JOIN",lvalue:n,rvalue:o,filter:true}}}else{var o=this.build(a,t);if(n.kind=="EMPTY_PATTERN"){n=o}else{n={kind:"JOIN",lvalue:n,rvalue:o}}}}n.binds=i;if(r.length!=0){if(n.kind==="EMPTY_PATTERN"){return{kind:"FILTER",filter:r,value:n}}else if(n.kind==="LEFT_JOIN"&&n.filter===true){return{kind:"FILTER",filter:r,value:n}}else if(n.kind==="LEFT_JOIN"){return{kind:"FILTER",filter:r,value:n}}else if(n.kind==="JOIN"){return{kind:"FILTER",filter:r,value:n}}else if(n.kind==="UNION"){return{kind:"FILTER",filter:r,value:n}}else if(n.kind==="GRAPH"){return{kind:"FILTER",filter:r,value:n}}else if(n.kind==="BGP"){return{kind:"FILTER",filter:r,value:n}}else{throw new Error("Unknow kind of algebra expression: "+n.kind)}}else{return n}};AbstractQueryTree.prototype.collectBasicTriples=function(e,t){if(t==null){t=[]}if(e.kind==="select"){t=this.collectBasicTriples(e.pattern,t)}else if(e.kind==="BGP"){t=t.concat(e.value)}else if(e.kind==="ZERO_OR_MORE_PATH"){t=this.collectBasicTriples(e.path)}else if(e.kind==="UNION"){t=this.collectBasicTriples(e.value[0],t);t=this.collectBasicTriples(e.value[1],t)}else if(e.kind==="GRAPH"){t=this.collectBasicTriples(e.value,t)}else if(e.kind==="LEFT_JOIN"||e.kind==="JOIN"){t=this.collectBasicTriples(e.lvalue,t);t=this.collectBasicTriples(e.rvalue,t)}else if(e.kind==="FILTER"){t=this.collectBasicTriples(e.value,t)}else if(e.kind==="construct"){t=this.collectBasicTriples(e.pattern,t)}else if(e.kind==="EMPTY_PATTERN"){}else{throw"Unknown pattern: "+e.kind}return t};AbstractQueryTree.prototype.bind=function(e,t){if(e.graph!=null&&e.graph.token&&e.graph.token==="var"&&t[e.graph.value]!=null){e.graph=t[e.graph.value]}if(e.filter!=null){var r=[];for(var i=0;i<e.filter.length;i++){e.filter[i].value=this._bindFilter(e.filter[i].value,t);r.push(e.filter[i])}e.filter=r}if(e.kind==="select"){e.pattern=this.bind(e.pattern,t)}else if(e.kind==="BGP"){e.value=this._bindTripleContext(e.value,t)}else if(e.kind==="ZERO_OR_MORE_PATH"){e.path=this._bindTripleContext(e.path,t);if(e.x&&e.x.token==="var"&&t[e.x.value]!=null){e.x=t[e.x.value]}if(e.y&&e.y.token==="var"&&t[e.y.value]!=null){e.y=t[e.y.value]}}else if(e.kind==="UNION"){e.value[0]=this.bind(e.value[0],t);e.value[1]=this.bind(e.value[1],t)}else if(e.kind==="GRAPH"){e.value=this.bind(e.value,t)}else if(e.kind==="LEFT_JOIN"||e.kind==="JOIN"){e.lvalue=this.bind(e.lvalue,t);e.rvalue=this.bind(e.rvalue,t)}else if(e.kind==="FILTER"){var n=this;e.value=this.bind(e.value,t);e.filter=e.filter.map(function(e){return{token:"filter",value:n._bindFilter(e.value,t)}})}else if(e.kind==="EMPTY_PATTERN"){}else{throw"Unknown pattern: "+e.kind}return e};AbstractQueryTree.prototype._bindTripleContext=function(e,t){for(var r=0;r<e.length;r++){delete e[r]["graph"];delete e[r]["variables"];for(var i in e[r]){var n=e[r][i];if(n.token==="var"&&t[n.value]!=null){e[r][i]=t[n.value]}}}return e};AbstractQueryTree.prototype._bindFilter=function(e,t){if(e.expressionType!=null){var r=e.expressionType;if(r=="relationalexpression"){e.op1=this._bindFilter(e.op1,t);e.op2=this._bindFilter(e.op2,t)}else if(r=="conditionalor"||r=="conditionaland"){for(var i=0;i<e.operands.length;i++){e.operands[i]=this._bindFilter(e.operands[i],t)}}else if(r=="additiveexpression"){e.summand=this._bindFilter(e.summand,t);for(var i=0;i<e.summands.length;i++){e.summands[i].expression=this._bindFilter(e.summands[i].expression,t)}}else if(r=="builtincall"){for(var i=0;i<e.args.length;i++){e.args[i]=this._bindFilter(e.args[i],t)}}else if(r=="multiplicativeexpression"){e.factor=this._bindFilter(e.factor,t);for(var i=0;i<e.factors.length;i++){e.factors[i].expression=this._bindFilter(e.factors[i].expression,t)}}else if(r=="unaryexpression"){e.expression=this._bindFilter(e.expression,t)}else if(r=="irireforfunction"){for(var i=0;i<e.factors.args;i++){e.args[i]=this._bindFilter(e.args[i],t)}}else if(r=="atomic"){if(e.primaryexpression=="var"){if(t[e.value.value]!=null){var n=t[e.value.value];if(n.token==="uri"){e.primaryexpression="iri"}else{e.primaryexpression="literal"}e.value=n}}}}return e};AbstractQueryTree.prototype.replace=function(e,t,r,i){if(e.graph!=null&&e.graph.token&&e.graph.token===t.token&&e.graph.value==t.value){e.graph=p.clone(r,true)}if(e.filter!=null){var n=[];for(var s=0;s<e.filter.length;s++){e.filter[s].value=this._replaceFilter(e.filter[s].value,t,r,i);n.push(e.filter[s])}e.filter=n}if(e.kind==="select"){e.pattern=this.replace(e.pattern,t,r,i)}else if(e.kind==="BGP"){e.value=this._replaceTripleContext(e.value,t,r,i)}else if(e.kind==="ZERO_OR_MORE_PATH"){e.path=this._replaceTripleContext(e.path,t,r,i);if(e.x&&e.x.token===t.token&&e.value===t.value){e.x=p.clone(r,true)}if(e.y&&e.y.token===t.token&&e.value===t.value){e.y=p.clone(r,true)}}else if(e.kind==="UNION"){e.value[0]=this.replace(e.value[0],t,r,i);e.value[1]=this.replace(e.value[1],t,r,i)}else if(e.kind==="GRAPH"){e.value=this.replace(e.value,t,r)}else if(e.kind==="LEFT_JOIN"||e.kind==="JOIN"){e.lvalue=this.replace(e.lvalue,t,r,i);e.rvalue=this.replace(e.rvalue,t,r,i)}else if(e.kind==="FILTER"){e.value=this._replaceFilter(e.value,t,r,i)}else if(e.kind==="EMPTY_PATTERN"){}else{throw"Unknown pattern: "+e.kind}return e};AbstractQueryTree.prototype._replaceTripleContext=function(e,t,r,i){for(var n=0;n<e.length;n++){for(var s in e[n]){var a=e[n][s];if(a.token==="var"&&t.token==="var"&&a.value===t.value){e[n][s]=r}else if(a.token==="blank"&&t.token==="blank"&&a.value===t.value){e[n][s]=r}else{if((a.token==="literal"||a.token==="uri")&&(t.token==="literal"||t.token==="uri")&&a.token===t.token&&o.lexicalFormTerm(a,i)[a.token]===o.lexicalFormTerm(t,i)[a.token]){e[n][s]=r}}}}return e};AbstractQueryTree.prototype._replaceFilter=function(e,t,r,i){if(e.expressionType!=null){var n=e.expressionType;if(n=="relationalexpression"){e.op1=this._replaceFilter(e.op1,t,r,i);e.op2=this._replaceFilter(e.op2,t,r,i)}else if(n=="conditionalor"||n=="conditionaland"){for(var s=0;s<e.operands.length;s++){e.operands[s]=this._replaceFilter(e.operands[s],t,r,i)}}else if(n=="additiveexpression"){e.summand=this._replaceFilter(e.summand,t,r,i);for(var s=0;s<e.summands.length;s++){e.summands[s].expression=this._replaceFilter(e.summands[s].expression,t,r,i)}}else if(n=="builtincall"){for(var s=0;s<e.args.length;s++){e.args[s]=this._replaceFilter(e.args[s],t,r,i)}}else if(n=="multiplicativeexpression"){e.factor=this._replaceFilter(e.factor,t,r,i);for(var s=0;s<e.factors.length;s++){e.factors[s].expression=this._replaceFilter(e.factors[s].expression,t,r,i)}}else if(n=="unaryexpression"){e.expression=this._replaceFilter(e.expression,t,r,i)}else if(n=="irireforfunction"){for(var s=0;s<e.factors.args;s++){e.args[s]=this._replaceFilter(e.args[s],t,r,i)}}else if(n=="atomic"){var a=null;if(e.primaryexpression==t.token&&e.value==t.value){a=r.value}else if(e.primaryexpression=="iri"&&t.token=="uri"&&e.value==t.value){a=r.value}if(a!=null){if(r.token==="uri"){e.primaryexpression="iri"}else{e.primaryexpression=r.token}e.value=a}}}return e};AbstractQueryTree.prototype.treeWithUnion=function(e){if(e==null)return false;if(e.kind==null)return false;if(e.kind==="select"){return this.treeWithUnion(e.pattern)}else if(e.kind==="BGP"){return this.treeWithUnion(e.value)}else if(e.kind==="ZERO_OR_MORE_PATH"){return false}else if(e.kind==="UNION"){if(e.value[0].value!=null&&e.value[0].value.variables!=null&&e.value[1].value!=null&&e.value[1].value.variables!=null){if(e.value[0].variables.join("/")===e.values[1].variables.join("/")){if(this.treeWithUnion(e.value[0]))return true;else return this.treeWithUnion(e.value[1])}}else{return true}}else if(e.kind==="GRAPH"){return false}else if(e.kind==="LEFT_JOIN"||e.kind==="JOIN"){var t=this.treeWithUnion(e.lvalue);if(t)return true;else this.treeWithUnion(e.rvalue)}else if(e.kind==="FILTER"){return false}else if(e.kind==="EMPTY_PATTERN"){return false}else{return false}};t.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:c,SparqlParserError:a}},{"./parser":144,"./utils":156}],139:[function(e,t,r){"use strict";var i=e("./utils");var a=i;var n=i.nextTick;var c=-1;var p=1;var s=function(e,t){if(arguments.length!=0){this.order=e;this.root=this._allocateNode();this.root.isLeaf=true;this.root.level=0;var r=this;this._diskWrite(this.root,function(e){r.root=e;r._updateRootNode(r.root,function(e){r.comparator=function(e,t){if(e<t){return-1}else if(e>t){return 1}else{return 0}};r.merger=null;if(t!=null){t(r)}})})}};s.prototype._allocateNode=function(){return new o};s.prototype._diskWrite=function(e,t){n(function(){t(e)})};s.prototype._diskRead=function(e,t){n(function(){t(e)})};s.prototype._diskDelete=function(e,t){n(function(){t()})};s.prototype._updateRootNode=function(e,t){t(e)};s.prototype.search=function(e,t,r){var i=this.root;var n=this;n.__search(n,e,i,t,r)};s.prototype.__search=function(t,r,e,i,n){var s=0;while(s<e.numberActives&&t.comparator(r,e.keys[s].key)===1){s++}if(s<e.numberActives&&t.comparator(e.keys[s].key,r)===0){if(n!=null&&n==true){i(true)}else{i(e.keys[s].data)}}else{if(e.isLeaf===true){i(null)}else{t._diskRead(e.children[s],function(e){t.__search(t,r,e,i,n)})}}};s.prototype.walk=function(e,t){this.__walk(this,this.root,e,t)};s.prototype.__walk=function(r,i,n,t){var e=i.numberActives;var s=0;if(i.isLeaf){for(s=0;s<i.numberActives;s++){n(i.keys[s])}return t()}else{a.whilst(function(){return s<e},function(t){r._diskRead(i.children[s],function(e){r.__walk(r,e,n,function(){r._diskRead(i.keys[s],function(e){n(e);s++;t()})})})},function(){r._diskRead(i.children[e],function(e){r.__walk(r,e,n,function(){t()})})})}};s.prototype.walkNodes=function(e){this.__walkNodes(this,root,e,function(){})};s.prototype.__walkNodes=function(r,e,i,t){if(e.isLeaf){i(e);return t()}else{i(e);var n=e.numberActives;var s=0;a.whilst(function(){return s<n},function(t){r._diskRead(e.children[s],function(e){r.__walkNodes(r,e,i,function(){s++;t()})})},function(){r._diskRead(e.children[n],function(e){r.__walkNodes(r,e,i,function(){})})})}};s.prototype._splitChild=function(t,r,i,n){var e=this._allocateNode();e.isLeaf=i.isLeaf;e.level=i.level;e.numberActives=this.order-1;var s=i.keys[this.order-1];i.keys[this.order-1]=null;for(var a=0;a<this.order-1;a++){e.keys[a]=i.keys[a+this.order];i.keys[a+this.order]=null;if(!i.isLeaf){e.children[a]=i.children[a+this.order];i.children[a+this.order]=null}}if(!i.isLeaf){e.children[a]=i.children[a+this.order];i.children[a+this.order]=null}i.numberActives=this.order-1;for(a=t.numberActives+1;a>r+1;a--){t.children[a]=t.children[a-1]}t.children[r+1]=e;for(a=t.numberActives;a>r;a--){t.keys[a]=t.keys[a-1]}t.keys[r]=s;t.numberActives++;var o=this;this._diskWrite(e,function(e){o._diskWrite(t,function(t){t.children[r+1]=e;o._diskWrite(i,function(e){return n(t)})})})};s.prototype.insert=function(t,r,i){if(this.root.numberActives===2*this.order-1){var n=this._allocateNode();n.isLeaf=false;n.level=this.root.level+1;n.numberActives=0;n.children[0]=this.root;var s=this;this._splitChild(n,0,this.root,function(e){n=e;s.root=n;s._updateRootNode(n,function(e){s._insertNonFull(e,t,r,i)})})}else{this._insertNonFull(this.root,t,r,i)}};s.prototype._insertNonFull=function(e,t,r,i){var n=e.numberActives-1;this.__insertNonFull(this,e,n,t,r,i)};s.prototype.__insertNonFull=function(t,r,i,n,s,a){if(!r.isLeaf){while(i>=0&&t.comparator(n,r.keys[i].key)===-1){i--}i++;var o=t;t._diskRead(r.children[i],function(e){if(e.numberActives===2*o.order-1){o._splitChild(r,i,e,function(){if(o.comparator(n,r.keys[i].key)===1){i++}o._diskRead(r.children[i],function(e){i=e.numberActives-1;o.__insertNonFull(t,e,i,n,s,a)})})}else{o._diskRead(r.children[i],function(e){i=e.numberActives-1;o.__insertNonFull(t,e,i,n,s,a)})}})}else{while(i>=0&&t.comparator(n,r.keys[i].key)===-1){r.keys[i+1]=r.keys[i];i--}if(i>=0&&t.comparator(n,r.keys[i].key)===0){r.keys[i]={key:n,data:s}}else{r.keys[i+1]={key:n,data:s};r.numberActives++}t._diskWrite(r,function(e){return a(e)})}};s.prototype.delete=function(e,t){var r=this.root;s.prototype.__deleteSearchNode(this,e,r,t)};s.prototype.__deleteSearchNode=function(s,a,e,o){var l=0;if(e.numberActives===0){return o(false)}while(l<e.numberActives&&s.comparator(a,e.keys[l].key)===1){l++}var u=l;if(l<e.numberActives&&s.comparator(a,e.keys[l].key)===0){return s.__deleteNodeFound(s,u,a,e,o)}if(e.isLeaf===true){return o(false)}var f=e;s._diskRead(e.children[l],function(r){if(r===null){return o(false)}var i=false;var n=false;var e=null;var t=null;if(u===f.numberActives){n=true;t=f.children[u-1];e=f.children[u-1]}else if(u===0){i=true;e=f.children[1];t=f.children[1]}else{t=f.children[u-1];e=f.children[u+1]}s._diskRead(t,function(t){s._diskRead(e,function(e){if(n===true){e=null}if(i===true){t=null}if(r.numberActives===s.order-1&&f!=null){if(e!=null&&e.numberActives>s.order-1){s._moveKey(f,l,c,function(e){s.__deleteSearchNode(s,a,r,o)})}else if(t!=null&&t.numberActives>s.order-1){s._moveKey(f,l,p,function(e){s.__deleteSearchNode(s,a,r,o)})}else if(t!=null&&t.numberActives===s.order-1){s._mergeSiblings(f,l,c,function(e){s.__deleteSearchNode(s,a,e,o)})}else if(e!=null&&e.numberActives===s.order-1){s._mergeSiblings(f,l,p,function(e){s.__deleteSearchNode(s,a,e,o)})}}else{s.__deleteSearchNode(s,a,r,o)}})})})};s.prototype.__deleteNodeFound=function(i,n,s,a,o){if(a.isLeaf&&a.numberActives>i.order-1){i._deleteKeyFromNode(a,n,function(){o(true)});return true}if(a.isLeaf&&a===i.root){i._deleteKeyFromNode(a,n,function(){o(true)});return true}if(a.isLeaf===false){i._diskRead(a.children[n],function(r){if(r.numberActives>i.order-1){i._getMaxKeyPos(i,r,function(e){s=e.node.keys[e.index];a.keys[n]=s;i._diskWrite(a,function(e){e=r;s=s.key;i.__deleteSearchNode(i,s,e,o)})})}else{i._diskRead(a.children[n+1],function(t){if(t.numberActives>i.order-1){i._getMinKeyPos(i,t,function(e){s=e.node.keys[e.index];a.keys[n]=s;i._diskWrite(a,function(e){e=t;s=s.key;i.__deleteSearchNode(i,s,e,o)})})}else if(r.numberActives===i.order-1&&t.numberActives===i.order-1){i._mergeNodes(r,a.keys[n],t,function(t){a.children[n]=t;n++;for(var e=n;e<a.numberActives;e++){a.children[e]=a.children[e+1];a.keys[e-1]=a.keys[e]}a.children[e]=null;a.keys[e-1]=null;a.numberActives--;if(a.numberActives===0&&i.root===a){i.root=t}i._diskWrite(a,function(e){i.__deleteSearchNode(i,s,t,o)})})}})}})}if(a.isLeaf&&a.numberActives>i.order-1){i._deleteKeyFromNode(a,n,function(e){i.__deleteSearchNode(i,s,e,o)})}};s.prototype._moveKey=function(i,n,s,a){if(s===p){n--}var o=this;o._diskRead(i.children[n],function(r){o._diskRead(i.children[n+1],function(t){if(s==c){r.keys[r.numberActives]=i.keys[n];r.children[r.numberActives+1]=t.children[0];t.children[0]=null;r.numberActives++;i.keys[n]=t.keys[0];for(var e=1;e<t.numberActives;e++){t.keys[e-1]=t.keys[e];t.children[e-1]=t.children[e]}t.children[t.numberActives-1]=t.children[t.numberActives];t.numberActives--}else{t.children[t.numberActives+1]=t.children[t.numberActives];for(var e=t.numberActives;e>0;e--){t.children[e]=t.children[e-1];t.keys[e]=t.keys[e-1]}t.keys[0]=null;t.children[0]=null;t.children[0]=r.children[r.numberActives];t.keys[0]=i.keys[n];t.numberActives++;r.children[r.numberActives]=null;i.keys[n]=r.keys[r.numberActives-1];r.keys[r.numberActives-1]=null;r.numberActives--}o._diskWrite(r,function(e){o._diskWrite(t,function(e){o._diskWrite(i,function(e){return a(e)})})})})})};s.prototype._mergeSiblings=function(n,t,e,s){var a,o;var r,i;var l,u;if(t===n.numberActives){t--;l=n.children[n.numberActives-1];u=n.children[n.numberActives]}else{l=n.children[t];u=n.children[t+1]}var f=this;f._diskRead(l,function(i){f._diskRead(u,function(r){var e=f._allocateNode();e.isLeaf=i.isLeaf;e.level=i.level;for(o=0;o<f.order-1;o++){e.keys[o]=i.keys[o];e.children[o]=i.children[o]}e.keys[f.order-1]=n.keys[t];e.children[f.order-1]=i.children[f.order-1];for(o=0;o<f.order-1;o++){e.keys[o+f.order]=r.keys[o];e.children[o+f.order]=r.children[o]}e.children[2*f.order-1]=r.children[f.order-1];n.children[t]=e;for(o=t;o<n.numberActives;o++){n.keys[o]=n.keys[o+1];n.children[o+1]=n.children[o+2]}e.numberActives=i.numberActives+r.numberActives+1;n.numberActives--;for(a=n.numberActives;a<2*f.order-1;a++){n.keys[a]=null}if(n.numberActives===0&&f.root===n){f.root=e;if(e.level){e.isLeaf=false}else{e.isLeaf=true}}f._diskWrite(e,function(t){f._diskWrite(n,function(e){f._diskDelete(i,function(){f._diskDelete(r,function(){if(f.root===t){f._updateRootNode(f.root,function(){return s(t)})}else{return s(t)}})})})})})})};s.prototype._deleteKeyFromNode=function(e,t,r){var i=2*this.order-1;if(e.numberActives<i){i=e.numberActives}var n;if(e.isLeaf===false){return false}var s=e.keys[t];for(n=t;n<i-1;n++){e.keys[n]=e.keys[n+1]}e.keys.pop();e.numberActives--;this._diskWrite(e,function(e){return r(e)})};s.prototype._mergeNodes=function(t,e,r,i){var n;var s;n=this._allocateNode();n.isLeaf=true;for(s=0;s<t.numberActives;s++){n.keys[s]=t.keys[s];n.children[s]=t.children[s]}n.children[t.numberActives]=t.children[t.numberActives];n.keys[t.numberActives]=e;for(s=0;s<r.numberActives;s++){n.keys[s+t.numberActives+1]=r.keys[s];n.children[s+t.numberActives+1]=r.children[s]}n.children[2*this.order-1]=r.children[r.numberActives];n.numberActives=t.numberActives+r.numberActives+1;n.isLeaf=t.isLeaf;n.level=t.level;var a=this;this._diskWrite(n,function(e){a._diskDelete(t,function(){a._diskDelete(r,function(){return i(e)})})})};s.prototype.audit=function(s){var a=[];var o=[];var l=this;var u=function(e){for(var t=0;t<o.length;t++){if(l.comparator(o[t],e)===0){var r=" !!! duplicated key "+e;if(s===true){console.log(r)}a.push(r)}}};var f=null;var l=this;this.walkNodes(function(e){if(s===true){console.log("--- Node at "+e.level+" level");console.log(" - leaf? "+e.isLeaf);console.log(" - num actives? "+e.numberActives);console.log(" - keys: ")}for(var t=e.numberActives;t<e.keys.length;t++){if(e.keys[t]!=null){if(s===true){console.log(" * warning : redundant key data");a.push(" * warning : redundant key data")}}}for(var t=e.numberActives+1;t<e.children.length;t++){if(e.children[t]!=null){if(s===true){console.log(" * warning : redundant children data");a.push(" * warning : redundant key data")}}}if(e.isLeaf===false){for(var t=0;t<e.numberActives;t++){var r=this._diskRead(e.children[t]).keys[this._diskRead(e.children[t]).numberActives-1].key;var i=this._diskRead(e.children[t+1]).keys[0].key;if(s===true){console.log("   "+e.keys[t].key+"("+r+","+i+")")}if(l.comparator(e.keys[t].key,r)===-1){var n=" !!! value max left "+r+" > key "+e.keys[t].key;if(s===true){console.log(n)}a.push(n)}if(l.comparator(e.keys[t].key,i)===1){var n=" !!! value min right "+i+" < key "+e.keys[t].key;if(s===true){console.log(n)}a.push(n)}u(e.keys[t].key);o.push(e.keys[t].key)}}else{if(f===null){f=e.level}else{if(f!=e.level){var n=" !!! Leaf node with wrong level value";if(s===true){console.log(n)}a.push(n)}}for(var t=0;t<e.numberActives;t++){if(s===true){console.log(" "+e.keys[t].key)}u(e.keys[t].key);o.push(e.keys[t].key)}}if(e!=l.root){if(e.numberActives>2*l.order-1){if(s===true){var n=" !!!! MAX num keys restriction violated "}console.log(n);a.push(n)}if(e.numberActives<l.order-1){if(s===true){var n=" !!!! MIN num keys restriction violated "}console.log(n);a.push(n)}}});return a};s.prototype._getMaxKeyPos=function(t,e,r){var i={};if(e===null){return r(null)}if(e.isLeaf===true){i.node=e;i.index=e.numberActives-1;return r(i)}else{i.node=e;i.index=e.numberActives-1;t._diskRead(e.children[e.numberActives],function(e){return t._getMaxKeyPos(t,e,r)})}};s.prototype._getMinKeyPos=function(t,e,r){var i={};if(e===null){r(null)}if(e.isLeaf===true){i.node=e;i.index=0;return r(i)}else{i.node=e;i.index=0;t._diskRead(e.children[0],function(e){return t._getMinKeyPos(t,e,r)})}};var o=function(){this.numberActives=0;this.isLeaf=null;this.keys=[];this.children=[];this.level=0};t.exports={Tree:s,Node:o}},{"./utils":156}],140:[function(e,t,r){var f=e("./utils");var o=e("./utils");var i=e("./quad_index").QuadIndex;var c=e("./quad_index").Pattern;var h=e("./rdf_model");var n=e("./abstract_query_tree").AbstractQueryTree;Callbacks={};Callbacks.ANYTHING={token:"var",value:"_"};Callbacks.added="added";Callbacks.deleted="deleted";Callbacks.eventsFlushed="eventsFlushed";Callbacks.CallbacksBackend=function(){this.aqt=new n;this.engine=arguments[0];this.indexMap={};this.observersMap={};this.queriesIndexMap={};this.emptyNotificationsMap={};this.queriesList=[];this.pendingQueries=[];this.matchedQueries=[];this.updateInProgress=null;this.indices=["SPOG","GP","OGS","POG","GSP","OS"];this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};this.callbackCounter=0;this.callbacksMap={};this.callbacksInverseMap={};this.queryCounter=0;this.queriesMap={};this.queriesCallbacksMap={};this.queriesInverseMap={};for(var e=0;e<this.indices.length;e++){var t=this.indices[e];this.indexMap[t]={};this.queriesIndexMap[t]={}}};Callbacks.CallbacksBackend.prototype.startGraphModification=function(){if(this.ongoingModification!==true){this.pendingQueries=[].concat(this.queriesList);this.matchedQueries=[];if(this.updateInProgress==null){this.updateInProgress={};this.updateInProgress[Callbacks["added"]]=[];this.updateInProgress[Callbacks["deleted"]]=[]}}};Callbacks.CallbacksBackend.prototype.nextGraphModification=function(e,t){this.updateInProgress[e].push(t)};Callbacks.CallbacksBackend.prototype.endGraphModification=function(e){if(this.ongoingModification!==true){var t=this;if(this.updateInProgress!=null){var r=t.updateInProgress;t.updateInProgress=null;this.sendNotification(Callbacks["deleted"],r[Callbacks["deleted"]],function(){t.sendNotification(Callbacks["added"],r[Callbacks["added"]],function(){t.sendEmptyNotification(Callbacks["eventsFlushed"],null,function(){t.dispatchQueries(function(){e(true)})})})})}else{e(true)}}else{e(true)}};Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){if(this.ongoingModification!==true){this.updateInProgress=null}};Callbacks.CallbacksBackend.prototype.sendNotification=function(e,t,r){var i={};for(var n=0;n<t.length;n++){var s=t[n];for(var a in this.indexMap){var o=this.indexMap[a];var l=this.componentOrders[a];this._searchCallbacksInIndex(o,l,e,s,i);if(this.pendingQueries.length!=0){o=this.queriesIndexMap[a];this._searchQueriesInIndex(o,l,s)}}}this.dispatchNotifications(i);if(r!=null)r(true)};Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(e,t,r){var i=this.emptyNotificationsMap[e]||[];for(var n=0;n<i.length;n++){i[n](e,t)}r()};Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(e){for(var t in e){var r=this.callbacksMap[t];var i=e[t][Callbacks["deleted"]];if(i!=null){try{r(Callbacks["deleted"],i)}catch(e){}}for(var n in e[t]){if(n!=Callbacks["deleted"]){try{r(n,e[t][n])}catch(e){}}}}};Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(e,t,r,i,n){var s=i[1];var i=i[0];for(var a=0;a<t.length+1;a++){var o=e["_"]||[];var l=[];for(var u=0;u<o.length;u++){var f=o[u];if(this.callbacksMap[f]!=null){n[f]=n[f]||{};n[f][r]=n[f][r]||[];n[f][r].push(i);l.push(f)}}e["_"]=l;var c=t[a];if(e[""+s[c]]!=null){e=e[""+s[c]]}else{break}}};Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(e,t){var r=this.emptyNotificationsMap[e]||[];r.push(t);this.emptyNotificationsMap[e]=r};Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(e,t){var r=this.emptyNotificationsMap[e];if(r!=null){r=f.reject(r,function(e){return e===t})}this.emptyNotificationsMap[e]=r};Callbacks.CallbacksBackend.prototype.subscribe=function(e,t,r,i,l,u){var n=this._tokenizeComponents(e,t,r,i);var s={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,s);var f=this;this.engine.normalizeQuad(n,s,true,function(e){var t=new c(e);var r=f._indexForPattern(t);var i=f.componentOrders[r];var n=f.indexMap[r];for(var s=0;s<i.length;s++){var a=i[s];var o=e[a];if(o==="_"){if(n["_"]==null){n["_"]=[]}f.callbackCounter++;n["_"].push(f.callbackCounter);f.callbacksMap[f.callbackCounter]=l;f.callbacksInverseMap[l]=f.callbackCounter;break}else{if(s===i.length-1){n[o]=n[o]||{_:[]};f.callbackCounter++;n[o]["_"].push(f.callbackCounter);f.callbacksMap[f.callbackCounter]=l;f.callbacksInverseMap[l]=f.callbackCounter}else{n[o]=n[o]||{};n=n[o]}}}if(u!=null)u(true)})};Callbacks.CallbacksBackend.prototype.unsubscribe=function(e){var t=this.callbacksInverseMap[e];if(t!=null){delete this.callbacksInverseMap[e];delete this.callbacksMap[t]}};Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(e,t,r,i){var n={};if(e==null){n["subject"]=Callbacks.ANYTHING}else{if(e.indexOf("_:")==0){n["subject"]={token:"blank",value:e}}else{n["subject"]={token:"uri",value:e}}}if(t==null){n["predicate"]=Callbacks.ANYTHING}else{n["predicate"]={token:"uri",value:t}}if(r==null){n["object"]=Callbacks.ANYTHING}else{n["object"]={token:"uri",value:r}}if(i==null){n["graph"]=Callbacks.ANYTHING}else{n["graph"]={token:"uri",value:i}}return n};Callbacks.CallbacksBackend.prototype._indexForPattern=function(e){var t=e.indexKey;var r=this.indices;for(var i=0;i<r.length;i++){var n=r[i];var s=this.componentOrders[n];for(var a=0;a<s.length;a++){if(f.include(t,s[a])===false){break}if(a==t.length-1){return n}}}return"SPOG"};Callbacks.CallbacksBackend.prototype.observeNode=function(){var i,e,u,n;if(arguments.length===4){i=arguments[0];e=arguments[1];u=arguments[2];n=arguments[3]}else{i=arguments[0];e=this.engine.lexicon.defaultGraphUri;u=arguments[1];n=arguments[2]}var t="CONSTRUCT { <"+i+"> ?p ?o } WHERE { GRAPH <"+e+"> { <"+i+"> ?p ?o } }";var f=this;var c={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,c);var p=[];this.engine.execute(t,function(e,t){if(!e){var o=t;var l=false;var r=function(e,t){if(e==="eventsFlushed"&&l){l=false;try{u(o)}catch(e){}}else if(e!=="eventsFlushed"){l=true;for(var r=0;r<t.length;r++){var i=t[r];var n=h.buildRDFResource(i.subject,p,f.engine,c);var s=h.buildRDFResource(i.predicate,p,f.engine,c);var a=h.buildRDFResource(i.object,p,f.engine,c);if(n!=null&&s!=null&&a!=null){i=new h.Triple(n,s,a);if(e===Callbacks["added"]){o.add(i)}else if(e===Callbacks["deleted"]){o.remove(i)}}}}};f.observersMap[u]=r;f.subscribeEmpty(Callbacks["eventsFlushed"],r);f.subscribe(i,null,null,null,r,function(){try{u(o)}catch(e){}if(n)n(true)})}else{if(n)n(false)}})};Callbacks.CallbacksBackend.prototype.stopObservingNode=function(e){var t=this.observersMap[e];if(t){this.unsubscribe(t);this.unsubscribeEmpty(Callbacks["eventsFlushed"],t);return true}else{return false}};Callbacks.CallbacksBackend.prototype.observeQuery=function(e,r,t){var i=this.aqt.parseQueryString(e);var n=this.aqt.parseSelect(i.units[0]);var s=this.aqt.collectBasicTriples(n);var u=this;var a={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,a);var f=this.queryCounter;this.queryCounter++;this.queriesMap[f]=e;this.queriesInverseMap[e]=f;this.queriesList.push(f);this.queriesCallbacksMap[f]=r;o.eachSeries(s,function(e,l){if(e.graph==null){e.graph=u.engine.lexicon.defaultGraphUriTerm}u.engine.normalizeQuad(e,a,true,function(e){var t=new c(e);var r=u._indexForPattern(t);var i=u.componentOrders[r];var n=u.queriesIndexMap[r];for(var s=0;s<i.length;s++){var a=i[s];var o=e[a];if(typeof o==="string"){if(n["_"]==null){n["_"]=[]}n["_"].push(f);break}else{if(s===i.length-1){n[o]=n[o]||{_:[]};n[o]["_"].push(f)}else{n[o]=n[o]||{};n=n[o]}}}l()})},function(){u.engine.execute(e,function(e,t){if(!e){r(t)}else{console.log("ERROR in query callback "+t)}});if(t!=null)t()})};Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(e){var t=this.queriesInverseMap[e];if(t!=null){delete this.queriesInverseMap[e];delete this.queriesMap[t];this.queriesList=f.reject(this.queriesList,function(e){return e===t})}};Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(e,t,r){var i=r[1];var r=r[0];for(var n=0;n<t.length+1;n++){var s=e["_"]||[];var a=[];for(var o=0;o<s.length;o++){var l=s[o];if(f.include(this.pendingQueries,l)){f.remove(this.pendingQueries,function(e){return e===l});this.matchedQueries.push(l)}if(this.queriesMap[l]!=null){a.push(l)}}e["_"]=a;var u=t[n];if(e[""+i[u]]!=null){e=e[""+i[u]]}else{break}}};Callbacks.CallbacksBackend.prototype.dispatchQueries=function(e){var t=this;var i,n;var s={};o.eachSeries(this.matchedQueries,function(e,r){if(s[e]==null){s[e]=true;i=t.queriesMap[e];n=t.queriesCallbacksMap[e];t.engine.execute(i,function(e,t){if(!e){try{n(t)}catch(e){}}r()})}else{r()}},function(){e()})};Callbacks.CallbacksBackend.added=Callbacks.added;Callbacks.CallbacksBackend.deleted=Callbacks.deleted;Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed;t.exports=Callbacks},{"./abstract_query_tree":138,"./quad_index":148,"./rdf_model":153,"./utils":156}],141:[function(e,t,r){var c=e("jsonld");var n=async function(e,i,t){var n=null;const r=await c.toRDF(e,{});var s=function(e){if(e.termType==="BlankNode"){return{blank:e.value}}else if(e.termType==="NamedNode"){return{token:"uri",value:e.value}}else if(e.termType==="Literal"){if(e.language!=null){return{literal:'"'+e.value+'"@'+e.language}}else if(e.datatype!==null){return{literal:'"'+e.value+'"^^<'+e.datatype.value+">"}}else{return{literal:'"'+e.value+'"'}}}};n=[];var a=function(e,t,r){n.push({subject:s(e),predicate:s(t),object:s(r),graph:i})};var o=false;var l=r;for(var u=0;u<l.length;u++){var f=l[u];a(f.subject,f.predicate,f.object)}t(null,n)};r.JSONLDParser={};var i=r.JSONLDParser;i.parser={async:true,parse:function(e,t,r,i){try{if(typeof e==="string"){e=JSON.parse(e)}n(e,t,i)}catch(e){i(e)}}};t.exports={JSONLDParser:i}},{jsonld:57}],142:[function(e,t,r){var o=e("./utils");var i=e("./btree").Tree;Lexicon=function(e){var r=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;o.seq(function(t){new i(2,function(e){r.uris=e;t()})},function(t){new i(2,function(e){r.literals=e;t()})},function(t){new i(2,function(e){r.knownGraphs=e;t()})},function(t){new i(2,function(e){r.oidUris=e;t()})},function(t){new i(2,function(e){r.oidLiterals=e;t()})},function(t){new i(2,function(e){r.oidBlanks=e;t()})})(function(){if(e!=null)e(r)})};Lexicon.prototype.registerGraph=function(e,t,r){if(e!=this.defaultGraphOid){this.knownGraphs.insert(e,t,function(){r()})}else{r()}};Lexicon.prototype.registeredGraphs=function(t,e){var r=[];this.knownGraphs.walk(function(e){if(t===true){r.push(e.data)}else{r.push(e.key)}},function(){e(r)})};Lexicon.prototype.registerUri=function(i,n){var s=this;if(i===this.defaultGraphUri){n(this.defaultGraphOid)}else{this.uris.search(i,function(e){if(e==null){var t=s.oidCounter;var r="u"+t;s.oidCounter++;o.seq(function(e){s.uris.insert(i,[t,0],function(){e()})},function(e){s.oidUris.insert(r,i,function(){e()})})(function(){n(t)})}else{t=e[0];e[1]=e[1]+1;n(t)}})}};Lexicon.prototype.resolveUri=function(e,t){if(e===this.defaultGraphUri){t(this.defaultGraphOid)}else{this.uris.search(e,function(e){if(e!=null){t(e[0])}else{t(-1)}})}};Lexicon.prototype.resolveUriCost=function(e,t){if(e===this.defaultGraphUri){t(0)}else{this.uris.search(e,function(e){if(e!=null){t(e[1])}else{t(-1)}})}};Lexicon.prototype.registerBlank=function(e){var t=this.oidCounter;this.oidCounter++;var r=""+t;this.oidBlanks.insert(r,r,function(){e(t)})};Lexicon.prototype.resolveBlank=function(e,r){var i=this;this.oidBlanks.search(e,function(e){if(e!=null){r(e)}else{var t=i.oidCounter;this.oidCounter++;r(""+t)}})};Lexicon.prototype.resolveBlankCost=function(e,t){t(0)};Lexicon.prototype.registerLiteral=function(i,n){var s=this;this.literals.search(i,function(e){if(e==null){var t=s.oidCounter;var r="l"+t;s.oidCounter++;o.seq(function(e){s.literals.insert(i,[t,0],function(){e()})},function(e){s.oidLiterals.insert(r,i,function(){e()})})(function(){n(t)})}else{var t=e[0];e[1]=e[1]+1;n(t)}})};Lexicon.prototype.resolveLiteral=function(e,t){this.literals.search(e,function(e){if(e!=null){t(e[0])}else{t(-1)}})};Lexicon.prototype.resolveLiteralCost=function(e,t){this.literals.search(e,function(e){if(e!=null){t(e[1])}else{t(-1)}})};Lexicon.prototype.parseLiteral=function(e){var t=e.lastIndexOf("@");if(t!=-1&&e[t-1]==='"'&&e.substring(t,e.length).match(/^@[a-zA-Z\-]+$/g)!=null){var r=e.substring(1,t-1);var i=e.substring(t+1,e.length);return{token:"literal",value:r,lang:i}}var t=e.lastIndexOf("^^");if(t!=-1&&e[t-1]==='"'&&e[t+2]==="<"&&e[e.length-1]===">"){var r=e.substring(1,t-1);var n=e.substring(t+3,e.length-1);return{token:"literal",value:r,type:n}}var r=e.substring(1,e.length-1);return{token:"literal",value:r}};Lexicon.prototype.parseUri=function(e){return{token:"uri",value:e}};Lexicon.prototype.retrieve=function(r,i){var n=this;if(r===this.defaultGraphOid){i({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:true})}else{o.seq(function(e,t){n.oidUris.search("u"+r,function(e){if(e!=null){t(null,n.parseUri(e))}else{t(null,null)}})},function(e,t){if(e==null){n.oidLiterals.search("l"+r,function(e){if(e!=null){t(null,n.parseLiteral(e))}else{t(null,null)}})}else{t(null,e)}},function(e,t){if(e==null){n.oidBlanks.search(""+r,function(e){if(e!=null){t(null,{token:"blank",value:"_:"+r})}else{t(null,null)}})}else{t(null,e)}})(null,function(e,t){i(t)})}};Lexicon.prototype.clear=function(e){var r=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;o.seq(function(t){new i(2,function(e){r.uris=e;t()})},function(t){new i(2,function(e){r.literals=e;t()})},function(t){new i(2,function(e){r.knownGraphs=e;t()})},function(t){new i(2,function(e){r.oidUris=e;t()})},function(t){new i(2,function(e){r.oidLiterals=e;t()})},function(t){new i(2,function(e){r.oidBlanks=e;t()})})(function(){if(e!=null)e()})};Lexicon.prototype.unregister=function(t,r,e){var i=this;o.seq(function(e){i._unregisterTerm(t.subject.token,r.subject,e)},function(e){i._unregisterTerm(t.predicate.token,r.predicate,e)},function(e){i._unregisterTerm(t.object.token,r.object,e)},function(e){if(t.graph!=null){i._unregisterTerm(t.graph.token,r.graph,e)}else{e()}})(function(){e(true)})};Lexicon.prototype._unregisterTerm=function(e,i,n){var s=this;if(e==="uri"){if(i!=this.defaultGraphOid){var a="u"+i;s.oidUris.search(a,function(r){s.uris.search(r,function(e){var t=e[1];if(""+e[0]===""+i){if(t===0){o.seq(function(e){s.oidUris.delete(a,function(){e()})},function(e){s.uris.delete(r,function(){e()})},function(e){s.knownGraphs.delete(i,function(){e()})})(function(){n()})}else{s.uris.insert(r,[i,t-1],function(){n()})}}else{n()}})})}else{n()}}else if(e==="literal"){this.oidCounter++;var a="l"+i;s.oidLiterals.search(a,function(r){s.literals.search(r,function(e){var t=e[1];if(""+e[0]===""+i){if(t===0){o.seq(function(e){s.oidLiterals.delete(a,function(){e()})},function(e){s.literals.delete(r,function(){e()})})(function(){n()})}else{s.literals.insert(r,[i,t-1],function(){n()})}}else{n()}})})}else if(e==="blank"){s.oidBlanks.delete(""+i,function(){n()})}else{n()}};t.exports={Lexicon:Lexicon}},{"./btree":139,"./utils":156}],143:[function(e,t,r){var i=e("./utils");if(!i.isWorker()){var u=e("http");var f=e("https");var c=e("url");NetworkTransport={load:function(e,n,s,t){var a=t==null?3:t;var r=c.parse(e,true,true);var i={host:r.host,hostname:r.hostname,method:"GET",path:r.path,headers:{host:r.hostname,Accept:n}};var o=null;if(r.protocol==="http:"){i.port=r.port||80;o=u}else if(r.protocol==="https:"){i.port=r.port||443;o=f}var l=o.request(i,function(e){var t=e.headers;var r="";if((""+e.statusCode)[0]=="2"){e.on("end",function(){s(null,{headers:t,data:r})});e.on("data",function(e){r=r+e})}else if((""+e.statusCode)[0]=="3"){if(a==0){s(new Error("Too many redirections"))}else{var i=t["Location"]||t["location"];if(i!=null){NetworkTransport.load(i,n,s,a-1)}else{s(new Error("Redirection without location header"))}}}else{s(new Error("HTTP error: "+e.statusCode))}});l.on("error",s);l.end()}};t.exports={NetworkTransport:NetworkTransport}}},{"./utils":156,http:111,https:34,url:132}],144:[function(e,t,r){t.exports=function(){"use strict";function e(e,t){function r(){this.constructor=e}r.prototype=t.prototype;e.prototype=new r}function hg(e,t,r,i){this.message=e;this.expected=t;this.found=r;this.location=i;this.name="SyntaxError";if(typeof Error.captureStackTrace==="function"){Error.captureStackTrace(this,hg)}}e(hg,Error);hg.buildMessage=function(e,t){var r={literal:function(e){return'"'+n(e.text)+'"'},class:function(e){var t="",r;for(r=0;r<e.parts.length;r++){t+=e.parts[r]instanceof Array?s(e.parts[r][0])+"-"+s(e.parts[r][1]):s(e.parts[r])}return"["+(e.inverted?"^":"")+t+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function i(e){return e.charCodeAt(0).toString(16).toUpperCase()}function n(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+i(e)})}function s(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+i(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+i(e)})}function a(e){return r[e.type](e)}function o(e){var t=new Array(e.length),r,i;for(r=0;r<e.length;r++){t[r]=a(e[r])}t.sort();if(t.length>0){for(r=1,i=1;r<t.length;r++){if(t[r-1]!==t[r]){t[i]=t[r];i++}}t.length=i}switch(t.length){case 1:return t[0];case 2:return t[0]+" or "+t[1];default:return t.slice(0,-1).join(", ")+", or "+t[t.length-1]}}function l(e){return e?'"'+n(e)+'"':"end of input"}return"Expected "+o(e)+" but "+l(t)+" found."};function t(w,n){n=n!==void 0?n:{};var x={},l={DOCUMENT:nd},u=nd,M=i("[1] QueryUnit"),B=i("[2] Query"),U=function(e,t,r){return{token:"query",kind:"query",prologue:e,units:[t],inlineData:r}},G=i("[3] Prologue"),q=function(e,t){return{token:"prologue",base:e,prefixes:t}},H=i("[4] BaseDecl"),J="BASE",z=e("BASE",false),V="base",W=e("base",false),X=function(e){cg(e);var t={};t.token="base";t.value=e;return t},K=i("[5] PrefixDecl"),$="PREFIX",Z=e("PREFIX",false),Y="prefix",ee=e("prefix",false),te=function(e,t){fg(e,t);var r={};r.token="prefix";r.prefix=e;r.local=t;return r},re=i("[6] SelectQuery"),ie=function(e,t,r,i){var n={named:[],implicit:[]};for(var s=0;s<t.length;s++){var a=t[s];if(a.kind==="default"){n["implicit"].push(a.graph)}else{n["named"].push(a.graph)}}if(n["named"].length===0&&n["implicit"].length===0){n["implicit"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"})}var o={};o.kind="select";o.token="executableunit";o.dataset=n;o.projection=e.vars;o.modifier=e.modifier;o.pattern=r;if(i!=null&&i.limit!=null){o.limit=i.limit}if(i!=null&&i.offset!=null){o.offset=i.offset}if(i!=null&&(i.order!=null&&i.order!="")){o.order=i.order}if(i!=null&&i.group!=null){o.group=i.group}return o},ne=i("[7] SubSelect"),se=function(e,t,r){var i={};i.kind="select";i.token="subselect";i.projection=e.vars;i.modifier=e.modifier;i.pattern=t;if(r!=null&&r.limit!=null){i.limit=r.limit}if(r!=null&&r.offset!=null){i.offset=r.offset}if(r!=null&&(r.order!=null&&r.order!="")){i.order=r.order}if(r!=null&&r.group!=null){i.group=r.group}return i},ae=i("[8] SelectClause"),oe="SELECT",le=e("SELECT",false),ue="select",fe=e("select",false),_="DISTINCT",ce=e("DISTINCT",false),k="distinct",pe=e("distinct",false),he="REDUCED",de=e("REDUCED",false),ve="reduced",ye=e("reduced",false),E="(",A=e("(",false),ge="AS",be=e("AS",false),me="as",we=e("as",false),j=")",S=e(")",false),xe="*",_e=e("*",false),ke=function(e,t){var r=[];if(t.length===3&&t[1]==="*"){return{vars:[{token:"variable",kind:"*"}],modifier:pg(e)}}for(var i=0;i<t.length;i++){var n=t[i];if(n.length===3){r.push({token:"variable",kind:"var",value:n[1]})}else{r.push({token:"variable",kind:"aliased",expression:n[3],alias:n[7]})}}return{vars:r,modifier:pg(e)}},Ee=i("[9] ConstructQuery"),Ae="CONSTRUCT",je=e("CONSTRUCT",false),Se="construct",Te=e("construct",false),Fe=function(e,t,r,i){var n={named:[],implicit:[]};for(var s=0;s<t.length;s++){var a=t[s];if(a.kind==="default"){n["implicit"].push(a.graph)}else{n["named"].push(a.graph)}}if(n["named"].length===0&&n["implicit"].length===0){n["implicit"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"})}var o={};o.kind="construct";o.token="executableunit";o.dataset=n;o.template=e;o.pattern=r;if(i!=null&&i.limit!=null){o.limit=i.limit}if(i!=null&&i.offset!=null){o.offset=i.offset}if(i!=null&&(i.order!=null&&i.order!="")){o.order=i.order}return o},Ie="WHERE",Ce=e("WHERE",false),Re="where",Ne=e("where",false),y="{",g=e("{",false),b="}",m=e("}",false),Oe=function(e,t,r){var i={named:[],implicit:[]};for(var n=0;n<e.length;n++){var s=e[n];if(s.kind==="default"){i["implicit"].push(s.graph)}else{i["named"].push(s.graph)}}if(i["named"].length===0&&i["implicit"].length===0){i["implicit"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"})}var a={};a.kind="construct";a.token="executableunit";a.dataset=i;a.template=t;a.pattern={token:"basicgraphpattern",triplesContext:t.triplesContext};if(r!=null&&r.limit!=null){a.limit=r.limit}if(r!=null&&r.offset!=null){a.offset=r.offset}if(r!=null&&(r.order!=null&&r.order!="")){a.order=r.order}return a},Le=i("[10] DescribeQuery"),De="DESCRIBE",Pe=e("DESCRIBE",false),Qe=i("[11] AskQuery"),Me="ASK",Be=e("ASK",false),Ue="ask",Ge=e("ask",false),qe=function(e,t){var r={named:[],implicit:[]};for(var i=0;i<e.length;i++){var n=e[i];if(n.kind==="implicit"){r["implicit"].push(n.graph)}else{r["named"].push(n.graph)}}if(r["named"].length===0&&r["implicit"].length===0){r["implicit"].push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"})}var s={};s.kind="ask";s.token="executableunit";s.dataset=r;s.pattern=t;return s},He=i("[12] DatasetClause"),Je="FROM",ze=e("FROM",false),Ve="from",We=e("from",false),Xe=function(e){return e},Ke=i("[13] DefaultGraphClause"),$e=function(e){return{graph:e,kind:"default",token:"graphClause"}},Ze=i("[14] NamedGraphClause"),Ye="NAMED",et=e("NAMED",false),tt="named",rt=e("named",false),it=function(e){return{graph:e,kind:"named",token:"graphCluase"}},nt=i("[15] SourceSelector"),st=i("[16] WhereClause"),at=function(e){return e},ot=i("[17] SolutionModifier"),lt=function(e,t,r){var i={};if(r!=null){if(r.limit!=null){i.limit=r.limit}if(r.offset!=null){i.offset=r.offset}}if(e!=null){i.group=e}i.order=t;return i},ut=i("[18] GroupClause"),ft="GROUP",ct=e("GROUP",false),pt="group",ht=e("group",false),dt="BY",vt=e("BY",false),yt="by",gt=e("by",false),bt=function(e){return e},mt=i("[19] GroupCondition"),wt=function(e){return e},xt=function(e){return e},_t=function(e,t){if(t.length!=0){return{token:"aliased_expression",expression:e,alias:t[2]}}else{return e}},kt=function(e){return e},Et=i("[20] HavingClause"),At="HAVING",jt=e("HAVING",false),St=i("[21] HavingCondition"),Tt=i("[22] OrderClause"),Ft="ORDER",It=e("ORDER",false),Ct="order",Rt=e("order",false),Nt=function(e){return e},Ot=i("[23] OrderCondition"),Lt="ASC",Dt=e("ASC",false),Pt="asc",Qt=e("asc",false),Mt="DESC",Bt=e("DESC",false),Ut="desc",Gt=e("desc",false),qt=function(e,t){return{direction:e.toUpperCase(),expression:t}},Ht=function(e){if(e.token==="var"){var e={token:"expression",expressionType:"atomic",primaryexpression:"var",value:e}}return{direction:"ASC",expression:e}},Jt=i("[24] LimitOffsetClauses"),zt=function(e){var t={};for(var r=0;r<e.length;r++){var i=e[r];if(i!=null&&i.limit!=null){t["limit"]=i.limit}else if(i!=null&&i.offset!=null){t["offset"]=i.offset}}return t},Vt=i("[25] LimitClause"),Wt="LIMIT",Xt=e("LIMIT",false),Kt="limit",$t=e("limit",false),Zt=function(e){return{limit:parseInt(e.value)}},Yt=i("[26] OffsetClause"),er="OFFSET",tr=e("OFFSET",false),rr="offset",ir=e("offset",false),nr=function(e){return{offset:parseInt(e.value)}},sr=i("[27] BindingsClause"),ar="BINDINGS",or=e("BINDINGS",false),lr=i("[28] BindingValue"),ur="UNDEF",fr=e("UNDEF",false),cr=i("[28]\tValuesClause\t  ::=\t( 'VALUES' DataBlock )?"),pr="VALUES",hr=e("VALUES",false),dr="values",vr=e("values",false),yr=function(e){if(e!=null){return e[1]}else{return null}},gr=i("[29] UpdateUnit"),br=i("[30] Update"),mr=";",wr=e(";",false),xr=function(e,t,r){var i={};i.token="query";i.kind="update";i.prologue=e;var n=[t];if(r!=null&&r.length!=null&&r[3]!=null&&r[3].units!=null){n=n.concat(r[3].units)}i.units=n;return i},_r=i("[31] Update1"),kr=i("[32] Load"),Er="LOAD",Ar=e("LOAD",false),jr="load",Sr=e("load",false),Tr="INTO",Fr=e("INTO",false),Ir="into",Cr=e("into",false),Rr=function(e,t){var r={};r.kind="load";r.token="executableunit";r.sourceGraph=e;if(t!=null){r.destinyGraph=t[2]}return r},Nr=i("[33] Clear"),Or="CLEAR",Lr=e("CLEAR",false),Dr="clear",Pr=e("clear",false),Qr="SILENT",Mr=e("SILENT",false),Br="silent",Ur=e("silent",false),Gr=function(e){var t={};t.kind="clear";t.token="executableunit";t.destinyGraph=e;return t},qr=i("[34] Drop"),Hr="DROP",Jr=e("DROP",false),zr="drop",Vr=e("drop",false),Wr=function(e){var t={};t.kind="drop";t.token="executableunit";t.destinyGraph=e;return t},Xr=i("[35] Create"),Kr="CREATE",$r=e("CREATE",false),Zr="create",Yr=e("create",false),ei=function(e){var t={};t.kind="create";t.token="executableunit";t.destinyGraph=e;return t},ti=i("[36] InsertData"),ri="INSERT",ii=e("INSERT",false),ni="insert",si=e("insert",false),ai="DATA",oi=e("DATA",false),li="data",ui=e("data",false),fi=function(e){var t={};t.kind="insertdata";t.token="executableunit";t.quads=e;return t},ci=i("[37] DeleteData"),pi="DELETE",hi=e("DELETE",false),di="delete",vi=e("delete",false),yi=function(e){var t={};t.kind="deletedata";t.token="executableunit";t.quads=e;return t},gi=i("[38] DeleteWhere"),bi=function(e){var t={};t.kind="modify";t.pattern=e;t.with=null;t.using=null;var r=[];var i=e.patterns[0];if(i.triplesContext==null&&i.patterns!=null){i=i.patterns[0].triplesContext}else{i=i.triplesContext}for(var n=0;n<i.length;n++){var s={};var a=i[n];s["subject"]=a["subject"];s["predicate"]=a["predicate"];s["object"]=a["object"];s["graph"]=a["graph"];r.push(s)}t.delete=r;return t},mi=i("[39] Modify"),wi="WITH",xi=e("WITH",false),_i="with",ki=e("with",false),Ei=function(e,t,r,i){var n={};n.kind="modify";if(e!=""&&e!=null){n.with=e[2]}else{n.with=null}if(t.length===3&&(t[2]===""||t[2]==null)){n.delete=t[0];n.insert=null}else if(t.length===3&&t[0].length!=null&&t[1].length!=null&&t[2].length!=null){n.delete=t[0];n.insert=t[2]}else{n.insert=t;n.delete=null}if(r!=""){n.using=r}n.pattern=i;return n},Ai=i("[40] DeleteClause"),ji=function(e){return e},Si=i("[41] InsertClause"),Ti=i("[42] UsingClause"),Fi="USING",Ii=e("USING",false),Ci="using",Ri=e("using",false),Ni=function(e){if(e.length!=null){return{kind:"named",uri:e[2]}}else{return{kind:"default",uri:e}}},Oi=i("[43] GraphRef"),Li="GRAPH",Di=e("GRAPH",false),Pi="graph",Qi=e("graph",false),Mi=function(e){return e},Bi=i("[44] GraphRefAll"),Ui="DEFAULT",Gi=e("DEFAULT",false),qi="default",Hi=e("default",false),Ji=function(){return"default"},zi=function(){return"named"},Vi="ALL",Wi=e("ALL",false),Xi="all",Ki=e("all",false),$i=function(){return"all"},Zi=i("[45] QuadPattern"),Yi=function(e){return e.quadsContext},en=i("[46] QuadData"),tn=i("[47] Quads"),f=".",c=e(".",false),rn=function(e,t){var r=[];if(e!=null&&e.triplesContext!=null){for(var i=0;i<e.triplesContext.length;i++){var n=e.triplesContext[i];n.graph=null;r.push(n)}}if(t&&t.length>0&&t[0].length>0){r=r.concat(t[0][0].quadsContext);if(t[0][2]!=null&&t[0][2].triplesContext!=null){for(var i=0;i<t[0][2].triplesContext.length;i++){var n=t[0][2].triplesContext[i];n.graph=null;r.push(n)}}}return{token:"quads",quadsContext:r}},nn=i("[48] QuadsNotTriples"),sn=function(e,t){var r=[];if(t!=null){for(var i=0;i<t.triplesContext.length;i++){var n=t.triplesContext[i];n.graph=e;r.push(n)}}return{token:"quadsnottriples",quadsContext:r}},an=i("[49] TriplesTemplate"),on=function(e,t){var r=e.triplesContext;if(t!=null&&typeof t==="object"){if(t.length!=null){if(t[3]!=null&&t[3].triplesContext!=null){r=r.concat(t[3].triplesContext)}}}return{token:"triplestemplate",triplesContext:r}},ln=i("[50] GroupGraphPattern"),un=function(e){return e},fn=i("[51] GroupGraphPatternSub"),cn=function(e,t){var r=[];if(e!=null&&e!=[]){r.push(e)}for(var i=0;i<t.length;i++){for(var n=0;n<t[i].length;n++){if(t[i][n]!=null&&t[i][n].token!=null){r.push(t[i][n])}}}var s=[];var a=[];var o=[];var l=[];for(var i=0;i<r.length;i++){if(r[i].token!=="triplespattern"&&r[i].token!=="filter"&&r[i].token!=="bind"){if(a.length!=0||o.length!=0){var u=[];for(var n=0;n<a.length;n++){u=u.concat(a[n].triplesContext)}if(u.length>0){s.push({token:"basicgraphpattern",triplesContext:u})}a=[]}s.push(r[i])}else{if(r[i].token==="triplespattern"){a.push(r[i])}else if(r[i].token==="bind"){l.push(r[i])}else{o.push(r[i])}}}if(a.length!=0||o.length!=0){var u=[];for(var n=0;n<a.length;n++){u=u.concat(a[n].triplesContext)}if(u.length>0){s.push({token:"basicgraphpattern",triplesContext:u})}}return{token:"groupgraphpattern",patterns:s,filters:o,binds:l}},pn=i("[54] TriplesBlock"),hn=function(e,t){var r=e.triplesContext;if(t!=null&&typeof t==="object"){if(t!=null&&t.length!=null){if(t[2]!=null&&t[2].triplesContext!=null){r=r.concat(t[2].triplesContext)}}}return{token:"triplespattern",triplesContext:r}},dn=i("[53] GraphPatternNotTriples"),vn=i("[54] OptionalGraphPattern"),yn="OPTIONAL",gn=e("OPTIONAL",false),bn="optional",mn=e("optional",false),wn=function(e){return{token:"optionalgraphpattern",value:e}},xn=i("[55] GraphGraphPattern"),_n=function(e,t){for(var r=0;r<t.patterns.length;r++){var i=[];var n=t.patterns[r];for(var s=0;s<n.triplesContext.length;s++){var a=n.triplesContext[s];a.graph=e}}t.token="groupgraphpattern";return t},kn=i("[56] ServiceGraphPattern"),En="SERVICE",An=e("SERVICE",false),jn=function(e,t){return{token:"servicegraphpattern",status:"todo",value:[e,t]}},Sn=i("[57] MinusGraphPattern"),Tn="MINUS",Fn=e("MINUS",false),In="minus",Cn=e("minus",false),Rn=function(e){return{token:"minusgraphpattern",status:"todo",value:e}},Nn=i("[58] GroupOrUnionGraphPattern"),On="UNION",Ln=e("UNION",false),Dn="union",Pn=e("union",false),Qn=function(e,t){if(t.length===0){return e}else{var r={token:"graphunionpattern",value:[e]};for(var i=0;i<t.length;i++){if(i==t.length-1){r.value.push(t[i][3])}else{r.value.push(t[i][3]);var n={token:"graphunionpattern",value:[r]};r=n}}return r}},Mn=i("[59] Filter"),Bn="FILTER",Un=e("FILTER",false),Gn="filter",qn=e("filter",false),Hn=function(e){return{token:"filter",value:e}},Jn=i("[60] Bind"),zn="BIND",Vn=e("BIND",false),Wn="bind",Xn=e("bind",false),Kn=function(e,t){return{token:"bind",expression:e,as:t}},$n=i("[60] Constraint"),Zn=i("[61] InlineData"),Yn=function(e){return e},es=i("[62] DataBlock"),ts=i("[63] InlineDataOneVar"),rs=function(e,t){var r={token:"inlineData",values:[{var:e,value:t}]};return r},is=i("[64] InlineDataFull"),ns=function(e,t){var r={token:"inlineData",values:[],todo:true};return r},ss=i("[65] DataBlockValue"),as=i("[61] FunctionCall"),os=function(e,t){var r={};r.token="expression";r.expressionType="irireforfunction";r.iriref=e;r.args=t.value;return r},ls=i("[62] ArgList"),us=function(){var e={};e.token="args";e.value=[];return e},T=",",F=e(",",false),fs=function(e,t,r){var i=[];for(var n=0;n<r.length;n++){i.push(r[n][2])}var s={};s.token="args";s.value=[t].concat(i);if(e!=null&&e.toUpperCase()==="DISTINCT"){s.distinct=true}else{s.distinct=false}return s},cs=i("[63] ExpressionList"),ps=function(e,t){var r=[];for(var i=0;i<t.length;i++){r.push(t[i][2])}var n={};n.token="args";n.value=[e].concat(r);return n},hs=i("[64] ConstructTemplate"),ds=function(e){return e},vs=i("[65] ConstructTriples"),ys=function(e,t){var r=e.triplesContext;var i=null;if(t!=null&&typeof t==="object"){if(t.length!=null){if(t[3]!=null&&t[3].triplesContext!=null){r=r.concat(t[3].triplesContext)}}}return{token:"triplestemplate",triplesContext:r}},gs=i("[66] TriplesSameSubject"),bs=function(e,t){var r=t.triplesContext;var i=e;if(t.pairs){for(var n=0;n<t.pairs.length;n++){var s=t.pairs[n];var a=null;if(s[1].length!=null)s[1]=s[1][0];if(i.token&&i.token==="triplesnodecollection"){a={subject:i.chainSubject[0],predicate:s[0],object:s[1]};r.push(a);r=r.concat(i.triplesContext)}else{a={subject:i,predicate:s[0],object:s[1]};r.push(a)}}}var o={};o.token="triplessamesubject";o.triplesContext=r;o.chainSubject=i;return o},ms=function(e,t){var r=e.triplesContext;var i=e.chainSubject;if(t.pairs){for(var n=0;n<t.pairs.length;n++){var s=t.pairs[n];if(s[1].length!=null)s[1]=s[1][0];if(e.token==="triplesnodecollection"){for(var a=0;a<i.length;a++){var o=i[a];if(o.triplesContext!=null){var l={subject:o.chainSubject,predicate:s[0],object:s[1]};r.concat(o.triplesContext)}else{var l={subject:i[a],predicate:s[0],object:s[1]};r.push(l)}}}else{var l={subject:i,predicate:s[0],object:s[1]};r.push(l)}}}var u={};u.token="triplessamesubject";u.triplesContext=r;u.chainSubject=i;return u},ws=i("[83] PropertyListPathNotEmpty"),xs=function(e,t,r){var i={};i.token="propertylist";var n=[];var s=[];var a=[];for(var o=0;o<t.length;o++){if(t[o].triplesContext!=null){n=n.concat(t[o].triplesContext);if(t[o].token==="triplesnodecollection"&&t[o].chainSubject.length!=null){s.push([e,t[o].chainSubject[0]])}else{s.push([e,t[o].chainSubject])}}else{s.push([e,t[o]])}}for(var o=0;o<r.length;o++){var l=r[o][3];var u=l[0];var f=l[2]||[];for(var c=0;c<f.length;c++){if(f[c].triplesContext!=null){n=n.concat(f[c].triplesContext);s.push([u,f[c].chainSubject])}else{s.push([u,f[c]])}}}i.pairs=s;i.triplesContext=n;return i},_s=i("[67] PropertyListNotEmpty"),ks=function(e,t,r){var i={};i.token="propertylist";var n=[];var s=[];var a=[];for(var o=0;o<t.length;o++){if(t[o].triplesContext!=null){n=n.concat(t[o].triplesContext);if(t[o].token==="triplesnodecollection"&&t[o].chainSubject.length!=null){s.push([e,t[o].chainSubject[0]])}else{s.push([e,t[o].chainSubject])}}else{s.push([e,t[o]])}}for(var o=0;o<r.length;o++){var l=r[o][3];var u=l[0];var f=l[2]||[];for(var c=0;c<f.length;c++){if(f[c].triplesContext!=null){n=n.concat(f[c].triplesContext);s.push([u,f[c].chainSubject])}else{s.push([u,f[c]])}}}i.pairs=s;i.triplesContext=n;return i},Es=i("[68] PropertyList"),As=i("[86] ObjectListPath"),js=function(e,t){var r=[];r.push(e);for(var i=0;i<t.length;i++){for(var n=0;n<t[i].length;n++){if(typeof t[i][n]=="object"&&t[i][n].token!=null){r.push(t[i][n])}}}return r},Ss=i("[69] ObjectList"),Ts=function(e,t){var r=[];r.push(e);for(var i=0;i<t.length;i++){for(var n=0;n<t[i].length;n++){if(typeof t[i][n]=="object"&&t[i][n].token!=null){r.push(t[i][n])}}}return r},Fs=i("[87] ObjectPath"),Is=i("[70] Object"),Cs=i("[71] Verb"),Rs="a",Ns=e("a",false),Os=function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},Ls=i("[72] TriplesSameSubjectPath"),Ds=function(e,t){var r=t.triplesContext;var i=e;if(t.pairs){for(var n=0;n<t.pairs.length;n++){var s=t.pairs[n];var a=null;if(s[1].length!=null)s[1]=s[1][0];if(i.token&&i.token==="triplesnodecollection"){a={subject:i.chainSubject[0],predicate:s[0],object:s[1]};if(a.predicate.token==="path"&&a.predicate.kind==="element"){a.predicate=a.predicate.value}r.push(a);r=r.concat(i.triplesContext)}else{a={subject:i,predicate:s[0],object:s[1]};if(a.predicate.token==="path"&&a.predicate.kind==="element"){a.predicate=a.predicate.value}r.push(a)}}}var o={};o.token="triplessamesubject";o.triplesContext=r;o.chainSubject=i;return o},Ps=function(e,t){var r=e.triplesContext;var i=e.chainSubject;if(t!=null&&t.pairs!=null){for(var n=0;n<t.pairs.length;n++){var s=t.pairs[n];if(s[1].length!=null)s[1]=s[1][0];if(e.token==="triplesnodecollection"){for(var a=0;a<i.length;a++){var o=i[a];if(o.triplesContext!=null){var l={subject:o.chainSubject,predicate:s[0],object:s[1]};r.concat(o.triplesContext)}else{var l={subject:i[a],predicate:s[0],object:s[1]};r.push(l)}}}else{var l={subject:i,predicate:s[0],object:s[1]};r.push(l)}}}var u={};u.token="triplessamesubject";u.triplesContext=r;u.chainSubject=i;return u},Qs=i("[73] PropertyListNotEmptyPath"),Ms=function(e,t,r){var i={};i.token="propertylist";var n=[];var s=[];var a=[];for(var o=0;o<t.length;o++){if(t[o].triplesContext!=null){n=n.concat(t[o].triplesContext);if(t[o].token==="triplesnodecollection"&&t[o].chainSubject.length!=null){s.push([e,t[o].chainSubject[0]])}else{s.push([e,t[o].chainSubject])}}else{s.push([e,t[o]])}}for(var o=0;o<r.length;o++){var l=r[o][3];var u=l[0];var f=l[1]||[];for(var c=0;c<f.length;c++){if(f[c].triplesContext!=null){n=n.concat(f[c].triplesContext);s.push([u,f[c].chainSubject])}else{s.push([u,f[c]])}}}i.pairs=s;i.triplesContext=n;return i},Bs=i("[74] PropertyListPath"),Us=i("[75]"),Gs=function(e){var t={};t.token="path";t.kind="element";t.value=e;return e},qs=i("[76] VerbSimple"),Hs=i("[77] Path"),Js=i("[78] PathAlternative"),zs="|",Vs=e("|",false),Ws=function(e,t){if(t==null||t.length===0){return e}else{var r=[];for(var i=0;i<t.length;i++)r.push(t[1]);var n={};n.token="path";n.kind="alternative";n.value=r;return n}},Xs=i("[79] PathSequence"),Ks="/",$s=e("/",false),Zs=function(e,t){if(t==null||t.length===0){return e}else{var r=[e];for(var i=0;i<t.length;i++)r.push(t[i][1]);var n={};n.token="path";n.kind="sequence";n.value=r;return n}},Ys=i("[88] PathElt"),ea=function(e,t){if(e.token&&e.token!="path"&&t==""){return e}else if(e.token&&e.token!=r&&t!=""){var r={};r.token="path";r.kind="element";r.value=e;r.modifier=t;return r}else{e.modifier=t;return e}},ta=i("[81] PathEltOrInverse"),ra="^",ia=e("^",false),na=function(e){var t={};t.token="path";t.kind="inversePath";t.value=e;return t},sa=i("[82] PathMod"),aa="?",oa=e("?",false),la="+",ua=e("+",false),fa=i("[83] PathPrimary"),ca="!",pa=e("!",false),ha=i("[85] PathOneInPropertySet"),da=i("[86] Integer"),va=i("[100] TriplesNodePath"),ya=function(e){var t=[];var r=[];var i=null;for(var n=0;n<e.length;n++){o++;var s=null;if(e[n].chainSubject==null&&e[n].triplesContext==null){s=e[n]}else{s=e[n].chainSubject;t=t.concat(e[n].triplesContext)}i={subject:{token:"blank",value:"_:"+o},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:s};if(n==0){r.push(i.subject)}t.push(i);if(n===e.length-1){i={subject:{token:"blank",value:"_:"+o},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}}else{i={subject:{token:"blank",value:"_:"+o},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(o+1)}}}t.push(i)}return{token:"triplesnodecollection",triplesContext:t,chainSubject:r}},ga=i("[87] TriplesNode"),ba=function(e){var t=[];var r=[];var i=null;for(var n=0;n<e.length;n++){o++;var s=null;if(e[n].chainSubject==null&&e[n].triplesContext==null){s=e[n]}else{s=e[n].chainSubject;t=t.concat(s.triplesContext)}i={subject:{token:"blank",value:"_:"+o},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:s};if(n==0){r.push(i.subject)}t.push(i);if(n===e.length-1){i={subject:{token:"blank",value:"_:"+o},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}}else{i={subject:{token:"blank",value:"_:"+o},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(o+1)}}}t.push(i)}return{token:"triplesnodecollection",triplesContext:t,chainSubject:r}},ma=i("[101] BlankNodePropertyListPath"),wa="[",xa=e("[",false),_a="]",ka=e("]",false),Ea=function(e){o++;var t={token:"blank",value:"_:"+o};var r=[];for(var i=0;i<e.pairs.length;i++){var n=e.pairs[i];var s={};s.subject=t;s.predicate=n[0];if(n[1].length!=null)n[1]=n[1][0];s.object=n[1];r.push(s)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:e.triplesContext.concat(r),chainSubject:t}},Aa=i("[88] BlankNodePropertyList"),ja=function(e){o++;var t={token:"blank",value:"_:"+o};var r=[];for(var i=0;i<e.pairs.length;i++){var n=e.pairs[i];var s={};s.subject=t;s.predicate=n[0];if(n[1].length!=null)n[1]=n[1][0];s.object=n[1];r.push(s)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:e.triplesContext.concat(r),chainSubject:t}},Sa=i("[103] CollectionPath"),Ta=function(e){return e},Fa=i("[89] Collection"),Ia=i("[105] GraphNodePath"),Ca=function(e){return e[1]},Ra=i("[90] GraphNode"),Na=i("[91] VarOrTerm"),Oa=i("[92] VarOrIRIref"),La=i("[93] Var"),Da=function(e){var t={};t.token="var";t.value=e;return t},Pa=i("[94] GraphTerm"),Qa=i("[95] Expression"),Ma=i("[96] ConditionalOrExpression"),Ba="||",Ua=e("||",false),Ga=function(e,t){if(t.length===0){return e}var r={};r.token="expression";r.expressionType="conditionalor";var i=[e];for(var n=0;n<t.length;n++){i.push(t[n][3])}r.operands=i;return r},qa=i("[97] ConditionalAndExpression"),Ha="&&",Ja=e("&&",false),za=function(e,t){if(t.length===0){return e}var r={};r.token="expression";r.expressionType="conditionaland";var i=[e];for(var n=0;n<t.length;n++){i.push(t[n][3])}r.operands=i;return r},Va=i("[98] ValueLogical"),Wa=i("[99] RelationalExpression"),Xa="=",Ka=e("=",false),$a="!=",Za=e("!=",false),Ya="<",eo=e("<",false),to=">",ro=e(">",false),io="<=",no=e("<=",false),so=">=",ao=e(">=",false),oo="I",lo=e("I",false),uo="i",fo=e("i",false),co="N",po=e("N",false),ho="n",vo=e("n",false),yo="O",go=e("O",false),bo="o",mo=e("o",false),wo="T",xo=e("T",false),_o="t",ko=e("t",false),Eo=function(e,t){if(t.length===0){return e}else if(t[0][1]==="i"||t[0][1]==="I"||t[0][1]==="n"||t[0][1]==="N"){var r={};if(t[0][1]==="i"||t[0][1]==="I"){var i="=";r.expressionType="conditionalor"}else{var i="!=";r.expressionType="conditionaland"}var n=e;var s=[];for(var a=0;a<t[0].length;a++){if(t[0][a].token==="args"){s=t[0][a].value;break}}r.token="expression";r.operands=[];for(var o=0;o<s.length;o++){var l={};l.token="expression";l.expressionType="relationalexpression";l.operator=i;l.op1=n;l.op2=s[o];r.operands.push(l)}return r}else{var r={};r.expressionType="relationalexpression";r.operator=t[0][1];r.op1=e;r.op2=t[0][3];r.token="expression";return r}},Ao=i("[100] NumericExpression"),jo=i("[101] AdditiveExpression"),p="-",h=e("-",false),So=function(e,t){if(t.length===0){return e}var r={};r.token="expression";r.expressionType="additiveexpression";r.summand=e;r.summands=[];for(var i=0;i<t.length;i++){var n=t[i];var s={};if(n.length==4&&typeof n[1]==="string"){s.operator=n[1];s.expression=n[3]}else{var a={};var o=s[0];var l=s[1][1];var u=s[1][3];var l=null;if(o.value<0){s.operator="-";o.value=-o.value}else{s.operator="+"}a.token="expression";a.expressionType="multiplicativeexpression";a.operator=o;a.factors=[{operator:l,expression:u}];s.expression=a}r.summands.push(s)}return r},To=i("[102] MultiplicativeExpression"),Fo=function(e,t){if(t.length===0){return e}var r={};r.token="expression";r.expressionType="multiplicativeexpression";r.factor=e;r.factors=[];for(var i=0;i<t.length;i++){var n=t[i];var s={};s.operator=n[1];s.expression=n[3];r.factors.push(s)}return r},Io=i("[103] UnaryExpression"),Co=function(e){var t={};t.token="expression";t.expressionType="unaryexpression";t.unaryexpression="!";t.expression=e;return t},Ro=function(e){var t={};t.token="expression";t.expressionType="unaryexpression";t.unaryexpression="+";t.expression=e;return t},No=function(e){var t={};t.token="expression";t.expressionType="unaryexpression";t.unaryexpression="-";t.expression=e;return t},Oo=i("[104] PrimaryExpression"),Lo=function(e){var t={};t.token="expression";t.expressionType="atomic";t.primaryexpression="rdfliteral";t.value=e;return t},Do=function(e){var t={};t.token="expression";t.expressionType="atomic";t.primaryexpression="numericliteral";t.value=e;return t},Po=function(e){var t={};t.token="expression";t.expressionType="atomic";t.primaryexpression="booleanliteral";t.value=e;return t},Qo=function(e){var t={};t.token="expression";t.expressionType="atomic";t.primaryexpression="var";t.value=e;return t},Mo=i("[105] BrackettedExpression"),Bo=function(e){return e},Uo=i("[106] BuiltInCall"),Go="STR",qo=e("STR",false),Ho="str",Jo=e("str",false),zo=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="str";t.args=[e];return t},Vo="LANG",Wo=e("LANG",false),Xo="lang",Ko=e("lang",false),$o=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="lang";t.args=[e];return t},Zo="LANGMATCHES",Yo=e("LANGMATCHES",false),el="langmatches",tl=e("langmatches",false),rl=function(e,t){var r={};r.token="expression";r.expressionType="builtincall";r.builtincall="langmatches";r.args=[e,t];return r},il="DATATYPE",nl=e("DATATYPE",false),sl="datatype",al=e("datatype",false),ol=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="datatype";t.args=[e];return t},ll="BOUND",ul=e("BOUND",false),fl="bound",cl=e("bound",false),pl=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="bound";t.args=[e];return t},hl="IRI",dl=e("IRI",false),vl="iri",yl=e("iri",false),gl=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="iri";t.args=[e];return t},bl="URI",ml=e("URI",false),wl="uri",xl=e("uri",false),_l=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="uri";t.args=[e];return t},kl="BNODE",El=e("BNODE",false),Al="bnode",jl=e("bnode",false),Sl=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="bnode";if(e.length===5){t.args=[e[2]]}else{t.args=null}return t},Tl="COALESCE",Fl=e("COALESCE",false),Il="coalesce",Cl=e("coalesce",false),Rl=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="coalesce";t.args=e;return t},Nl="IF",Ol=e("IF",false),Ll="if",Dl=e("if",false),Pl=function(e,t,r){var i={};i.token="expression";i.expressionType="builtincall";i.builtincall="if";i.args=[e,t,r];return i},Ql="ISLITERAL",Ml=e("ISLITERAL",false),Bl="isliteral",Ul=e("isliteral",false),Gl="isLITERAL",ql=e("isLITERAL",false),Hl=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="isliteral";t.args=[e];return t},Jl="ISBLANK",zl=e("ISBLANK",false),Vl="isblank",Wl=e("isblank",false),Xl="isBLANK",Kl=e("isBLANK",false),$l=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="isblank";t.args=[e];return t},Zl="SAMETERM",Yl=e("SAMETERM",false),eu="sameterm",tu=e("sameterm",false),ru=function(e,t){var r={};r.token="expression";r.expressionType="builtincall";r.builtincall="sameterm";r.args=[e,t];return r},iu="ISURI",nu=e("ISURI",false),su="isuri",au=e("isuri",false),ou="isURI",lu=e("isURI",false),uu="ISIRI",fu=e("ISIRI",false),cu="isiri",pu=e("isiri",false),hu="isIRI",du=e("isIRI",false),vu=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="isuri";t.args=[e];return t},yu="custom:",gu=e("custom:",false),bu="CUSTOM:",mu=e("CUSTOM:",false),wu=/^[a-zA-Z0-9_]/,xu=r([["a","z"],["A","Z"],["0","9"],"_"],false,false),_u=function(e,t,r){var i={};i.token="expression";i.expressionType="custom";i.name=e.join("");var n=[];for(var s=0;s<t.length;s++)n.push(t[s][1]);n.push(r);i.args=n;return i},ku=i("[107] RegexExpression"),Eu="REGEX",Au=e("REGEX",false),ju="regex",Su=e("regex",false),Tu=function(e,t,r){var i={};i.token="expression";i.expressionType="regex";i.text=e;i.pattern=t;if(r!=null){i.flags=r[2]}return i},Fu=i("[108] ExistsFunc"),Iu="EXISTS",Cu=e("EXISTS",false),Ru="exists",Nu=e("exists",false),Ou=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="exists";t.args=[e];return t},Lu=i("[109] NotExistsFunc"),Du="NOT",Pu=e("NOT",false),Qu="not",Mu=e("not",false),Bu=function(e){var t={};t.token="expression";t.expressionType="builtincall";t.builtincall="notexists";t.args=[e];return t},Uu=i("[110] Aggregate"),Gu="COUNT",qu=e("COUNT",false),Hu="count",Ju=e("count",false),zu=function(e,t){var r={};r.token="expression";r.expressionType="aggregate";r.aggregateType="count";r.distinct=e!=""&&e!=null?"DISTINCT":e;r.expression=t;return r},Vu="GROUP_CONCAT",Wu=e("GROUP_CONCAT",false),Xu="group_concat",Ku=e("group_concat",false),$u="SEPARATOR",Zu=e("SEPARATOR",false),Yu=function(e,t,r){var i={};i.token="expression";i.expressionType="aggregate";i.aggregateType="group_concat";i.distinct=e!=""&&e!=null?"DISTINCT":e;i.expression=t;i.separator=r;return i},ef="SUM",tf=e("SUM",false),rf="sum",nf=e("sum",false),sf=function(e,t){var r={};r.token="expression";r.expressionType="aggregate";r.aggregateType="sum";r.distinct=e!=""&&e!=null?"DISTINCT":e;r.expression=t;return r},af="MIN",of=e("MIN",false),lf="min",uf=e("min",false),ff=function(e,t){var r={};r.token="expression";r.expressionType="aggregate";r.aggregateType="min";r.distinct=e!=""&&e!=null?"DISTINCT":e;r.expression=t;return r},cf="MAX",pf=e("MAX",false),hf="max",df=e("max",false),vf=function(e,t){var r={};r.token="expression";r.expressionType="aggregate";r.aggregateType="max";r.distinct=e!=""&&e!=null?"DISTINCT":e;r.expression=t;return r},yf="AVG",gf=e("AVG",false),bf="avg",mf=e("avg",false),wf=function(e,t){var r={};r.token="expression";r.expressionType="aggregate";r.aggregateType="avg";r.distinct=e!=""&&e!=null?"DISTINCT":e;r.expression=t;return r},xf=i("[117] IRIrefOrFunction"),_f=function(e,t){var r={};r.token="expression";r.expressionType="irireforfunction";r.iriref=e;r.args=t!=null?t.value:t;return r},kf=i("[112] RDFLiteral"),Ef="^^",Af=e("^^",false),jf=function(e,t){if(typeof t==="string"&&t.length>0){return{token:"literal",value:e.value,lang:t.slice(1),type:null}}else{if(t!=null&&typeof t==="object"){t.shift();return{token:"literal",value:e.value,lang:null,type:t[0]}}else{return{token:"literal",value:e.value,lang:null,type:null}}}},Sf=i("[113] NumericLiteral"),Tf=i("[114] NumericLiteralUnsigned"),Ff=i("[115] NumericLiteralPositive"),If=i("[116] NumericLiteralNegative"),Cf=i("[117] BooleanLiteral"),Rf="TRUE",Nf=e("TRUE",false),Of="true",Lf=e("true",false),Df=function(){var e={};e.token="literal";e.lang=null;e.type="http://www.w3.org/2001/XMLSchema#boolean";e.value=true;return e},Pf="FALSE",Qf=e("FALSE",false),Mf="false",Bf=e("false",false),Uf=function(){var e={};e.token="literal";e.lang=null;e.type="http://www.w3.org/2001/XMLSchema#boolean";e.value=false;return e},Gf=i("[118] String"),qf=function(e){return{token:"string",value:e}},Hf=i("[119] IRIref"),Jf=function(e){return{token:"uri",prefix:null,suffix:null,value:e}},zf=function(e){return e},Vf=i("[120] PrefixedName"),Wf=function(e){return{token:"uri",prefix:e[0],suffix:e[1],value:null}},Xf=function(e){return{token:"uri",prefix:e,suffix:"",value:null}},Kf=i("[121] BlankNode"),$f=function(e){return{token:"blank",value:e}},Zf=function(){o++;return{token:"blank",value:"_:"+o}},Yf=i("[122] IRI_REF"),ec=/^[^<>"{}|\^`\\]/,tc=r(["<",">",'"',"{","}","|","^","`","\\"],true,false),rc=function(e){return e.join("")},ic=i("[123] PNAME_NS"),nc=":",sc=e(":",false),ac=i("[124] PNAME_LN"),oc=function(e,t){return[e,t]},lc=i("[125] BLANK_NODE_LABEL"),uc="_:",fc=e("_:",false),cc=function(e){return e},pc=i("[126] VAR1"),hc=function(e){return e},dc=i("[127] VAR2"),vc="$",yc=e("$",false),gc=i("[128] LANGTAG"),bc="@",mc=e("@",false),wc=/^[a-zA-Z]/,xc=r([["a","z"],["A","Z"]],false,false),_c=/^[a-zA-Z0-9]/,kc=r([["a","z"],["A","Z"],["0","9"]],false,false),Ec=function(e,t){if(t.length===0){return("@"+e.join("")).toLowerCase()}else{return("@"+e.join("")+"-"+t[0][1].join("")).toLowerCase()}},Ac=i("[129] INTEGER"),s=/^[0-9]/,a=r([["0","9"]],false,false),jc=function(e){var t={};t.token="literal";t.lang=null;t.type="http://www.w3.org/2001/XMLSchema#integer";t.value=lg(e);return t},Sc=i("[130] DECIMAL"),Tc=function(e,t,r){var i={};i.token="literal";i.lang=null;i.type="http://www.w3.org/2001/XMLSchema#decimal";i.value=lg([e,t,r]);return i},Fc=function(e,t){var r={};r.token="literal";r.lang=null;r.type="http://www.w3.org/2001/XMLSchema#decimal";r.value=lg([e,t]);return r},Ic=i("[131] DOUBLE"),Cc=function(e,t,r,i){var n={};n.token="literal";n.lang=null;n.type="http://www.w3.org/2001/XMLSchema#double";n.value=lg([e,t,r,i]);return n},Rc=function(e,t,r){var i={};i.token="literal";i.lang=null;i.type="http://www.w3.org/2001/XMLSchema#double";i.value=lg([e,t,r]);return i},Nc=function(e,t){var r={};r.token="literal";r.lang=null;r.type="http://www.w3.org/2001/XMLSchema#double";r.value=lg([e,t]);return r},Oc=i("[132] INTEGER_POSITIVE"),Lc=function(e){e.value="+"+e.value;return e},Dc=i("[133] DECIMAL_POSITIVE"),Pc=function(e){e.value="+"+e.value;return e},Qc=i("[134] DOUBLE_POSITIVE"),Mc=i("[135] INTEGER_NEGATIVE"),Bc=function(e){e.value="-"+e.value;return e},Uc=i("[136] DECIMAL_NEGATIVE"),Gc=i("[137] DOUBLE_NEGATIVE"),qc=i("[138] EXPONENT"),Hc=/^[eE]/,Jc=r(["e","E"],false,false),zc=/^[+\-]/,Vc=r(["+","-"],false,false),Wc=function(e,t,r){return lg([e,t,r])},Xc=i("[139] STRING_LITERAL1"),Kc="'",$c=e("'",false),Zc=/^[^'\\\n\r]/,Yc=r(["'","\\","\n","\r"],true,false),ep=function(e){return lg(e)},tp=i("[140] STRING_LITERAL2"),rp='"',ip=e('"',false),np=/^[^"\\\n\r]/,sp=r(['"',"\\","\n","\r"],true,false),ap=i("[141] STRING_LITERAL_LONG1"),op="'''",lp=e("'''",false),up=/^[^'\\]/,fp=r(["'","\\"],true,false),cp=i("[142] STRING_LITERAL_LONG2"),pp='"""',hp=e('"""',false),dp=/^[^"\\]/,vp=r(['"',"\\"],true,false),yp=i("[143] ECHAR"),gp="\\",bp=e("\\",false),mp=/^[tbnrf"']/,wp=r(["t","b","n","r","f",'"',"'"],false,false),xp=i("[144] NIL"),_p=function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},kp=i("[145] WS"),Ep=/^[ ]/,Ap=r([" "],false,false),jp=/^[\t]/,Sp=r(["\t"],false,false),Tp=/^[\r]/,Fp=r(["\r"],false,false),Ip=/^[\n]/,Cp=r(["\n"],false,false),Rp=i(" COMMENT"),Np="#",Op=e("#",false),Lp=/^[^\n\r]/,Dp=r(["\n","\r"],true,false),Pp=i("[146] ANON"),Qp=i("[147] PN_CHARS_BASE"),Mp=/^[A-Z]/,Bp=r([["A","Z"]],false,false),Up=/^[a-z]/,Gp=r([["a","z"]],false,false),qp=/^[\xC0-\xD6]/,Hp=r([["À","Ö"]],false,false),Jp=/^[\xD8-\xF6]/,zp=r([["Ø","ö"]],false,false),Vp=/^[\xF8-\u02FF]/,Wp=r([["ø","˿"]],false,false),Xp=/^[\u0370-\u037D]/,Kp=r([["Ͱ","ͽ"]],false,false),$p=/^[\u037F-\u1FFF]/,Zp=r([["Ϳ","῿"]],false,false),Yp=/^[\u200C-\u200D]/,eh=r([["‌","‍"]],false,false),th=/^[\u2070-\u218F]/,rh=r([["⁰","↏"]],false,false),ih=/^[\u2C00-\u2FEF]/,nh=r([["Ⰰ","⿯"]],false,false),sh=/^[\u3001-\uD7FF]/,ah=r([["、","퟿"]],false,false),oh=/^[\uF900-\uFDCF]/,lh=r([["豈","﷏"]],false,false),uh=/^[\uFDF0-\uFFFD]/,fh=r([["ﷰ","�"]],false,false),ch=/^[\u1000-\uEFFF]/,ph=r([["က",""]],false,false),hh=i("[148] PN_CHARS_U"),dh="_",vh=e("_",false),yh=i("[149] VARNAME"),gh=/^[\xB7]/,bh=r(["·"],false,false),mh=/^[\u0300-\u036F]/,wh=r([["̀","ͯ"]],false,false),xh=/^[\u203F-\u2040]/,_h=r([["‿","⁀"]],false,false),kh=function(e,t){return e+t.join("")},Eh=i("[150] PN_CHARS"),Ah=i("[151] PN_PREFIX"),jh=function(e,t){if(t[t.length-1]=="."){throw new Error("Wrong PN_PREFIX, cannot finish with '.'")}else{return e+t.join("")}},Sh=i("[152] PN_LOCAL"),Th=function(e,t){return e+(t||[]).join("")},Fh=i("[170] PLX"),Ih=i("[171] PERCENT"),Ch="%",Rh=e("%",false),Nh=function(e){return e.join("")},Oh=i("[172] HEX"),Lh=/^[A-F]/,Dh=r([["A","F"]],false,false),Ph=/^[a-f]/,Qh=r([["a","f"]],false,false),Mh=i("[173] PN_LOCAL_ESC"),Bh="~",Uh=e("~",false),Gh="&",qh=e("&",false),Hh=function(e){return"\\"+e},I=0,C=0,Jh=[{line:1,column:1}],t=0,zh=[],R=0,Vh;if("startRule"in n){if(!(n.startRule in l)){throw new Error("Can't start parsing from rule \""+n.startRule+'".')}u=l[n.startRule]}function Wh(){return w.substring(C,I)}function Xh(){return td(C,I)}function Kh(e,t){t=t!==void 0?t:td(C,I);throw id([i(e)],w.substring(C,I),t)}function $h(e,t){t=t!==void 0?t:td(C,I);throw rd(e,t)}function e(e,t){return{type:"literal",text:e,ignoreCase:t}}function r(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Zh(){return{type:"any"}}function Yh(){return{type:"end"}}function i(e){return{type:"other",description:e}}function ed(e){var t=Jh[e],r;if(t){return t}else{r=e-1;while(!Jh[r]){r--}t=Jh[r];t={line:t.line,column:t.column};while(r<e){if(w.charCodeAt(r)===10){t.line++;t.column=1}else{t.column++}r++}Jh[e]=t;return t}}function td(e,t){var r=ed(e),i=ed(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}}}function N(e){if(I<t){return}if(I>t){t=I;zh=[]}zh.push(e)}function rd(e,t){return new hg(e,null,null,t)}function id(e,t,r){return new hg(hg.buildMessage(e,t),e,t,r)}function nd(){var e;e=sd();return e}function sd(){var e;e=ad();if(e===x){e=Od()}return e}function ad(){var e,t;R++;e=od();R--;if(e===x){t=x;if(R===0){N(M)}}return e}function od(){var e,t,r,i;R++;e=I;t=ld();if(t!==x){r=cd();if(r===x){r=dd();if(r===x){r=vd();if(r===x){r=yd()}}}if(r!==x){i=Nd();if(i!==x){C=e;t=U(t,r,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(B)}}return e}function ld(){var e,t,r,i,n;R++;e=I;t=ud();if(t===x){t=null}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=[];n=fd();while(n!==x){i.push(n);n=fd()}if(i!==x){C=e;t=q(t,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(G)}}return e}function ud(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,4)===J){r=J;I+=4}else{r=x;if(R===0){N(z)}}if(r===x){if(w.substr(I,4)===V){r=V;I+=4}else{r=x;if(R===0){N(W)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Sy();if(n!==x){C=e;t=X(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(H)}}return e}function fd(){var e,t,r,i,n,s,a;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,6)===$){r=$;I+=6}else{r=x;if(R===0){N(Z)}}if(r===x){if(w.substr(I,6)===Y){r=Y;I+=6}else{r=x;if(R===0){N(ee)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Ty();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=Sy();if(a!==x){C=e;t=te(n,a);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(K)}}return e}function cd(){var e,t,r,i,n,s,a,o,l,u;R++;e=I;t=hd();if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=[];n=v();while(n!==x){i.push(n);n=v()}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=wd();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=xd();if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=Cd();if(u!==x){C=e;t=ie(t,i,s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(re)}}return e}function pd(){var e,t,r,i;R++;e=I;t=hd();if(t!==x){r=wd();if(r!==x){i=xd();if(i!==x){C=e;t=se(t,r,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ne)}}return e}function hd(){var e,t,r,i,n,s,a,o,l,u,f,c,p,h,d,v,y,g,b,m;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,6)===oe){r=oe;I+=6}else{r=x;if(R===0){N(le)}}if(r===x){if(w.substr(I,6)===ue){r=ue;I+=6}else{r=x;if(R===0){N(fe)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.substr(I,8)===_){n=_;I+=8}else{n=x;if(R===0){N(ce)}}if(n===x){if(w.substr(I,8)===k){n=k;I+=8}else{n=x;if(R===0){N(pe)}}}if(n===x){if(w.substr(I,7)===he){n=he;I+=7}else{n=x;if(R===0){N(de)}}if(n===x){if(w.substr(I,7)===ve){n=ve;I+=7}else{n=x;if(R===0){N(ye)}}}}if(n===x){n=null}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=[];o=I;l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=O();if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){l=[l,u,f];o=l}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}if(o===x){o=I;l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===40){u=E;I++}else{u=x;if(R===0){N(A)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){c=L();if(c!==x){p=[];h=Q();while(h!==x){p.push(h);h=Q()}if(p!==x){if(w.substr(I,2)===ge){h=ge;I+=2}else{h=x;if(R===0){N(be)}}if(h===x){if(w.substr(I,2)===me){h=me;I+=2}else{h=x;if(R===0){N(we)}}}if(h!==x){d=[];v=Q();while(v!==x){d.push(v);v=Q()}if(d!==x){v=O();if(v!==x){y=[];g=Q();while(g!==x){y.push(g);g=Q()}if(y!==x){if(w.charCodeAt(I)===41){g=j;I++}else{g=x;if(R===0){N(S)}}if(g!==x){b=[];m=Q();while(m!==x){b.push(m);m=Q()}if(b!==x){l=[l,u,f,c,p,h,d,v,y,g,b];o=l}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}if(o!==x){while(o!==x){a.push(o);o=I;l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=O();if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){l=[l,u,f];o=l}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}if(o===x){o=I;l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===40){u=E;I++}else{u=x;if(R===0){N(A)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){c=L();if(c!==x){p=[];h=Q();while(h!==x){p.push(h);h=Q()}if(p!==x){if(w.substr(I,2)===ge){h=ge;I+=2}else{h=x;if(R===0){N(be)}}if(h===x){if(w.substr(I,2)===me){h=me;I+=2}else{h=x;if(R===0){N(we)}}}if(h!==x){d=[];v=Q();while(v!==x){d.push(v);v=Q()}if(d!==x){v=O();if(v!==x){y=[];g=Q();while(g!==x){y.push(g);g=Q()}if(y!==x){if(w.charCodeAt(I)===41){g=j;I++}else{g=x;if(R===0){N(S)}}if(g!==x){b=[];m=Q();while(m!==x){b.push(m);m=Q()}if(b!==x){l=[l,u,f,c,p,h,d,v,y,g,b];o=l}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}}}else{a=x}if(a===x){a=I;o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){if(w.charCodeAt(I)===42){l=xe;I++}else{l=x;if(R===0){N(_e)}}if(l!==x){u=[];f=Q();while(f!==x){u.push(f);f=Q()}if(u!==x){o=[o,l,u];a=o}else{I=a;a=x}}else{I=a;a=x}}else{I=a;a=x}}if(a!==x){C=e;t=ke(n,a);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ae)}}return e}function dd(){var e,t,r,i,n,s,a,o,l,u,f,c,p,h,d;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,9)===Ae){r=Ae;I+=9}else{r=x;if(R===0){N(je)}}if(r===x){if(w.substr(I,9)===Se){r=Se;I+=9}else{r=x;if(R===0){N(Te)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=wv();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=[];o=v();while(o!==x){a.push(o);o=v()}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=wd();if(l!==x){u=[];f=Q();while(f!==x){u.push(f);f=Q()}if(u!==x){f=xd();if(f!==x){C=e;t=Fe(n,a,l,f);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,9)===Ae){r=Ae;I+=9}else{r=x;if(R===0){N(je)}}if(r===x){if(w.substr(I,9)===Se){r=Se;I+=9}else{r=x;if(R===0){N(Te)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=[];s=v();while(s!==x){n.push(s);s=v()}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.substr(I,5)===Ie){a=Ie;I+=5}else{a=x;if(R===0){N(Ce)}}if(a===x){if(w.substr(I,5)===Re){a=Re;I+=5}else{a=x;if(R===0){N(Ne)}}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){if(w.charCodeAt(I)===123){l=y;I++}else{l=x;if(R===0){N(g)}}if(l!==x){u=[];f=Q();while(f!==x){u.push(f);f=Q()}if(u!==x){f=ev();if(f===x){f=null}if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){if(w.charCodeAt(I)===125){p=b;I++}else{p=x;if(R===0){N(m)}}if(p!==x){h=[];d=Q();while(d!==x){h.push(d);d=Q()}if(h!==x){d=xd();if(d!==x){C=e;t=Oe(n,f,d);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(Ee)}}return e}function vd(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,8)===De){t=De;I+=8}else{t=x;if(R===0){N(Pe)}}if(t!==x){r=[];i=ty();if(i!==x){while(i!==x){r.push(i);i=ty()}}else{r=x}if(r===x){if(w.charCodeAt(I)===42){r=xe;I++}else{r=x;if(R===0){N(_e)}}}if(r!==x){i=[];n=v();while(n!==x){i.push(n);n=v()}if(i!==x){n=wd();if(n===x){n=null}if(n!==x){s=xd();if(s!==x){t=[t,r,i,n,s];e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Le)}}return e}function yd(){var e,t,r,i,n,s,a;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,3)===Me){r=Me;I+=3}else{r=x;if(R===0){N(Be)}}if(r===x){if(w.substr(I,3)===Ue){r=Ue;I+=3}else{r=x;if(R===0){N(Ge)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=[];s=v();while(s!==x){n.push(s);s=v()}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=wd();if(a!==x){C=e;t=qe(n,a);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Qe)}}return e}function v(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,4)===Je){t=Je;I+=4}else{t=x;if(R===0){N(ze)}}if(t===x){if(w.substr(I,4)===Ve){t=Ve;I+=4}else{t=x;if(R===0){N(We)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=gd();if(i===x){i=bd()}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){C=e;t=Xe(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(He)}}return e}function gd(){var e,t,r;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=md();if(r!==x){C=e;t=$e(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ke)}}return e}function bd(){var e,t,r,i;R++;e=I;if(w.substr(I,5)===Ye){t=Ye;I+=5}else{t=x;if(R===0){N(et)}}if(t===x){if(w.substr(I,5)===tt){t=tt;I+=5}else{t=x;if(R===0){N(rt)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=md();if(i!==x){C=e;t=it(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ze)}}return e}function md(){var e,t;R++;e=P();R--;if(e===x){t=x;if(R===0){N(nt)}}return e}function wd(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,5)===Ie){t=Ie;I+=5}else{t=x;if(R===0){N(Ce)}}if(t===x){if(w.substr(I,5)===Re){t=Re;I+=5}else{t=x;if(R===0){N(Ne)}}}if(t===x){t=null}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=d();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){C=e;t=at(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(st)}}return e}function xd(){var e,t,r,i,n;R++;e=I;t=_d();if(t===x){t=null}if(t!==x){r=Ed();if(r===x){r=null}if(r!==x){i=jd();if(i===x){i=null}if(i!==x){n=Td();if(n===x){n=null}if(n!==x){C=e;t=lt(t,i,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ot)}}return e}function _d(){var e,t,r,i,n,s,a;R++;e=I;if(w.substr(I,5)===ft){t=ft;I+=5}else{t=x;if(R===0){N(ct)}}if(t===x){if(w.substr(I,5)===pt){t=pt;I+=5}else{t=x;if(R===0){N(ht)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,2)===dt){i=dt;I+=2}else{i=x;if(R===0){N(vt)}}if(i===x){if(w.substr(I,2)===yt){i=yt;I+=2}else{i=x;if(R===0){N(gt)}}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=[];a=kd();if(a!==x){while(a!==x){s.push(a);a=kd()}}else{s=x}if(s!==x){C=e;t=bt(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ut)}}return e}function kd(){var e,t,r,i,n,s,a,o,l,u,f;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=py();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){C=e;t=wt(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=gv();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){C=e;t=xt(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.charCodeAt(I)===40){r=E;I++}else{r=x;if(R===0){N(A)}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=L();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=I;if(w.substr(I,2)===ge){o=ge;I+=2}else{o=x;if(R===0){N(be)}}if(o===x){if(w.substr(I,2)===me){o=me;I+=2}else{o=x;if(R===0){N(we)}}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=O();if(u!==x){o=[o,l,u];a=o}else{I=a;a=x}}else{I=a;a=x}}else{I=a;a=x}if(a===x){a=null}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){if(w.charCodeAt(I)===41){l=j;I++}else{l=x;if(R===0){N(S)}}if(l!==x){u=[];f=Q();while(f!==x){u.push(f);f=Q()}if(u!==x){C=e;t=_t(n,a);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=O();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){C=e;t=kt(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}}}R--;if(e===x){t=x;if(R===0){N(mt)}}return e}function Ed(){var e,t,r,i;R++;e=I;if(w.substr(I,6)===At){t=At;I+=6}else{t=x;if(R===0){N(jt)}}if(t!==x){r=[];i=Ad();if(i!==x){while(i!==x){r.push(i);i=Ad()}}else{r=x}if(r!==x){t=[t,r];e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Et)}}return e}function Ad(){var e,t;R++;e=cv();R--;if(e===x){t=x;if(R===0){N(St)}}return e}function jd(){var e,t,r,i,n,s,a,o;R++;e=I;if(w.substr(I,5)===Ft){t=Ft;I+=5}else{t=x;if(R===0){N(It)}}if(t===x){if(w.substr(I,5)===Ct){t=Ct;I+=5}else{t=x;if(R===0){N(Rt)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,2)===dt){i=dt;I+=2}else{i=x;if(R===0){N(vt)}}if(i===x){if(w.substr(I,2)===yt){i=yt;I+=2}else{i=x;if(R===0){N(gt)}}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=[];a=Sd();if(a!==x){while(a!==x){s.push(a);a=Sd()}}else{s=x}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){C=e;t=Nt(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Tt)}}return e}function Sd(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,3)===Lt){t=Lt;I+=3}else{t=x;if(R===0){N(Dt)}}if(t===x){if(w.substr(I,3)===Pt){t=Pt;I+=3}else{t=x;if(R===0){N(Qt)}}if(t===x){if(w.substr(I,4)===Mt){t=Mt;I+=4}else{t=x;if(R===0){N(Bt)}}if(t===x){if(w.substr(I,4)===Ut){t=Ut;I+=4}else{t=x;if(R===0){N(Gt)}}}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=cy();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){C=e;t=qt(t,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=cv();if(t===x){t=O()}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){C=e;t=Ht(t);e=t}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(Ot)}}return e}function Td(){var e,t,r,i;R++;e=I;t=I;r=Fd();if(r!==x){i=Id();if(i===x){i=null}if(i!==x){r=[r,i];t=r}else{I=t;t=x}}else{I=t;t=x}if(t===x){t=I;r=Id();if(r!==x){i=Fd();if(i===x){i=null}if(i!==x){r=[r,i];t=r}else{I=t;t=x}}else{I=t;t=x}}if(t!==x){C=e;t=zt(t)}e=t;R--;if(e===x){t=x;if(R===0){N(Jt)}}return e}function Fd(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,5)===Wt){t=Wt;I+=5}else{t=x;if(R===0){N(Xt)}}if(t===x){if(w.substr(I,5)===Kt){t=Kt;I+=5}else{t=x;if(R===0){N($t)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=Oy();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){C=e;t=Zt(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Vt)}}return e}function Id(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,6)===er){t=er;I+=6}else{t=x;if(R===0){N(tr)}}if(t===x){if(w.substr(I,6)===rr){t=rr;I+=6}else{t=x;if(R===0){N(ir)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=Oy();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){C=e;t=nr(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Yt)}}return e}function Cd(){var e,t,r,i,n,s,a,o,l;R++;e=I;if(w.substr(I,8)===ar){t=ar;I+=8}else{t=x;if(R===0){N(or)}}if(t!==x){r=[];i=O();while(i!==x){r.push(i);i=O()}if(r!==x){if(w.charCodeAt(I)===123){i=y;I++}else{i=x;if(R===0){N(g)}}if(i!==x){n=[];s=I;if(w.charCodeAt(I)===40){a=E;I++}else{a=x;if(R===0){N(A)}}if(a!==x){o=[];l=Rd();if(l!==x){while(l!==x){o.push(l);l=Rd()}}else{o=x}if(o!==x){if(w.charCodeAt(I)===41){l=j;I++}else{l=x;if(R===0){N(S)}}if(l!==x){a=[a,o,l];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}if(s===x){s=Xy()}while(s!==x){n.push(s);s=I;if(w.charCodeAt(I)===40){a=E;I++}else{a=x;if(R===0){N(A)}}if(a!==x){o=[];l=Rd();if(l!==x){while(l!==x){o.push(l);l=Rd()}}else{o=x}if(o!==x){if(w.charCodeAt(I)===41){l=j;I++}else{l=x;if(R===0){N(S)}}if(l!==x){a=[a,o,l];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}if(s===x){s=Xy()}}if(n!==x){if(w.charCodeAt(I)===125){s=b;I++}else{s=x;if(R===0){N(m)}}if(s!==x){t=[t,r,i,n,s];e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=null}R--;if(e===x){t=x;if(R===0){N(sr)}}return e}function Rd(){var e,t;R++;e=P();if(e===x){e=by();if(e===x){e=my();if(e===x){e=ky();if(e===x){if(w.substr(I,5)===ur){e=ur;I+=5}else{e=x;if(R===0){N(fr)}}}}}}R--;if(e===x){t=x;if(R===0){N(lr)}}return e}function Nd(){var e,t,r,i;R++;e=I;t=I;if(w.substr(I,6)===pr){r=pr;I+=6}else{r=x;if(R===0){N(hr)}}if(r===x){if(w.substr(I,6)===dr){r=dr;I+=6}else{r=x;if(R===0){N(vr)}}}if(r!==x){i=hv();if(i!==x){r=[r,i];t=r}else{I=t;t=x}}else{I=t;t=x}if(t===x){t=null}if(t!==x){C=e;t=yr(t)}e=t;R--;if(e===x){t=x;if(R===0){N(cr)}}return e}function Od(){var e,t;R++;e=Ld();R--;if(e===x){t=x;if(R===0){N(gr)}}return e}function Ld(){var e,t,r,i,n,s,a,o,l;R++;e=I;t=ld();if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=Dd();if(i!==x){n=I;s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.charCodeAt(I)===59){a=mr;I++}else{a=x;if(R===0){N(wr)}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=Ld();if(l===x){l=null}if(l!==x){s=[s,a,o,l];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}if(n===x){n=null}if(n!==x){C=e;t=xr(t,i,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(br)}}return e}function Dd(){var e,t;R++;e=Pd();if(e===x){e=Qd();if(e===x){e=Md();if(e===x){e=Bd();if(e===x){e=Ud();if(e===x){e=Gd();if(e===x){e=qd();if(e===x){e=Hd()}}}}}}}R--;if(e===x){t=x;if(R===0){N(_r)}}return e}function Pd(){var e,t,r,i,n,s,a,o,l;R++;e=I;if(w.substr(I,4)===Er){t=Er;I+=4}else{t=x;if(R===0){N(Ar)}}if(t===x){if(w.substr(I,4)===jr){t=jr;I+=4}else{t=x;if(R===0){N(Sr)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=P();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=I;if(w.substr(I,4)===Tr){a=Tr;I+=4}else{a=x;if(R===0){N(Fr)}}if(a===x){if(w.substr(I,4)===Ir){a=Ir;I+=4}else{a=x;if(R===0){N(Cr)}}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=Wd();if(l!==x){a=[a,o,l];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}if(s===x){s=null}if(s!==x){C=e;t=Rr(i,s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(kr)}}return e}function Qd(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,5)===Or){t=Or;I+=5}else{t=x;if(R===0){N(Lr)}}if(t===x){if(w.substr(I,5)===Dr){t=Dr;I+=5}else{t=x;if(R===0){N(Pr)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,6)===Qr){i=Qr;I+=6}else{i=x;if(R===0){N(Mr)}}if(i===x){if(w.substr(I,6)===Br){i=Br;I+=6}else{i=x;if(R===0){N(Ur)}}}if(i===x){i=null}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=Xd();if(s!==x){C=e;t=Gr(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Nr)}}return e}function Md(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,4)===Hr){t=Hr;I+=4}else{t=x;if(R===0){N(Jr)}}if(t===x){if(w.substr(I,4)===zr){t=zr;I+=4}else{t=x;if(R===0){N(Vr)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,6)===Qr){i=Qr;I+=6}else{i=x;if(R===0){N(Mr)}}if(i===x){if(w.substr(I,6)===Br){i=Br;I+=6}else{i=x;if(R===0){N(Ur)}}}if(i===x){i=null}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=Xd();if(s!==x){C=e;t=Wr(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(qr)}}return e}function Bd(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,6)===Kr){t=Kr;I+=6}else{t=x;if(R===0){N($r)}}if(t===x){if(w.substr(I,6)===Zr){t=Zr;I+=6}else{t=x;if(R===0){N(Yr)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,6)===Qr){i=Qr;I+=6}else{i=x;if(R===0){N(Mr)}}if(i===x){if(w.substr(I,6)===Br){i=Br;I+=6}else{i=x;if(R===0){N(Ur)}}}if(i===x){i=null}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=Wd();if(s!==x){C=e;t=ei(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Xr)}}return e}function Ud(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,6)===ri){t=ri;I+=6}else{t=x;if(R===0){N(ii)}}if(t===x){if(w.substr(I,6)===ni){t=ni;I+=6}else{t=x;if(R===0){N(si)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,4)===ai){i=ai;I+=4}else{i=x;if(R===0){N(oi)}}if(i===x){if(w.substr(I,4)===li){i=li;I+=4}else{i=x;if(R===0){N(ui)}}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=$d();if(s!==x){C=e;t=fi(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ti)}}return e}function Gd(){var e,t,r,i,n;R++;e=I;if(w.substr(I,6)===pi){t=pi;I+=6}else{t=x;if(R===0){N(hi)}}if(t===x){if(w.substr(I,6)===di){t=di;I+=6}else{t=x;if(R===0){N(vi)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,4)===ai){i=ai;I+=4}else{i=x;if(R===0){N(oi)}}if(i===x){if(w.substr(I,4)===li){i=li;I+=4}else{i=x;if(R===0){N(ui)}}}if(i!==x){n=$d();if(n!==x){C=e;t=yi(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ci)}}return e}function qd(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,6)===pi){t=pi;I+=6}else{t=x;if(R===0){N(hi)}}if(t===x){if(w.substr(I,6)===di){t=di;I+=6}else{t=x;if(R===0){N(vi)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,5)===Ie){i=Ie;I+=5}else{i=x;if(R===0){N(Ce)}}if(i===x){if(w.substr(I,5)===Re){i=Re;I+=5}else{i=x;if(R===0){N(Ne)}}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=d();if(s!==x){C=e;t=bi(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(gi)}}return e}function Hd(){var e,t,r,i,n,s,a,o,l,u,f,c;R++;e=I;t=I;if(w.substr(I,4)===wi){r=wi;I+=4}else{r=x;if(R===0){N(xi)}}if(r===x){if(w.substr(I,4)===_i){r=_i;I+=4}else{r=x;if(R===0){N(ki)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=P();if(n!==x){r=[r,i,n];t=r}else{I=t;t=x}}else{I=t;t=x}}else{I=t;t=x}if(t===x){t=null}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=I;n=Jd();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=zd();if(a===x){a=null}if(a!==x){n=[n,s,a];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=zd()}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=[];a=Vd();while(a!==x){s.push(a);a=Vd()}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.substr(I,5)===Ie){o=Ie;I+=5}else{o=x;if(R===0){N(Ce)}}if(o===x){if(w.substr(I,5)===Re){o=Re;I+=5}else{o=x;if(R===0){N(Ne)}}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=d();if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){C=e;t=Ei(t,i,s,u);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(mi)}}return e}function Jd(){var e,t,r;R++;e=I;if(w.substr(I,6)===pi){t=pi;I+=6}else{t=x;if(R===0){N(hi)}}if(t===x){if(w.substr(I,6)===di){t=di;I+=6}else{t=x;if(R===0){N(vi)}}}if(t!==x){r=Kd();if(r!==x){C=e;t=ji(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ai)}}return e}function zd(){var e,t,r;R++;e=I;if(w.substr(I,6)===ri){t=ri;I+=6}else{t=x;if(R===0){N(ii)}}if(t===x){if(w.substr(I,6)===ni){t=ni;I+=6}else{t=x;if(R===0){N(si)}}}if(t!==x){r=Kd();if(r!==x){C=e;t=ji(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Si)}}return e}function Vd(){var e,t,r,i,n,s,a,o;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,5)===Fi){r=Fi;I+=5}else{r=x;if(R===0){N(Ii)}}if(r===x){if(w.substr(I,5)===Ci){r=Ci;I+=5}else{r=x;if(R===0){N(Ri)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=P();if(n===x){n=I;if(w.substr(I,5)===Ye){s=Ye;I+=5}else{s=x;if(R===0){N(et)}}if(s===x){if(w.substr(I,5)===tt){s=tt;I+=5}else{s=x;if(R===0){N(rt)}}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=P();if(o!==x){s=[s,a,o];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}if(n!==x){C=e;t=Ni(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ti)}}return e}function Wd(){var e,t,r,i;R++;e=I;if(w.substr(I,5)===Li){t=Li;I+=5}else{t=x;if(R===0){N(Di)}}if(t===x){if(w.substr(I,5)===Pi){t=Pi;I+=5}else{t=x;if(R===0){N(Qi)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=P();if(i!==x){C=e;t=Mi(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Oi)}}return e}function Xd(){var e,t;R++;e=I;t=Wd();if(t!==x){C=e;t=at(t)}e=t;if(e===x){e=I;if(w.substr(I,7)===Ui){t=Ui;I+=7}else{t=x;if(R===0){N(Gi)}}if(t===x){if(w.substr(I,7)===qi){t=qi;I+=7}else{t=x;if(R===0){N(Hi)}}}if(t!==x){C=e;t=Ji()}e=t;if(e===x){e=I;if(w.substr(I,5)===Ye){t=Ye;I+=5}else{t=x;if(R===0){N(et)}}if(t===x){if(w.substr(I,5)===tt){t=tt;I+=5}else{t=x;if(R===0){N(rt)}}}if(t!==x){C=e;t=zi()}e=t;if(e===x){e=I;if(w.substr(I,3)===Vi){t=Vi;I+=3}else{t=x;if(R===0){N(Wi)}}if(t===x){if(w.substr(I,3)===Xi){t=Xi;I+=3}else{t=x;if(R===0){N(Ki)}}}if(t!==x){C=e;t=$i()}e=t}}}R--;if(e===x){t=x;if(R===0){N(Bi)}}return e}function Kd(){var e,t,r,i,n,s,a,o,l;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.charCodeAt(I)===123){r=y;I++}else{r=x;if(R===0){N(g)}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Zd();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.charCodeAt(I)===125){a=b;I++}else{a=x;if(R===0){N(m)}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){C=e;t=Yi(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Zi)}}return e}function $d(){var e,t,r,i,n,s,a,o,l;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.charCodeAt(I)===123){r=y;I++}else{r=x;if(R===0){N(g)}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Zd();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.charCodeAt(I)===125){a=b;I++}else{a=x;if(R===0){N(m)}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){C=e;t=Yi(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(en)}}return e}function Zd(){var e,t,r,i,n,s,a;R++;e=I;t=ev();if(t===x){t=null}if(t!==x){r=[];i=I;n=Yd();if(n!==x){if(w.charCodeAt(I)===46){s=f;I++}else{s=x;if(R===0){N(c)}}if(s===x){s=null}if(s!==x){a=ev();if(a===x){a=null}if(a!==x){n=[n,s,a];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}while(i!==x){r.push(i);i=I;n=Yd();if(n!==x){if(w.charCodeAt(I)===46){s=f;I++}else{s=x;if(R===0){N(c)}}if(s===x){s=null}if(s!==x){a=ev();if(a===x){a=null}if(a!==x){n=[n,s,a];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}if(r!==x){C=e;t=rn(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(tn)}}return e}function Yd(){var e,t,r,i,n,s,a,o,l,u,f,c,p;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,5)===Li){r=Li;I+=5}else{r=x;if(R===0){N(Di)}}if(r===x){if(w.substr(I,5)===Pi){r=Pi;I+=5}else{r=x;if(R===0){N(Qi)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=ty();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.charCodeAt(I)===123){a=y;I++}else{a=x;if(R===0){N(g)}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=ev();if(l===x){l=null}if(l!==x){u=[];f=Q();while(f!==x){u.push(f);f=Q()}if(u!==x){if(w.charCodeAt(I)===125){f=b;I++}else{f=x;if(R===0){N(m)}}if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){C=e;t=sn(n,l);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(nn)}}return e}function ev(){var e,t,r,i,n,s,a;R++;e=I;t=_v();if(t!==x){r=I;i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.charCodeAt(I)===46){n=f;I++}else{n=x;if(R===0){N(c)}}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=ev();if(a===x){a=null}if(a!==x){i=[i,n,s,a];r=i}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}if(r===x){r=null}if(r!==x){C=e;t=on(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(an)}}return e}function d(){var e,t,r,i,n,s;R++;e=I;if(w.charCodeAt(I)===123){t=y;I++}else{t=x;if(R===0){N(g)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=pd();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===125){s=b;I++}else{s=x;if(R===0){N(m)}}if(s!==x){C=e;t=un(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.charCodeAt(I)===123){t=y;I++}else{t=x;if(R===0){N(g)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=tv();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===125){s=b;I++}else{s=x;if(R===0){N(m)}}if(s!==x){C=e;t=un(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(ln)}}return e}function tv(){var e,t,r,i,n,s,a,o,l,u;R++;e=I;t=rv();if(t===x){t=null}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=[];n=I;s=iv();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===46){o=f;I++}else{o=x;if(R===0){N(c)}}if(o===x){o=null}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=rv();if(u===x){u=null}if(u!==x){s=[s,a,o,l,u];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}while(n!==x){i.push(n);n=I;s=iv();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===46){o=f;I++}else{o=x;if(R===0){N(c)}}if(o===x){o=null}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=rv();if(u===x){u=null}if(u!==x){s=[s,a,o,l,u];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}if(i!==x){C=e;t=cn(t,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(fn)}}return e}function rv(){var e,t,r,i,n,s;R++;e=I;t=Cv();if(t!==x){r=I;i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.charCodeAt(I)===46){n=f;I++}else{n=x;if(R===0){N(c)}}if(n!==x){s=rv();if(s===x){s=null}if(s!==x){i=[i,n,s];r=i}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}if(r===x){r=null}if(r!==x){C=e;t=hn(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(pn)}}return e}function iv(){var e,t;R++;e=lv();if(e===x){e=nv();if(e===x){e=ov();if(e===x){e=sv();if(e===x){e=av();if(e===x){e=uv();if(e===x){e=fv();if(e===x){e=pv()}}}}}}}R--;if(e===x){t=x;if(R===0){N(dn)}}return e}function nv(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,8)===yn){r=yn;I+=8}else{r=x;if(R===0){N(gn)}}if(r===x){if(w.substr(I,8)===bn){r=bn;I+=8}else{r=x;if(R===0){N(mn)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=d();if(n!==x){C=e;t=wn(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(vn)}}return e}function sv(){var e,t,r,i,n,s,a;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,5)===Li){r=Li;I+=5}else{r=x;if(R===0){N(Di)}}if(r===x){if(w.substr(I,5)===Pi){r=Pi;I+=5}else{r=x;if(R===0){N(Qi)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=ty();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=d();if(a!==x){C=e;t=_n(n,a);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(xn)}}return e}function av(){var e,t,r,i;R++;e=I;if(w.substr(I,7)===En){t=En;I+=7}else{t=x;if(R===0){N(An)}}if(t!==x){r=ty();if(r!==x){i=d();if(i!==x){C=e;t=jn(r,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(kn)}}return e}function ov(){var e,t,r,i;R++;e=I;if(w.substr(I,5)===Tn){t=Tn;I+=5}else{t=x;if(R===0){N(Fn)}}if(t===x){if(w.substr(I,5)===In){t=In;I+=5}else{t=x;if(R===0){N(Cn)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=d();if(i!==x){C=e;t=Rn(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Sn)}}return e}function lv(){var e,t,r,i,n,s,a,o;R++;e=I;t=d();if(t!==x){r=[];i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,5)===On){s=On;I+=5}else{s=x;if(R===0){N(Ln)}}if(s===x){if(w.substr(I,5)===Dn){s=Dn;I+=5}else{s=x;if(R===0){N(Pn)}}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=d();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}while(i!==x){r.push(i);i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,5)===On){s=On;I+=5}else{s=x;if(R===0){N(Ln)}}if(s===x){if(w.substr(I,5)===Dn){s=Dn;I+=5}else{s=x;if(R===0){N(Pn)}}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=d();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}if(r!==x){C=e;t=Qn(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Nn)}}return e}function uv(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,6)===Bn){r=Bn;I+=6}else{r=x;if(R===0){N(Un)}}if(r===x){if(w.substr(I,6)===Gn){r=Gn;I+=6}else{r=x;if(R===0){N(qn)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=cv();if(n!==x){C=e;t=Hn(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Mn)}}return e}function fv(){var e,t,r,i,n,s,a,o,l,u,f,c,p;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,4)===zn){r=zn;I+=4}else{r=x;if(R===0){N(Vn)}}if(r===x){if(w.substr(I,4)===Wn){r=Wn;I+=4}else{r=x;if(R===0){N(Xn)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.charCodeAt(I)===40){n=E;I++}else{n=x;if(R===0){N(A)}}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=L();if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){if(w.substr(I,2)===me){l=me;I+=2}else{l=x;if(R===0){N(we)}}if(l===x){if(w.substr(I,2)===ge){l=ge;I+=2}else{l=x;if(R===0){N(be)}}}if(l!==x){u=[];f=Q();while(f!==x){u.push(f);f=Q()}if(u!==x){f=O();if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){if(w.charCodeAt(I)===41){p=j;I++}else{p=x;if(R===0){N(S)}}if(p!==x){C=e;t=Kn(a,f);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Jn)}}return e}function cv(){var e,t;R++;e=cy();if(e===x){e=py();if(e===x){e=gv()}}R--;if(e===x){t=x;if(R===0){N($n)}}return e}function pv(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.substr(I,6)===pr){r=pr;I+=6}else{r=x;if(R===0){N(hr)}}if(r===x){if(w.substr(I,6)===dr){r=dr;I+=6}else{r=x;if(R===0){N(vr)}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=hv();if(n!==x){C=e;t=Yn(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Zn)}}return e}function hv(){var e,t;R++;e=dv();if(e===x){e=vv()}R--;if(e===x){t=x;if(R===0){N(es)}}return e}function dv(){var e,t,r,i,n,s,a,o;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=O();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.charCodeAt(I)===123){n=y;I++}else{n=x;if(R===0){N(g)}}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=[];o=yv();while(o!==x){a.push(o);o=yv()}if(a!==x){if(w.charCodeAt(I)===125){o=b;I++}else{o=x;if(R===0){N(m)}}if(o!==x){C=e;t=rs(r,a);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ts)}}return e}function vv(){var e,t,r,i,n,s,a,o,l,u,f,c,p,h,d,v;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=Xy();if(r===x){r=I;if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=[];a=O();while(a!==x){s.push(a);a=O()}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){i=[i,n,s,a,o];r=i}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.charCodeAt(I)===123){n=y;I++}else{n=x;if(R===0){N(g)}}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=[];o=I;l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===40){u=E;I++}else{u=x;if(R===0){N(A)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){c=[];p=yv();while(p!==x){c.push(p);p=yv()}if(c!==x){p=[];h=Q();while(h!==x){p.push(h);h=Q()}if(p!==x){if(w.charCodeAt(I)===41){h=j;I++}else{h=x;if(R===0){N(S)}}if(h!==x){d=[];v=Q();while(v!==x){d.push(v);v=Q()}if(d!==x){l=[l,u,f,c,p,h,d];o=l}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}if(o===x){o=Xy()}while(o!==x){a.push(o);o=I;l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===40){u=E;I++}else{u=x;if(R===0){N(A)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){c=[];p=yv();while(p!==x){c.push(p);p=yv()}if(c!==x){p=[];h=Q();while(h!==x){p.push(h);h=Q()}if(p!==x){if(w.charCodeAt(I)===41){h=j;I++}else{h=x;if(R===0){N(S)}}if(h!==x){d=[];v=Q();while(v!==x){d.push(v);v=Q()}if(d!==x){l=[l,u,f,c,p,h,d];o=l}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}}else{I=o;o=x}if(o===x){o=Xy()}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){if(w.charCodeAt(I)===125){l=b;I++}else{l=x;if(R===0){N(m)}}if(l!==x){C=e;t=ns(r,a);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(is)}}return e}function yv(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=Sy();if(r===x){r=by();if(r===x){r=my();if(r===x){r=ky();if(r===x){if(w.substr(I,5)===ur){r=ur;I+=5}else{r=x;if(R===0){N(fr)}}}}}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){C=e;t=kt(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ss)}}return e}function gv(){var e,t,r,i;R++;e=I;t=P();if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=bv();if(i!==x){C=e;t=os(t,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(as)}}return e}function bv(){var e,t,r,i,n,s,a,o,l,u,f,c;R++;e=I;t=Xy();if(t!==x){C=e;t=us()}e=t;if(e===x){e=I;if(w.charCodeAt(I)===40){t=E;I++}else{t=x;if(R===0){N(A)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,8)===_){i=_;I+=8}else{i=x;if(R===0){N(ce)}}if(i===x){if(w.substr(I,8)===k){i=k;I+=8}else{i=x;if(R===0){N(pe)}}}if(i===x){i=null}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=[];l=I;if(w.charCodeAt(I)===44){u=T;I++}else{u=x;if(R===0){N(F)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){c=L();if(c!==x){u=[u,f,c];l=u}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}while(l!==x){o.push(l);l=I;if(w.charCodeAt(I)===44){u=T;I++}else{u=x;if(R===0){N(F)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){c=L();if(c!==x){u=[u,f,c];l=u}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}}if(o!==x){if(w.charCodeAt(I)===41){l=j;I++}else{l=x;if(R===0){N(S)}}if(l!==x){C=e;t=fs(i,s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(ls)}}return e}function mv(){var e,t,r,i,n,s,a,o,l,u;R++;e=I;t=Xy();if(t!==x){C=e;t=us()}e=t;if(e===x){e=I;if(w.charCodeAt(I)===40){t=E;I++}else{t=x;if(R===0){N(A)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=P();if(i===x){i=L()}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=[];a=I;if(w.charCodeAt(I)===44){o=T;I++}else{o=x;if(R===0){N(F)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=P();if(u===x){u=L()}if(u!==x){o=[o,l,u];a=o}else{I=a;a=x}}else{I=a;a=x}}else{I=a;a=x}while(a!==x){s.push(a);a=I;if(w.charCodeAt(I)===44){o=T;I++}else{o=x;if(R===0){N(F)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=P();if(u===x){u=L()}if(u!==x){o=[o,l,u];a=o}else{I=a;a=x}}else{I=a;a=x}}else{I=a;a=x}}if(s!==x){if(w.charCodeAt(I)===41){a=j;I++}else{a=x;if(R===0){N(S)}}if(a!==x){C=e;t=ps(i,s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(cs)}}return e}function wv(){var e,t,r,i,n,s;R++;e=I;if(w.charCodeAt(I)===123){t=y;I++}else{t=x;if(R===0){N(g)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=xv();if(i===x){i=null}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===125){s=b;I++}else{s=x;if(R===0){N(m)}}if(s!==x){C=e;t=ds(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(hs)}}return e}function xv(){var e,t,r,i,n,s,a;R++;e=I;t=_v();if(t!==x){r=I;i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.charCodeAt(I)===46){n=f;I++}else{n=x;if(R===0){N(c)}}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=xv();if(a===x){a=null}if(a!==x){i=[i,n,s,a];r=i}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}if(r===x){r=null}if(r!==x){C=e;t=ys(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(vs)}}return e}function _v(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=ey();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Ev();if(n!==x){C=e;t=bs(r,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=Vv();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Av();if(n!==x){C=e;t=ms(r,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(gs)}}return e}function kv(){var e,t,r,i,n,s,a,o,l,u,f,c,p;R++;e=I;t=Ov();if(t===x){t=Lv()}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=jv();if(i!==x){n=[];s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===59){o=mr;I++}else{o=x;if(R===0){N(wr)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=I;f=Ov();if(f===x){f=Lv()}if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){p=Sv();if(p!==x){f=[f,c,p];u=f}else{I=u;u=x}}else{I=u;u=x}}else{I=u;u=x}if(u===x){u=null}if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}while(s!==x){n.push(s);s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===59){o=mr;I++}else{o=x;if(R===0){N(wr)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=I;f=Ov();if(f===x){f=Lv()}if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){p=Sv();if(p!==x){f=[f,c,p];u=f}else{I=u;u=x}}else{I=u;u=x}}else{I=u;u=x}if(u===x){u=null}if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}if(n!==x){C=e;t=xs(t,i,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ws)}}return e}function Ev(){var e,t,r,i,n,s,a,o,l,u,f,c,p;R++;e=I;t=Iv();if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=Sv();if(i!==x){n=[];s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===59){o=mr;I++}else{o=x;if(R===0){N(wr)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=I;f=Iv();if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){p=Sv();if(p!==x){f=[f,c,p];u=f}else{I=u;u=x}}else{I=u;u=x}}else{I=u;u=x}if(u===x){u=null}if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}while(s!==x){n.push(s);s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===59){o=mr;I++}else{o=x;if(R===0){N(wr)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=I;f=Iv();if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){p=Sv();if(p!==x){f=[f,c,p];u=f}else{I=u;u=x}}else{I=u;u=x}}else{I=u;u=x}if(u===x){u=null}if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}if(n!==x){C=e;t=ks(t,i,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(_s)}}return e}function Av(){var e,t;R++;e=Ev();if(e===x){e=null}R--;if(e===x){t=x;if(R===0){N(Es)}}return e}function jv(){var e,t,r,i,n,s,a,o;R++;e=I;t=Tv();if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=[];n=I;if(w.charCodeAt(I)===44){s=T;I++}else{s=x;if(R===0){N(F)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=Tv();if(o!==x){s=[s,a,o];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}while(n!==x){i.push(n);n=I;if(w.charCodeAt(I)===44){s=T;I++}else{s=x;if(R===0){N(F)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=Tv();if(o!==x){s=[s,a,o];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}if(i!==x){C=e;t=js(t,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(As)}}return e}function Sv(){var e,t,r,i,n,s,a,o;R++;e=I;t=Fv();if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=[];n=I;if(w.charCodeAt(I)===44){s=T;I++}else{s=x;if(R===0){N(F)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=Fv();if(o!==x){s=[s,a,o];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}while(n!==x){i.push(n);n=I;if(w.charCodeAt(I)===44){s=T;I++}else{s=x;if(R===0){N(F)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=Fv();if(o!==x){s=[s,a,o];n=s}else{I=n;n=x}}else{I=n;n=x}}else{I=n;n=x}}if(i!==x){C=e;t=Ts(t,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ss)}}return e}function Tv(){var e,t;R++;e=Zv();R--;if(e===x){t=x;if(R===0){N(Fs)}}return e}function Fv(){var e,t;R++;e=Yv();R--;if(e===x){t=x;if(R===0){N(Is)}}return e}function Iv(){var e,t;R++;e=ty();if(e===x){e=I;if(w.charCodeAt(I)===97){t=Rs;I++}else{t=x;if(R===0){N(Ns)}}if(t!==x){C=e;t=Os()}e=t}R--;if(e===x){t=x;if(R===0){N(Cs)}}return e}function Cv(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=ey();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Rv();if(n!==x){C=e;t=Ds(r,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=zv();if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Nv();if(n!==x){C=e;t=Ps(r,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(Ls)}}return e}function Rv(){var e,t,r,i,n,s,a,o,l,u,f,c;R++;e=I;t=Ov();if(t===x){t=Lv()}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=jv();if(i!==x){n=[];s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===59){o=mr;I++}else{o=x;if(R===0){N(wr)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=I;f=Ov();if(f===x){f=Lv()}if(f!==x){c=Sv();if(c!==x){f=[f,c];u=f}else{I=u;u=x}}else{I=u;u=x}if(u===x){u=null}if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}while(s!==x){n.push(s);s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===59){o=mr;I++}else{o=x;if(R===0){N(wr)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=I;f=Ov();if(f===x){f=Lv()}if(f!==x){c=Sv();if(c!==x){f=[f,c];u=f}else{I=u;u=x}}else{I=u;u=x}if(u===x){u=null}if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}if(n!==x){C=e;t=Ms(t,i,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Qs)}}return e}function Nv(){var e,t;R++;e=kv();if(e===x){e=null}R--;if(e===x){t=x;if(R===0){N(Bs)}}return e}function Ov(){var e,t;R++;e=I;t=Dv();if(t!==x){C=e;t=Gs(t)}e=t;R--;if(e===x){t=x;if(R===0){N(Us)}}return e}function Lv(){var e,t;R++;e=O();R--;if(e===x){t=x;if(R===0){N(qs)}}return e}function Dv(){var e,t;R++;e=Pv();R--;if(e===x){t=x;if(R===0){N(Hs)}}return e}function Pv(){var e,t,r,i,n,s;R++;e=I;t=Qv();if(t!==x){r=[];i=I;if(w.charCodeAt(I)===124){n=zs;I++}else{n=x;if(R===0){N(Vs)}}if(n!==x){s=Qv();if(s!==x){n=[n,s];i=n}else{I=i;i=x}}else{I=i;i=x}while(i!==x){r.push(i);i=I;if(w.charCodeAt(I)===124){n=zs;I++}else{n=x;if(R===0){N(Vs)}}if(n!==x){s=Qv();if(s!==x){n=[n,s];i=n}else{I=i;i=x}}else{I=i;i=x}}if(r!==x){C=e;t=Ws(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Js)}}return e}function Qv(){var e,t,r,i,n,s;R++;e=I;t=Bv();if(t!==x){r=[];i=I;if(w.charCodeAt(I)===47){n=Ks;I++}else{n=x;if(R===0){N($s)}}if(n!==x){s=Bv();if(s!==x){n=[n,s];i=n}else{I=i;i=x}}else{I=i;i=x}while(i!==x){r.push(i);i=I;if(w.charCodeAt(I)===47){n=Ks;I++}else{n=x;if(R===0){N($s)}}if(n!==x){s=Bv();if(s!==x){n=[n,s];i=n}else{I=i;i=x}}else{I=i;i=x}}if(r!==x){C=e;t=Zs(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Xs)}}return e}function Mv(){var e,t,r;R++;e=I;t=Gv();if(t!==x){r=Uv();if(r===x){r=null}if(r!==x){C=e;t=ea(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ys)}}return e}function Bv(){var e,t,r;R++;e=Mv();if(e===x){e=I;if(w.charCodeAt(I)===94){t=ra;I++}else{t=x;if(R===0){N(ia)}}if(t!==x){r=Mv();if(r!==x){C=e;t=na(r);e=t}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(ta)}}return e}function Uv(){var e,t,r,i,n,s,a,o,l;R++;if(w.charCodeAt(I)===42){e=xe;I++}else{e=x;if(R===0){N(_e)}}if(e===x){if(w.charCodeAt(I)===63){e=aa;I++}else{e=x;if(R===0){N(oa)}}if(e===x){if(w.charCodeAt(I)===43){e=la;I++}else{e=x;if(R===0){N(ua)}}if(e===x){e=I;if(w.charCodeAt(I)===123){t=y;I++}else{t=x;if(R===0){N(g)}}if(t!==x){r=I;i=Jv();if(i!==x){n=I;if(w.charCodeAt(I)===44){s=T;I++}else{s=x;if(R===0){N(F)}}if(s!==x){if(w.charCodeAt(I)===125){a=b;I++}else{a=x;if(R===0){N(m)}}if(a===x){a=I;o=Jv();if(o!==x){if(w.charCodeAt(I)===125){l=b;I++}else{l=x;if(R===0){N(m)}}if(l!==x){o=[o,l];a=o}else{I=a;a=x}}else{I=a;a=x}}if(a!==x){s=[s,a];n=s}else{I=n;n=x}}else{I=n;n=x}if(n===x){if(w.charCodeAt(I)===125){n=b;I++}else{n=x;if(R===0){N(m)}}}if(n!==x){i=[i,n];r=i}else{I=r;r=x}}else{I=r;r=x}if(r===x){r=I;if(w.charCodeAt(I)===44){i=T;I++}else{i=x;if(R===0){N(F)}}if(i!==x){n=Jv();if(n!==x){if(w.charCodeAt(I)===125){s=b;I++}else{s=x;if(R===0){N(m)}}if(s!==x){i=[i,n,s];r=i}else{I=r;r=x}}else{I=r;r=x}}else{I=r;r=x}}if(r!==x){t=[t,r];e=t}else{I=e;e=x}}else{I=e;e=x}}}}R--;if(e===x){t=x;if(R===0){N(sa)}}return e}function Gv(){var e,t,r,i;R++;e=P();if(e===x){e=I;if(w.charCodeAt(I)===97){t=Rs;I++}else{t=x;if(R===0){N(Ns)}}if(t!==x){C=e;t=Os()}e=t;if(e===x){e=I;if(w.charCodeAt(I)===33){t=ca;I++}else{t=x;if(R===0){N(pa)}}if(t!==x){r=qv();if(r!==x){t=[t,r];e=t}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.charCodeAt(I)===40){t=E;I++}else{t=x;if(R===0){N(A)}}if(t!==x){r=Dv();if(r!==x){if(w.charCodeAt(I)===41){i=j;I++}else{i=x;if(R===0){N(S)}}if(i!==x){C=e;t=un(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}}}R--;if(e===x){t=x;if(R===0){N(fa)}}return e}function qv(){var e,t,r,i,n,s,a,o;e=Hv();if(e===x){e=I;if(w.charCodeAt(I)===40){t=E;I++}else{t=x;if(R===0){N(A)}}if(t!==x){r=I;i=Hv();if(i!==x){n=[];s=I;if(w.charCodeAt(I)===124){a=zs;I++}else{a=x;if(R===0){N(Vs)}}if(a!==x){o=Hv();if(o!==x){a=[a,o];s=a}else{I=s;s=x}}else{I=s;s=x}while(s!==x){n.push(s);s=I;if(w.charCodeAt(I)===124){a=zs;I++}else{a=x;if(R===0){N(Vs)}}if(a!==x){o=Hv();if(o!==x){a=[a,o];s=a}else{I=s;s=x}}else{I=s;s=x}}if(n!==x){i=[i,n];r=i}else{I=r;r=x}}else{I=r;r=x}if(r===x){r=null}if(r!==x){if(w.charCodeAt(I)===41){i=j;I++}else{i=x;if(R===0){N(S)}}if(i!==x){t=[t,r,i];e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}return e}function Hv(){var e,t,r;R++;e=P();if(e===x){if(w.charCodeAt(I)===97){e=Rs;I++}else{e=x;if(R===0){N(Ns)}}if(e===x){e=I;if(w.charCodeAt(I)===94){t=ra;I++}else{t=x;if(R===0){N(ia)}}if(t!==x){r=P();if(r===x){if(w.charCodeAt(I)===97){r=Rs;I++}else{r=x;if(R===0){N(Ns)}}}if(r!==x){t=[t,r];e=t}else{I=e;e=x}}else{I=e;e=x}}}R--;if(e===x){t=x;if(R===0){N(ha)}}return e}function Jv(){var e,t;R++;e=Oy();R--;if(e===x){t=x;if(R===0){N(da)}}return e}function zv(){var e,t;R++;e=I;t=Kv();if(t!==x){C=e;t=ya(t)}e=t;if(e===x){e=Wv()}R--;if(e===x){t=x;if(R===0){N(va)}}return e}function Vv(){var e,t;R++;e=I;t=$v();if(t!==x){C=e;t=ba(t)}e=t;if(e===x){e=Xv()}R--;if(e===x){t=x;if(R===0){N(ga)}}return e}function Wv(){var e,t,r,i,n,s,a,o;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.charCodeAt(I)===91){r=wa;I++}else{r=x;if(R===0){N(xa)}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Rv();if(n!==x){if(w.charCodeAt(I)===93){s=_a;I++}else{s=x;if(R===0){N(ka)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){C=e;t=Ea(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ma)}}return e}function Xv(){var e,t,r,i,n,s,a,o,l;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.charCodeAt(I)===91){r=wa;I++}else{r=x;if(R===0){N(xa)}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=Ev();if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.charCodeAt(I)===93){a=_a;I++}else{a=x;if(R===0){N(ka)}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){C=e;t=ja(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Aa)}}return e}function Kv(){var e,t,r,i,n,s,a,o,l;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.charCodeAt(I)===40){r=E;I++}else{r=x;if(R===0){N(A)}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=[];s=Zv();if(s!==x){while(s!==x){n.push(s);s=Zv()}}else{n=x}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.charCodeAt(I)===41){a=j;I++}else{a=x;if(R===0){N(S)}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){C=e;t=Ta(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Sa)}}return e}function $v(){var e,t,r,i,n,s,a,o,l;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){if(w.charCodeAt(I)===40){r=E;I++}else{r=x;if(R===0){N(A)}}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){n=[];s=Yv();if(s!==x){while(s!==x){n.push(s);s=Yv()}}else{n=x}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){if(w.charCodeAt(I)===41){a=j;I++}else{a=x;if(R===0){N(S)}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){C=e;t=Ta(n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Fa)}}return e}function Zv(){var e,t,r,i,n,s;R++;e=I;t=I;r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=ey();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){r=[r,i,n];t=r}else{I=t;t=x}}else{I=t;t=x}}else{I=t;t=x}if(t===x){t=I;r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=zv();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){r=[r,i,n];t=r}else{I=t;t=x}}else{I=t;t=x}}else{I=t;t=x}}if(t!==x){C=e;t=Ca(t)}e=t;R--;if(e===x){t=x;if(R===0){N(Ia)}}return e}function Yv(){var e,t,r,i,n,s;R++;e=I;t=I;r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=ey();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){r=[r,i,n];t=r}else{I=t;t=x}}else{I=t;t=x}}else{I=t;t=x}if(t===x){t=I;r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=Vv();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){r=[r,i,n];t=r}else{I=t;t=x}}else{I=t;t=x}}else{I=t;t=x}}if(t!==x){C=e;t=Ca(t)}e=t;R--;if(e===x){t=x;if(R===0){N(Ra)}}return e}function ey(){var e,t;R++;e=O();if(e===x){e=ry()}R--;if(e===x){t=x;if(R===0){N(Na)}}return e}function ty(){var e,t;R++;e=O();if(e===x){e=P()}R--;if(e===x){t=x;if(R===0){N(Oa)}}return e}function O(){var e,t,r,i,n;R++;e=I;t=[];r=Q();while(r!==x){t.push(r);r=Q()}if(t!==x){r=Cy();if(r===x){r=Ry()}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){C=e;t=Da(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(La)}}return e}function ry(){var e,t;R++;e=P();if(e===x){e=by();if(e===x){e=my();if(e===x){e=ky();if(e===x){e=jy();if(e===x){e=Xy()}}}}}R--;if(e===x){t=x;if(R===0){N(Pa)}}return e}function L(){var e,t;R++;e=iy();R--;if(e===x){t=x;if(R===0){N(Qa)}}return e}function iy(){var e,t,r,i,n,s,a,o;R++;e=I;t=ny();if(t!==x){r=[];i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===Ba){s=Ba;I+=2}else{s=x;if(R===0){N(Ua)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=ny();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}while(i!==x){r.push(i);i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===Ba){s=Ba;I+=2}else{s=x;if(R===0){N(Ua)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=ny();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}if(r!==x){C=e;t=Ga(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ma)}}return e}function ny(){var e,t,r,i,n,s,a,o;R++;e=I;t=sy();if(t!==x){r=[];i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===Ha){s=Ha;I+=2}else{s=x;if(R===0){N(Ja)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=sy();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}while(i!==x){r.push(i);i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===Ha){s=Ha;I+=2}else{s=x;if(R===0){N(Ja)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=sy();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}if(r!==x){C=e;t=za(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(qa)}}return e}function sy(){var e,t;R++;e=ay();R--;if(e===x){t=x;if(R===0){N(Va)}}return e}function ay(){var e,t,r,i,n,s,a,o,l,u,f,c,p;R++;e=I;t=D();if(t!==x){r=[];i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===61){s=Xa;I++}else{s=x;if(R===0){N(Ka)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===$a){s=$a;I+=2}else{s=x;if(R===0){N(Za)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===60){s=Ya;I++}else{s=x;if(R===0){N(eo)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===62){s=to;I++}else{s=x;if(R===0){N(ro)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===io){s=io;I+=2}else{s=x;if(R===0){N(no)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===so){s=so;I+=2}else{s=x;if(R===0){N(ao)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===73){s=oo;I++}else{s=x;if(R===0){N(lo)}}if(s===x){if(w.charCodeAt(I)===105){s=uo;I++}else{s=x;if(R===0){N(fo)}}}if(s!==x){if(w.charCodeAt(I)===78){a=co;I++}else{a=x;if(R===0){N(po)}}if(a===x){if(w.charCodeAt(I)===110){a=ho;I++}else{a=x;if(R===0){N(vo)}}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=mv();if(l!==x){n=[n,s,a,o,l];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===78){s=co;I++}else{s=x;if(R===0){N(po)}}if(s===x){if(w.charCodeAt(I)===110){s=ho;I++}else{s=x;if(R===0){N(vo)}}}if(s!==x){if(w.charCodeAt(I)===79){a=yo;I++}else{a=x;if(R===0){N(go)}}if(a===x){if(w.charCodeAt(I)===111){a=bo;I++}else{a=x;if(R===0){N(mo)}}}if(a!==x){if(w.charCodeAt(I)===84){o=wo;I++}else{o=x;if(R===0){N(xo)}}if(o===x){if(w.charCodeAt(I)===116){o=_o;I++}else{o=x;if(R===0){N(ko)}}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===73){u=oo;I++}else{u=x;if(R===0){N(lo)}}if(u===x){if(w.charCodeAt(I)===105){u=uo;I++}else{u=x;if(R===0){N(fo)}}}if(u!==x){if(w.charCodeAt(I)===78){f=co;I++}else{f=x;if(R===0){N(po)}}if(f===x){if(w.charCodeAt(I)===110){f=ho;I++}else{f=x;if(R===0){N(vo)}}}if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){p=mv();if(p!==x){n=[n,s,a,o,l,u,f,c,p];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}}}}}}}while(i!==x){r.push(i);i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===61){s=Xa;I++}else{s=x;if(R===0){N(Ka)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===$a){s=$a;I+=2}else{s=x;if(R===0){N(Za)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===60){s=Ya;I++}else{s=x;if(R===0){N(eo)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===62){s=to;I++}else{s=x;if(R===0){N(ro)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===io){s=io;I+=2}else{s=x;if(R===0){N(no)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,2)===so){s=so;I+=2}else{s=x;if(R===0){N(ao)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=D();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===73){s=oo;I++}else{s=x;if(R===0){N(lo)}}if(s===x){if(w.charCodeAt(I)===105){s=uo;I++}else{s=x;if(R===0){N(fo)}}}if(s!==x){if(w.charCodeAt(I)===78){a=co;I++}else{a=x;if(R===0){N(po)}}if(a===x){if(w.charCodeAt(I)===110){a=ho;I++}else{a=x;if(R===0){N(vo)}}}if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=mv();if(l!==x){n=[n,s,a,o,l];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===78){s=co;I++}else{s=x;if(R===0){N(po)}}if(s===x){if(w.charCodeAt(I)===110){s=ho;I++}else{s=x;if(R===0){N(vo)}}}if(s!==x){if(w.charCodeAt(I)===79){a=yo;I++}else{a=x;if(R===0){N(go)}}if(a===x){if(w.charCodeAt(I)===111){a=bo;I++}else{a=x;if(R===0){N(mo)}}}if(a!==x){if(w.charCodeAt(I)===84){o=wo;I++}else{o=x;if(R===0){N(xo)}}if(o===x){if(w.charCodeAt(I)===116){o=_o;I++}else{o=x;if(R===0){N(ko)}}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===73){u=oo;I++}else{u=x;if(R===0){N(lo)}}if(u===x){if(w.charCodeAt(I)===105){u=uo;I++}else{u=x;if(R===0){N(fo)}}}if(u!==x){if(w.charCodeAt(I)===78){f=co;I++}else{f=x;if(R===0){N(po)}}if(f===x){if(w.charCodeAt(I)===110){f=ho;I++}else{f=x;if(R===0){N(vo)}}}if(f!==x){c=[];p=Q();while(p!==x){c.push(p);p=Q()}if(c!==x){p=mv();if(p!==x){n=[n,s,a,o,l,u,f,c,p];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}}}}}}}}if(r!==x){C=e;t=Eo(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Wa)}}return e}function D(){var e,t;R++;e=oy();R--;if(e===x){t=x;if(R===0){N(Ao)}}return e}function oy(){var e,t,r,i,n,s,a,o,l,u;R++;e=I;t=ly();if(t!==x){r=[];i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===43){s=la;I++}else{s=x;if(R===0){N(ua)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=ly();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===45){s=p;I++}else{s=x;if(R===0){N(h)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=ly();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=_y();if(n===x){n=_y()}if(n!==x){s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===42){o=xe;I++}else{o=x;if(R===0){N(_e)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=uy();if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}if(s===x){s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===47){o=Ks;I++}else{o=x;if(R===0){N($s)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=uy();if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}if(s===x){s=null}if(s!==x){n=[n,s];i=n}else{I=i;i=x}}else{I=i;i=x}}}while(i!==x){r.push(i);i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===43){s=la;I++}else{s=x;if(R===0){N(ua)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=ly();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===45){s=p;I++}else{s=x;if(R===0){N(h)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=ly();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=_y();if(n===x){n=_y()}if(n!==x){s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===42){o=xe;I++}else{o=x;if(R===0){N(_e)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=uy();if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}if(s===x){s=I;a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===47){o=Ks;I++}else{o=x;if(R===0){N($s)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=uy();if(u!==x){a=[a,o,l,u];s=a}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}else{I=s;s=x}}if(s===x){s=null}if(s!==x){n=[n,s];i=n}else{I=i;i=x}}else{I=i;i=x}}}}if(r!==x){C=e;t=So(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(jo)}}return e}function ly(){var e,t,r,i,n,s,a,o;R++;e=I;t=uy();if(t!==x){r=[];i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===42){s=xe;I++}else{s=x;if(R===0){N(_e)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=uy();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===47){s=Ks;I++}else{s=x;if(R===0){N($s)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=uy();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}while(i!==x){r.push(i);i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===42){s=xe;I++}else{s=x;if(R===0){N(_e)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=uy();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=I;n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===47){s=Ks;I++}else{s=x;if(R===0){N($s)}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=uy();if(o!==x){n=[n,s,a,o];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}}if(r!==x){C=e;t=Fo(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(To)}}return e}function uy(){var e,t,r,i;R++;e=I;if(w.charCodeAt(I)===33){t=ca;I++}else{t=x;if(R===0){N(pa)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=fy();if(i!==x){C=e;t=Co(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.charCodeAt(I)===43){t=la;I++}else{t=x;if(R===0){N(ua)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=fy();if(i!==x){C=e;t=Ro(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.charCodeAt(I)===45){t=p;I++}else{t=x;if(R===0){N(h)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=fy();if(i!==x){C=e;t=No(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=fy()}}}R--;if(e===x){t=x;if(R===0){N(Io)}}return e}function fy(){var e,t;R++;e=cy();if(e===x){e=py();if(e===x){e=gy();if(e===x){e=I;t=by();if(t!==x){C=e;t=Lo(t)}e=t;if(e===x){e=I;t=my();if(t!==x){C=e;t=Do(t)}e=t;if(e===x){e=I;t=ky();if(t!==x){C=e;t=Po(t)}e=t;if(e===x){e=yy();if(e===x){e=I;t=O();if(t!==x){C=e;t=Qo(t)}e=t}}}}}}}R--;if(e===x){t=x;if(R===0){N(Oo)}}return e}function cy(){var e,t,r,i,n,s;R++;e=I;if(w.charCodeAt(I)===40){t=E;I++}else{t=x;if(R===0){N(A)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=L();if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.charCodeAt(I)===41){s=j;I++}else{s=x;if(R===0){N(S)}}if(s!==x){C=e;t=Bo(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Mo)}}return e}function py(){var e,t,r,i,n,s,a,o,l,u,f,c,p,h,d,v;R++;e=I;if(w.substr(I,3)===Go){t=Go;I+=3}else{t=x;if(R===0){N(qo)}}if(t===x){if(w.substr(I,3)===Ho){t=Ho;I+=3}else{t=x;if(R===0){N(Jo)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=zo(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,4)===Vo){t=Vo;I+=4}else{t=x;if(R===0){N(Wo)}}if(t===x){if(w.substr(I,4)===Xo){t=Xo;I+=4}else{t=x;if(R===0){N(Ko)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=$o(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,11)===Zo){t=Zo;I+=11}else{t=x;if(R===0){N(Yo)}}if(t===x){if(w.substr(I,11)===el){t=el;I+=11}else{t=x;if(R===0){N(tl)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===44){o=T;I++}else{o=x;if(R===0){N(F)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=L();if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){if(w.charCodeAt(I)===41){c=j;I++}else{c=x;if(R===0){N(S)}}if(c!==x){C=e;t=rl(s,u);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,8)===il){t=il;I+=8}else{t=x;if(R===0){N(nl)}}if(t===x){if(w.substr(I,8)===sl){t=sl;I+=8}else{t=x;if(R===0){N(al)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=ol(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,5)===ll){t=ll;I+=5}else{t=x;if(R===0){N(ul)}}if(t===x){if(w.substr(I,5)===fl){t=fl;I+=5}else{t=x;if(R===0){N(cl)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=O();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=pl(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,3)===hl){t=hl;I+=3}else{t=x;if(R===0){N(dl)}}if(t===x){if(w.substr(I,3)===vl){t=vl;I+=3}else{t=x;if(R===0){N(yl)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=gl(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,3)===bl){t=bl;I+=3}else{t=x;if(R===0){N(ml)}}if(t===x){if(w.substr(I,3)===wl){t=wl;I+=3}else{t=x;if(R===0){N(xl)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=_l(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,5)===kl){t=kl;I+=5}else{t=x;if(R===0){N(El)}}if(t===x){if(w.substr(I,5)===Al){t=Al;I+=5}else{t=x;if(R===0){N(jl)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=I;if(w.charCodeAt(I)===40){n=E;I++}else{n=x;if(R===0){N(A)}}if(n!==x){s=[];a=Q();while(a!==x){s.push(a);a=Q()}if(s!==x){a=L();if(a!==x){o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){if(w.charCodeAt(I)===41){l=j;I++}else{l=x;if(R===0){N(S)}}if(l!==x){n=[n,s,a,o,l];i=n}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}}else{I=i;i=x}if(i===x){i=Xy()}if(i!==x){C=e;t=Sl(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,8)===Tl){t=Tl;I+=8}else{t=x;if(R===0){N(Fl)}}if(t===x){if(w.substr(I,8)===Il){t=Il;I+=8}else{t=x;if(R===0){N(Cl)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=mv();if(i!==x){C=e;t=Rl(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,2)===Nl){t=Nl;I+=2}else{t=x;if(R===0){N(Ol)}}if(t===x){if(w.substr(I,2)===Ll){t=Ll;I+=2}else{t=x;if(R===0){N(Dl)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===44){o=T;I++}else{o=x;if(R===0){N(F)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=L();if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){if(w.charCodeAt(I)===44){c=T;I++}else{c=x;if(R===0){N(F)}}if(c!==x){p=[];h=Q();while(h!==x){p.push(h);h=Q()}if(p!==x){h=L();if(h!==x){d=[];v=Q();while(v!==x){d.push(v);v=Q()}if(d!==x){if(w.charCodeAt(I)===41){v=j;I++}else{v=x;if(R===0){N(S)}}if(v!==x){C=e;t=Pl(s,u,h);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,9)===Ql){t=Ql;I+=9}else{t=x;if(R===0){N(Ml)}}if(t===x){if(w.substr(I,9)===Bl){t=Bl;I+=9}else{t=x;if(R===0){N(Ul)}}if(t===x){if(w.substr(I,9)===Gl){t=Gl;I+=9}else{t=x;if(R===0){N(ql)}}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=Hl(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,7)===Jl){t=Jl;I+=7}else{t=x;if(R===0){N(zl)}}if(t===x){if(w.substr(I,7)===Vl){t=Vl;I+=7}else{t=x;if(R===0){N(Wl)}}if(t===x){if(w.substr(I,7)===Xl){t=Xl;I+=7}else{t=x;if(R===0){N(Kl)}}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=$l(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,8)===Zl){t=Zl;I+=8}else{t=x;if(R===0){N(Yl)}}if(t===x){if(w.substr(I,8)===eu){t=eu;I+=8}else{t=x;if(R===0){N(tu)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===44){o=T;I++}else{o=x;if(R===0){N(F)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=L();if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){if(w.charCodeAt(I)===41){c=j;I++}else{c=x;if(R===0){N(S)}}if(c!==x){C=e;t=ru(s,u);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,5)===iu){t=iu;I+=5}else{t=x;if(R===0){N(nu)}}if(t===x){if(w.substr(I,5)===su){t=su;I+=5}else{t=x;if(R===0){N(au)}}if(t===x){if(w.substr(I,5)===ou){t=ou;I+=5}else{t=x;if(R===0){N(lu)}}if(t===x){if(w.substr(I,5)===uu){t=uu;I+=5}else{t=x;if(R===0){N(fu)}}if(t===x){if(w.substr(I,5)===cu){t=cu;I+=5}else{t=x;if(R===0){N(pu)}}if(t===x){if(w.substr(I,5)===hu){t=hu;I+=5}else{t=x;if(R===0){N(du)}}}}}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===41){o=j;I++}else{o=x;if(R===0){N(S)}}if(o!==x){C=e;t=vu(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,7)===yu){t=yu;I+=7}else{t=x;if(R===0){N(gu)}}if(t===x){if(w.substr(I,7)===bu){t=bu;I+=7}else{t=x;if(R===0){N(mu)}}}if(t!==x){r=[];if(wu.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(xu)}}if(i!==x){while(i!==x){r.push(i);if(wu.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(xu)}}}}else{r=x}if(r!==x){i=[];n=Q();while(n!==x){i.push(n);n=Q()}if(i!==x){if(w.charCodeAt(I)===40){n=E;I++}else{n=x;if(R===0){N(A)}}if(n!==x){s=[];a=I;o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=L();if(l!==x){if(w.charCodeAt(I)===44){u=T;I++}else{u=x;if(R===0){N(F)}}if(u!==x){o=[o,l,u];a=o}else{I=a;a=x}}else{I=a;a=x}}else{I=a;a=x}while(a!==x){s.push(a);a=I;o=[];l=Q();while(l!==x){o.push(l);l=Q()}if(o!==x){l=L();if(l!==x){if(w.charCodeAt(I)===44){u=T;I++}else{u=x;if(R===0){N(F)}}if(u!==x){o=[o,l,u];a=o}else{I=a;a=x}}else{I=a;a=x}}else{I=a;a=x}}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=L();if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===41){u=j;I++}else{u=x;if(R===0){N(S)}}if(u!==x){C=e;t=_u(r,s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=hy();if(e===x){e=dy();if(e===x){e=vy()}}}}}}}}}}}}}}}}}R--;if(e===x){t=x;if(R===0){N(Uo)}}return e}function hy(){var e,t,r,i,n,s,a,o,l,u,f,c,p,h,d;R++;e=I;if(w.substr(I,5)===Eu){t=Eu;I+=5}else{t=x;if(R===0){N(Au)}}if(t===x){if(w.substr(I,5)===ju){t=ju;I+=5}else{t=x;if(R===0){N(Su)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=L();if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===44){o=T;I++}else{o=x;if(R===0){N(F)}}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){u=L();if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){c=I;if(w.charCodeAt(I)===44){p=T;I++}else{p=x;if(R===0){N(F)}}if(p!==x){h=[];d=Q();while(d!==x){h.push(d);d=Q()}if(h!==x){d=L();if(d!==x){p=[p,h,d];c=p}else{I=c;c=x}}else{I=c;c=x}}else{I=c;c=x}if(c===x){c=null}if(c!==x){p=[];h=Q();while(h!==x){p.push(h);h=Q()}if(p!==x){if(w.charCodeAt(I)===41){h=j;I++}else{h=x;if(R===0){N(S)}}if(h!==x){C=e;t=Tu(s,u,c);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ku)}}return e}function dy(){var e,t,r,i;R++;e=I;if(w.substr(I,6)===Iu){t=Iu;I+=6}else{t=x;if(R===0){N(Cu)}}if(t===x){if(w.substr(I,6)===Ru){t=Ru;I+=6}else{t=x;if(R===0){N(Nu)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=d();if(i!==x){C=e;t=Ou(i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Fu)}}return e}function vy(){var e,t,r,i,n,s;R++;e=I;if(w.substr(I,3)===Du){t=Du;I+=3}else{t=x;if(R===0){N(Pu)}}if(t===x){if(w.substr(I,3)===Qu){t=Qu;I+=3}else{t=x;if(R===0){N(Mu)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.substr(I,6)===Iu){i=Iu;I+=6}else{i=x;if(R===0){N(Cu)}}if(i===x){if(w.substr(I,6)===Ru){i=Ru;I+=6}else{i=x;if(R===0){N(Nu)}}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){s=d();if(s!==x){C=e;t=Bu(s);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Lu)}}return e}function yy(){var e,t,r,i,n,s,a,o,l,u,f,c,p,h,d,v,y,g;R++;e=I;if(w.substr(I,5)===Gu){t=Gu;I+=5}else{t=x;if(R===0){N(qu)}}if(t===x){if(w.substr(I,5)===Hu){t=Hu;I+=5}else{t=x;if(R===0){N(Ju)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,8)===_){s=_;I+=8}else{s=x;if(R===0){N(ce)}}if(s===x){if(w.substr(I,8)===k){s=k;I+=8}else{s=x;if(R===0){N(pe)}}}if(s===x){s=null}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){if(w.charCodeAt(I)===42){o=xe;I++}else{o=x;if(R===0){N(_e)}}if(o===x){o=L()}if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===41){u=j;I++}else{u=x;if(R===0){N(S)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){C=e;t=zu(s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,12)===Vu){t=Vu;I+=12}else{t=x;if(R===0){N(Wu)}}if(t===x){if(w.substr(I,12)===Xu){t=Xu;I+=12}else{t=x;if(R===0){N(Ku)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,8)===_){s=_;I+=8}else{s=x;if(R===0){N(ce)}}if(s===x){if(w.substr(I,8)===k){s=k;I+=8}else{s=x;if(R===0){N(pe)}}}if(s===x){s=null}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=L();if(o!==x){l=I;if(w.charCodeAt(I)===59){u=mr;I++}else{u=x;if(R===0){N(wr)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){if(w.substr(I,9)===$u){c=$u;I+=9}else{c=x;if(R===0){N(Zu)}}if(c!==x){p=[];h=Q();while(h!==x){p.push(h);h=Q()}if(p!==x){if(w.charCodeAt(I)===61){h=Xa;I++}else{h=x;if(R===0){N(Ka)}}if(h!==x){d=[];v=Q();while(v!==x){d.push(v);v=Q()}if(d!==x){v=Ey();if(v!==x){y=[];g=Q();while(g!==x){y.push(g);g=Q()}if(y!==x){u=[u,f,c,p,h,d,v,y];l=u}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}}else{I=l;l=x}if(l===x){l=null}if(l!==x){if(w.charCodeAt(I)===41){u=j;I++}else{u=x;if(R===0){N(S)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){C=e;t=Yu(s,o,l);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,3)===ef){t=ef;I+=3}else{t=x;if(R===0){N(tf)}}if(t===x){if(w.substr(I,3)===rf){t=rf;I+=3}else{t=x;if(R===0){N(nf)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,8)===_){s=_;I+=8}else{s=x;if(R===0){N(ce)}}if(s===x){if(w.substr(I,8)===k){s=k;I+=8}else{s=x;if(R===0){N(pe)}}}if(s===x){s=null}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=L();if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===41){u=j;I++}else{u=x;if(R===0){N(S)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){C=e;t=sf(s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,3)===af){t=af;I+=3}else{t=x;if(R===0){N(of)}}if(t===x){if(w.substr(I,3)===lf){t=lf;I+=3}else{t=x;if(R===0){N(uf)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,8)===_){s=_;I+=8}else{s=x;if(R===0){N(ce)}}if(s===x){if(w.substr(I,8)===k){s=k;I+=8}else{s=x;if(R===0){N(pe)}}}if(s===x){s=null}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=L();if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===41){u=j;I++}else{u=x;if(R===0){N(S)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){C=e;t=ff(s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,3)===cf){t=cf;I+=3}else{t=x;if(R===0){N(pf)}}if(t===x){if(w.substr(I,3)===hf){t=hf;I+=3}else{t=x;if(R===0){N(df)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,8)===_){s=_;I+=8}else{s=x;if(R===0){N(ce)}}if(s===x){if(w.substr(I,8)===k){s=k;I+=8}else{s=x;if(R===0){N(pe)}}}if(s===x){s=null}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=L();if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===41){u=j;I++}else{u=x;if(R===0){N(S)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){C=e;t=vf(s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.substr(I,3)===yf){t=yf;I+=3}else{t=x;if(R===0){N(gf)}}if(t===x){if(w.substr(I,3)===bf){t=bf;I+=3}else{t=x;if(R===0){N(mf)}}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===40){i=E;I++}else{i=x;if(R===0){N(A)}}if(i!==x){n=[];s=Q();while(s!==x){n.push(s);s=Q()}if(n!==x){if(w.substr(I,8)===_){s=_;I+=8}else{s=x;if(R===0){N(ce)}}if(s===x){if(w.substr(I,8)===k){s=k;I+=8}else{s=x;if(R===0){N(pe)}}}if(s===x){s=null}if(s!==x){a=[];o=Q();while(o!==x){a.push(o);o=Q()}if(a!==x){o=L();if(o!==x){l=[];u=Q();while(u!==x){l.push(u);u=Q()}if(l!==x){if(w.charCodeAt(I)===41){u=j;I++}else{u=x;if(R===0){N(S)}}if(u!==x){f=[];c=Q();while(c!==x){f.push(c);c=Q()}if(f!==x){C=e;t=wf(s,o);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}}}}}R--;if(e===x){t=x;if(R===0){N(Uu)}}return e}function gy(){var e,t,r,i;R++;e=I;t=P();if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){i=bv();if(i===x){i=null}if(i!==x){C=e;t=_f(t,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(xf)}}return e}function by(){var e,t,r,i,n;R++;e=I;t=Ey();if(t!==x){r=Ny();if(r===x){r=I;if(w.substr(I,2)===Ef){i=Ef;I+=2}else{i=x;if(R===0){N(Af)}}if(i!==x){n=P();if(n!==x){i=[i,n];r=i}else{I=r;r=x}}else{I=r;r=x}}if(r===x){r=null}if(r!==x){C=e;t=jf(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(kf)}}return e}function my(){var e,t;R++;e=wy();if(e===x){e=xy();if(e===x){e=_y()}}R--;if(e===x){t=x;if(R===0){N(Sf)}}return e}function wy(){var e,t;R++;e=Dy();if(e===x){e=Ly();if(e===x){e=Oy()}}R--;if(e===x){t=x;if(R===0){N(Tf)}}return e}function xy(){var e,t;R++;e=My();if(e===x){e=Qy();if(e===x){e=Py()}}R--;if(e===x){t=x;if(R===0){N(Ff)}}return e}function _y(){var e,t;R++;e=Gy();if(e===x){e=Uy();if(e===x){e=By()}}R--;if(e===x){t=x;if(R===0){N(If)}}return e}function ky(){var e,t;R++;e=I;if(w.substr(I,4)===Rf){t=Rf;I+=4}else{t=x;if(R===0){N(Nf)}}if(t===x){if(w.substr(I,4)===Of){t=Of;I+=4}else{t=x;if(R===0){N(Lf)}}}if(t!==x){C=e;t=Df()}e=t;if(e===x){e=I;if(w.substr(I,5)===Pf){t=Pf;I+=5}else{t=x;if(R===0){N(Qf)}}if(t===x){if(w.substr(I,5)===Mf){t=Mf;I+=5}else{t=x;if(R===0){N(Bf)}}}if(t!==x){C=e;t=Uf()}e=t}R--;if(e===x){t=x;if(R===0){N(Cf)}}return e}function Ey(){var e,t;R++;e=I;t=zy();if(t!==x){C=e;t=qf(t)}e=t;if(e===x){e=I;t=Vy();if(t!==x){C=e;t=qf(t)}e=t;if(e===x){e=I;t=Hy();if(t!==x){C=e;t=qf(t)}e=t;if(e===x){e=I;t=Jy();if(t!==x){C=e;t=qf(t)}e=t}}}R--;if(e===x){t=x;if(R===0){N(Gf)}}return e}function P(){var e,t;R++;e=I;t=Sy();if(t!==x){C=e;t=Jf(t)}e=t;if(e===x){e=I;t=Ay();if(t!==x){C=e;t=zf(t)}e=t}R--;if(e===x){t=x;if(R===0){N(Hf)}}return e}function Ay(){var e,t;R++;e=I;t=Fy();if(t!==x){C=e;t=Wf(t)}e=t;if(e===x){e=I;t=Ty();if(t!==x){C=e;t=Xf(t)}e=t}R--;if(e===x){t=x;if(R===0){N(Vf)}}return e}function jy(){var e,t;R++;e=I;t=Iy();if(t!==x){C=e;t=$f(t)}e=t;if(e===x){e=I;t=$y();if(t!==x){C=e;t=Zf()}e=t}R--;if(e===x){t=x;if(R===0){N(Kf)}}return e}function Sy(){var e,t,r,i;R++;e=I;if(w.charCodeAt(I)===60){t=Ya;I++}else{t=x;if(R===0){N(eo)}}if(t!==x){r=[];if(ec.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(tc)}}while(i!==x){r.push(i);if(ec.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(tc)}}}if(r!==x){if(w.charCodeAt(I)===62){i=to;I++}else{i=x;if(R===0){N(ro)}}if(i!==x){C=e;t=rc(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Yf)}}return e}function Ty(){var e,t,r;R++;e=I;t=rg();if(t===x){t=null}if(t!==x){if(w.charCodeAt(I)===58){r=nc;I++}else{r=x;if(R===0){N(sc)}}if(r!==x){C=e;t=zf(t);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ic)}}return e}function Fy(){var e,t,r;R++;e=I;t=Ty();if(t!==x){r=ig();if(r!==x){C=e;t=oc(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ac)}}return e}function Iy(){var e,t,r;R++;e=I;if(w.substr(I,2)===uc){t=uc;I+=2}else{t=x;if(R===0){N(fc)}}if(t!==x){r=ig();if(r!==x){C=e;t=cc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(lc)}}return e}function Cy(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===63){t=aa;I++}else{t=x;if(R===0){N(oa)}}if(t!==x){r=eg();if(r!==x){C=e;t=hc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(pc)}}return e}function Ry(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===36){t=vc;I++}else{t=x;if(R===0){N(yc)}}if(t!==x){r=eg();if(r!==x){C=e;t=hc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(dc)}}return e}function Ny(){var e,t,r,i,n,s,a,o;R++;e=I;if(w.charCodeAt(I)===64){t=bc;I++}else{t=x;if(R===0){N(mc)}}if(t!==x){r=[];if(wc.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(xc)}}if(i!==x){while(i!==x){r.push(i);if(wc.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(xc)}}}}else{r=x}if(r!==x){i=[];n=I;if(w.charCodeAt(I)===45){s=p;I++}else{s=x;if(R===0){N(h)}}if(s!==x){a=[];if(_c.test(w.charAt(I))){o=w.charAt(I);I++}else{o=x;if(R===0){N(kc)}}if(o!==x){while(o!==x){a.push(o);if(_c.test(w.charAt(I))){o=w.charAt(I);I++}else{o=x;if(R===0){N(kc)}}}}else{a=x}if(a!==x){s=[s,a];n=s}else{I=n;n=x}}else{I=n;n=x}while(n!==x){i.push(n);n=I;if(w.charCodeAt(I)===45){s=p;I++}else{s=x;if(R===0){N(h)}}if(s!==x){a=[];if(_c.test(w.charAt(I))){o=w.charAt(I);I++}else{o=x;if(R===0){N(kc)}}if(o!==x){while(o!==x){a.push(o);if(_c.test(w.charAt(I))){o=w.charAt(I);I++}else{o=x;if(R===0){N(kc)}}}}else{a=x}if(a!==x){s=[s,a];n=s}else{I=n;n=x}}else{I=n;n=x}}if(i!==x){C=e;t=Ec(r,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(gc)}}return e}function Oy(){var e,t,r;R++;e=I;t=[];if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}if(r!==x){while(r!==x){t.push(r);if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}}}else{t=x}if(t!==x){C=e;t=jc(t)}e=t;R--;if(e===x){t=x;if(R===0){N(Ac)}}return e}function Ly(){var e,t,r,i,n;R++;e=I;t=[];if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}if(r!==x){while(r!==x){t.push(r);if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}}}else{t=x}if(t!==x){if(w.charCodeAt(I)===46){r=f;I++}else{r=x;if(R===0){N(c)}}if(r!==x){i=[];if(s.test(w.charAt(I))){n=w.charAt(I);I++}else{n=x;if(R===0){N(a)}}while(n!==x){i.push(n);if(s.test(w.charAt(I))){n=w.charAt(I);I++}else{n=x;if(R===0){N(a)}}}if(i!==x){C=e;t=Tc(t,r,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.charCodeAt(I)===46){t=f;I++}else{t=x;if(R===0){N(c)}}if(t!==x){r=[];if(s.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(a)}}if(i!==x){while(i!==x){r.push(i);if(s.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(a)}}}}else{r=x}if(r!==x){C=e;t=Fc(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}}R--;if(e===x){t=x;if(R===0){N(Sc)}}return e}function Dy(){var e,t,r,i,n;R++;e=I;t=[];if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}if(r!==x){while(r!==x){t.push(r);if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}}}else{t=x}if(t!==x){if(w.charCodeAt(I)===46){r=f;I++}else{r=x;if(R===0){N(c)}}if(r!==x){i=[];if(s.test(w.charAt(I))){n=w.charAt(I);I++}else{n=x;if(R===0){N(a)}}while(n!==x){i.push(n);if(s.test(w.charAt(I))){n=w.charAt(I);I++}else{n=x;if(R===0){N(a)}}}if(i!==x){n=qy();if(n!==x){C=e;t=Cc(t,r,i,n);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;if(w.charCodeAt(I)===46){t=f;I++}else{t=x;if(R===0){N(c)}}if(t!==x){r=[];if(s.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(a)}}if(i!==x){while(i!==x){r.push(i);if(s.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(a)}}}}else{r=x}if(r!==x){i=qy();if(i!==x){C=e;t=Rc(t,r,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}if(e===x){e=I;t=[];if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}if(r!==x){while(r!==x){t.push(r);if(s.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(a)}}}}else{t=x}if(t!==x){r=qy();if(r!==x){C=e;t=Nc(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}}}R--;if(e===x){t=x;if(R===0){N(Ic)}}return e}function Py(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===43){t=la;I++}else{t=x;if(R===0){N(ua)}}if(t!==x){r=Oy();if(r!==x){C=e;t=Lc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Oc)}}return e}function Qy(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===43){t=la;I++}else{t=x;if(R===0){N(ua)}}if(t!==x){r=Ly();if(r!==x){C=e;t=Pc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Dc)}}return e}function My(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===43){t=la;I++}else{t=x;if(R===0){N(ua)}}if(t!==x){r=Dy();if(r!==x){C=e;t=Pc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Qc)}}return e}function By(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===45){t=p;I++}else{t=x;if(R===0){N(h)}}if(t!==x){r=Oy();if(r!==x){C=e;t=Bc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Mc)}}return e}function Uy(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===45){t=p;I++}else{t=x;if(R===0){N(h)}}if(t!==x){r=Ly();if(r!==x){C=e;t=Bc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Uc)}}return e}function Gy(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===45){t=p;I++}else{t=x;if(R===0){N(h)}}if(t!==x){r=Dy();if(r!==x){C=e;t=Bc(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Gc)}}return e}function qy(){var e,t,r,i,n;R++;e=I;if(Hc.test(w.charAt(I))){t=w.charAt(I);I++}else{t=x;if(R===0){N(Jc)}}if(t!==x){if(zc.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(Vc)}}if(r===x){r=null}if(r!==x){i=[];if(s.test(w.charAt(I))){n=w.charAt(I);I++}else{n=x;if(R===0){N(a)}}if(n!==x){while(n!==x){i.push(n);if(s.test(w.charAt(I))){n=w.charAt(I);I++}else{n=x;if(R===0){N(a)}}}}else{i=x}if(i!==x){C=e;t=Wc(t,r,i);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(qc)}}return e}function Hy(){var e,t,r,i;R++;e=I;if(w.charCodeAt(I)===39){t=Kc;I++}else{t=x;if(R===0){N($c)}}if(t!==x){r=[];if(Zc.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(Yc)}}if(i===x){i=Wy()}while(i!==x){r.push(i);if(Zc.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(Yc)}}if(i===x){i=Wy()}}if(r!==x){if(w.charCodeAt(I)===39){i=Kc;I++}else{i=x;if(R===0){N($c)}}if(i!==x){C=e;t=ep(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Xc)}}return e}function Jy(){var e,t,r,i;R++;e=I;if(w.charCodeAt(I)===34){t=rp;I++}else{t=x;if(R===0){N(ip)}}if(t!==x){r=[];if(np.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(sp)}}if(i===x){i=Wy()}while(i!==x){r.push(i);if(np.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(sp)}}if(i===x){i=Wy()}}if(r!==x){if(w.charCodeAt(I)===34){i=rp;I++}else{i=x;if(R===0){N(ip)}}if(i!==x){C=e;t=ep(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(tp)}}return e}function zy(){var e,t,r,i;R++;e=I;if(w.substr(I,3)===op){t=op;I+=3}else{t=x;if(R===0){N(lp)}}if(t!==x){r=[];if(up.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(fp)}}if(i===x){i=Wy()}while(i!==x){r.push(i);if(up.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(fp)}}if(i===x){i=Wy()}}if(r!==x){if(w.substr(I,3)===op){i=op;I+=3}else{i=x;if(R===0){N(lp)}}if(i!==x){C=e;t=ep(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(ap)}}return e}function Vy(){var e,t,r,i;R++;e=I;if(w.substr(I,3)===pp){t=pp;I+=3}else{t=x;if(R===0){N(hp)}}if(t!==x){r=[];if(dp.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(vp)}}if(i===x){i=Wy()}while(i!==x){r.push(i);if(dp.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(vp)}}if(i===x){i=Wy()}}if(r!==x){if(w.substr(I,3)===pp){i=pp;I+=3}else{i=x;if(R===0){N(hp)}}if(i!==x){C=e;t=ep(r);e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(cp)}}return e}function Wy(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===92){t=gp;I++}else{t=x;if(R===0){N(bp)}}if(t!==x){if(mp.test(w.charAt(I))){r=w.charAt(I);I++}else{r=x;if(R===0){N(wp)}}if(r!==x){t=[t,r];e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(yp)}}return e}function Xy(){var e,t,r,i;R++;e=I;if(w.charCodeAt(I)===40){t=E;I++}else{t=x;if(R===0){N(A)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===41){i=j;I++}else{i=x;if(R===0){N(S)}}if(i!==x){C=e;t=_p();e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(xp)}}return e}function Q(){var e,t;R++;if(Ep.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Ap)}}if(e===x){if(jp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Sp)}}if(e===x){if(Tp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Fp)}}if(e===x){if(Ip.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Cp)}}if(e===x){e=Ky()}}}}R--;if(e===x){t=x;if(R===0){N(kp)}}return e}function Ky(){var e,t,r,i;R++;e=I;if(w.charCodeAt(I)===35){t=Np;I++}else{t=x;if(R===0){N(Op)}}if(t!==x){r=[];if(Lp.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(Dp)}}while(i!==x){r.push(i);if(Lp.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(Dp)}}}if(r!==x){t=[t,r];e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Rp)}}return e}function $y(){var e,t,r,i;R++;e=I;if(w.charCodeAt(I)===91){t=wa;I++}else{t=x;if(R===0){N(xa)}}if(t!==x){r=[];i=Q();while(i!==x){r.push(i);i=Q()}if(r!==x){if(w.charCodeAt(I)===93){i=_a;I++}else{i=x;if(R===0){N(ka)}}if(i!==x){t=[t,r,i];e=t}else{I=e;e=x}}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Pp)}}return e}function Zy(){var e,t;R++;if(Mp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Bp)}}if(e===x){if(Up.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Gp)}}if(e===x){if(qp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Hp)}}if(e===x){if(Jp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(zp)}}if(e===x){if(Vp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Wp)}}if(e===x){if(Xp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Kp)}}if(e===x){if($p.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Zp)}}if(e===x){if(Yp.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(eh)}}if(e===x){if(th.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(rh)}}if(e===x){if(ih.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(nh)}}if(e===x){if(sh.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(ah)}}if(e===x){if(oh.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(lh)}}if(e===x){if(uh.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(fh)}}if(e===x){if(ch.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(ph)}}}}}}}}}}}}}}}R--;if(e===x){t=x;if(R===0){N(Qp)}}return e}function Yy(){var e,t;R++;e=Zy();if(e===x){if(w.charCodeAt(I)===95){e=dh;I++}else{e=x;if(R===0){N(vh)}}}R--;if(e===x){t=x;if(R===0){N(hh)}}return e}function eg(){var e,t,r,i;R++;e=I;t=Yy();if(t===x){if(s.test(w.charAt(I))){t=w.charAt(I);I++}else{t=x;if(R===0){N(a)}}}if(t!==x){r=[];i=Yy();if(i===x){if(s.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(a)}}if(i===x){if(gh.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(bh)}}if(i===x){if(mh.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(wh)}}if(i===x){if(xh.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(_h)}}}}}}while(i!==x){r.push(i);i=Yy();if(i===x){if(s.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(a)}}if(i===x){if(gh.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(bh)}}if(i===x){if(mh.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(wh)}}if(i===x){if(xh.test(w.charAt(I))){i=w.charAt(I);I++}else{i=x;if(R===0){N(_h)}}}}}}}if(r!==x){C=e;t=kh(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(yh)}}return e}function tg(){var e,t;R++;e=Yy();if(e===x){if(w.charCodeAt(I)===45){e=p;I++}else{e=x;if(R===0){N(h)}}if(e===x){if(s.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(a)}}if(e===x){if(gh.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(bh)}}if(e===x){if(mh.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(wh)}}if(e===x){if(xh.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(_h)}}}}}}}R--;if(e===x){t=x;if(R===0){N(Eh)}}return e}function rg(){var e,t,r,i;R++;e=I;t=Zy();if(t!==x){r=[];i=tg();if(i===x){if(w.charCodeAt(I)===46){i=f;I++}else{i=x;if(R===0){N(c)}}}while(i!==x){r.push(i);i=tg();if(i===x){if(w.charCodeAt(I)===46){i=f;I++}else{i=x;if(R===0){N(c)}}}}if(r!==x){C=e;t=jh(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Ah)}}return e}function ig(){var e,t,r,i;R++;e=I;t=Yy();if(t===x){if(s.test(w.charAt(I))){t=w.charAt(I);I++}else{t=x;if(R===0){N(a)}}if(t===x){if(w.charCodeAt(I)===58){t=nc;I++}else{t=x;if(R===0){N(sc)}}if(t===x){t=ng()}}}if(t!==x){r=[];i=tg();if(i===x){if(w.charCodeAt(I)===46){i=f;I++}else{i=x;if(R===0){N(c)}}if(i===x){if(w.charCodeAt(I)===58){i=nc;I++}else{i=x;if(R===0){N(sc)}}if(i===x){i=ng()}}}while(i!==x){r.push(i);i=tg();if(i===x){if(w.charCodeAt(I)===46){i=f;I++}else{i=x;if(R===0){N(c)}}if(i===x){if(w.charCodeAt(I)===58){i=nc;I++}else{i=x;if(R===0){N(sc)}}if(i===x){i=ng()}}}}if(r!==x){C=e;t=Th(t,r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Sh)}}return e}function ng(){var e,t;R++;e=sg();if(e===x){e=og()}R--;if(e===x){t=x;if(R===0){N(Fh)}}return e}function sg(){var e,t,r,i,n;R++;e=I;t=I;if(w.charCodeAt(I)===37){r=Ch;I++}else{r=x;if(R===0){N(Rh)}}if(r!==x){i=ag();if(i!==x){n=ag();if(n!==x){r=[r,i,n];t=r}else{I=t;t=x}}else{I=t;t=x}}else{I=t;t=x}if(t!==x){C=e;t=Nh(t)}e=t;R--;if(e===x){t=x;if(R===0){N(Ih)}}return e}function ag(){var e,t;R++;if(s.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(a)}}if(e===x){if(Lh.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Dh)}}if(e===x){if(Ph.test(w.charAt(I))){e=w.charAt(I);I++}else{e=x;if(R===0){N(Qh)}}}}R--;if(e===x){t=x;if(R===0){N(Oh)}}return e}function og(){var e,t,r;R++;e=I;if(w.charCodeAt(I)===92){t=gp;I++}else{t=x;if(R===0){N(bp)}}if(t!==x){if(w.charCodeAt(I)===95){r=dh;I++}else{r=x;if(R===0){N(vh)}}if(r===x){if(w.charCodeAt(I)===126){r=Bh;I++}else{r=x;if(R===0){N(Uh)}}if(r===x){if(w.charCodeAt(I)===46){r=f;I++}else{r=x;if(R===0){N(c)}}if(r===x){if(w.charCodeAt(I)===45){r=p;I++}else{r=x;if(R===0){N(h)}}if(r===x){if(w.charCodeAt(I)===33){r=ca;I++}else{r=x;if(R===0){N(pa)}}if(r===x){if(w.charCodeAt(I)===36){r=vc;I++}else{r=x;if(R===0){N(yc)}}if(r===x){if(w.charCodeAt(I)===38){r=Gh;I++}else{r=x;if(R===0){N(qh)}}if(r===x){if(w.charCodeAt(I)===39){r=Kc;I++}else{r=x;if(R===0){N($c)}}if(r===x){if(w.charCodeAt(I)===40){r=E;I++}else{r=x;if(R===0){N(A)}}if(r===x){if(w.charCodeAt(I)===41){r=j;I++}else{r=x;if(R===0){N(S)}}if(r===x){if(w.charCodeAt(I)===42){r=xe;I++}else{r=x;if(R===0){N(_e)}}if(r===x){if(w.charCodeAt(I)===43){r=la;I++}else{r=x;if(R===0){N(ua)}}if(r===x){if(w.charCodeAt(I)===44){r=T;I++}else{r=x;if(R===0){N(F)}}if(r===x){if(w.charCodeAt(I)===59){r=mr;I++}else{r=x;if(R===0){N(wr)}}if(r===x){if(w.charCodeAt(I)===58){r=nc;I++}else{r=x;if(R===0){N(sc)}}if(r===x){if(w.charCodeAt(I)===61){r=Xa;I++}else{r=x;if(R===0){N(Ka)}}if(r===x){if(w.charCodeAt(I)===47){r=Ks;I++}else{r=x;if(R===0){N($s)}}if(r===x){if(w.charCodeAt(I)===63){r=aa;I++}else{r=x;if(R===0){N(oa)}}if(r===x){if(w.charCodeAt(I)===35){r=Np;I++}else{r=x;if(R===0){N(Op)}}if(r===x){if(w.charCodeAt(I)===64){r=bc;I++}else{r=x;if(R===0){N(mc)}}if(r===x){if(w.charCodeAt(I)===37){r=Ch;I++}else{r=x;if(R===0){N(Rh)}}}}}}}}}}}}}}}}}}}}}}if(r!==x){C=e;t=Hh(r);e=t}else{I=e;e=x}}else{I=e;e=x}R--;if(e===x){t=x;if(R===0){N(Mh)}}return e}var lg=function(e){var t="";for(var r=0;r<e.length;r++){if(typeof e[r]==="string"){t=t+e[r]}else{t=t+e[r].join("")}}return t};var o=0;var ug={};var fg=function(e,t){ug[e]=t};var cg=function(e){ug[null]=e};var pg=function(e){var t="";if(e==null)return null;for(var r=0;r<e.length;r++){t=t+e[r]}return t.toUpperCase()};Vh=u();if(Vh!==x&&I===w.length){return Vh}else{if(Vh!==x&&I<w.length){N(Yh())}throw id(zh,t<w.length?w.charAt(t):null,t<w.length?td(t,t+1):td(t,t))}}return{SyntaxError:hg,parse:t}}()},{}],145:[function(e,t,r){var i=e("./btree").Tree;var n=e("./utils");var s=n;var a=e("./lexicon").Lexicon;PersistentLexicon=function(t,e){var i=this;n.registerIndexedDB(i);this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};this.oidCounter=1;i.dbName=e||"rdfstorejs";var r=i.indexedDB.open(this.dbName+"_lexicon",1);r.onerror=function(e){t(null,new Error("Error opening IndexedDB: "+e.target.errorCode))};r.onsuccess=function(e){i.db=e.target.result;t(i)};r.onupgradeneeded=function(e){i.db=e.target.result;var t=i.db.createObjectStore("knownGraphs",{keyPath:"oid"});t.createIndex("uriToken","uriToken",{unique:true});var r=i.db.createObjectStore("components",{keyPath:"id",autoIncrement:true});r.createIndex("value","value",{unique:true})}};PersistentLexicon.prototype.registerGraph=function(i,n,s){if(i!=this.defaultGraphOid){var e=this.db.transaction(["knownGraphs"],"readwrite");e.onerror=function(e){s(null,new Error(e.target.statusCode))};var a=e.objectStore("knownGraphs");var t=a.get(n);t.onsuccess=function(e){var t=e.target.result;if(t){s(true)}else{var r=a.add({oid:i,uriToken:n});r.onsuccess=function(e){s(true)}}}}else{s()}};PersistentLexicon.prototype.registeredGraphs=function(r,i){var n=[];var e=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs");var t=e.openCursor();t.onsuccess=function(e){var t=e.target.result;if(t){if(r===true){n.push(t.value.uriToken)}else{n.push(t.value.oid)}t.continue()}else{i(n)}};t.onerror=function(e){i(null,new Error("Error retrieving data from the cursor: "+e.target.errorCode))}};PersistentLexicon.prototype.registerUri=function(s,a){var e=this;if(s===this.defaultGraphUri){a(this.defaultGraphOid)}else{var o=e.db.transaction(["components"],"readwrite").objectStore("components");var t=o.index("value").get("_u:"+s);t.onsuccess=function(e){var t=e.target.result;if(t){t.counter++;var r=t.id;var i=o.put(t);i.onsuccess=function(e){a(r)};i.onerror=function(e){a(null,new Error("Error updating the URI data"+e.target.errorCode))}}else{var n=o.add({value:"_u:"+s,counter:0,uri:true});n.onsuccess=function(e){a(e.target.result)};n.onerror=function(e){a(null,new Error("Error inserting the URI data"+e.target.errorCode))}}};t.onerror=function(e){a(null,new Error("Error retrieving the URI data"+e.target.errorCode))}}};PersistentLexicon.prototype.resolveUri=function(e,t){if(e===this.defaultGraphUri){t(this.defaultGraphOid)}else{var r=this.db.transaction(["components"]).objectStore("components");var i=r.index("value").get("_u:"+e);i.onsuccess=function(e){if(e.target.result!=null){t(e.target.result.id)}else t(-1)};i.onerror=function(e){t(null,new Error("Error retrieving uri data "+e.target.errorCode))}}};PersistentLexicon.prototype.resolveUriCost=function(e,t){if(e===this.defaultGraphUri){t(0)}else{var r=that.db.transaction(["components"]).objectStore("components");var i=r.index("value").get("_u:"+e);i.onsuccess=function(e){if(e.target.result!=null)t(e.target.result.cost);else t(-1)};i.onerror=function(e){t(null,new Error("Error retrieving uri data "+e.target.errorCode))}}};PersistentLexicon.prototype.registerBlank=function(t){var e=guid();var r=this;var i=r.db.transaction(["components"],"readwrite").objectStore("components");var n=i.add({value:"_b:"+e,counter:0,label:true});n.onsuccess=function(e){t(e.target.result)};n.onerror=function(e){t(null,new Error("Error inserting the URI data"+e.target.errorCode))}};PersistentLexicon.prototype.resolveBlankCost=function(e,t){t(0)};PersistentLexicon.prototype.registerLiteral=function(s,a){var e=this;var o=e.db.transaction(["components"],"readwrite").objectStore("components");var t=o.index("value").get("_l:"+s);t.onsuccess=function(e){var t=e.target.result;if(t){t.counter++;var r=t.id;var i=o.put(t);i.onsuccess=function(e){a(r)};i.onerror=function(e){a(null,new Error("Error updating the literal data"+e.target.errorCode))}}else{var n=o.add({value:"_l:"+s,counter:0,literal:true});n.onsuccess=function(e){a(e.target.result)};n.onerror=function(e){a(null,new Error("Error inserting the literal data"+e.target.errorCode))}}};t.onerror=function(e){a(null,new Error("Error retrieving the literal data"+e.target.errorCode))}};PersistentLexicon.prototype.resolveLiteral=function(e,t){var r=that.db.transaction(["components"]).objectStore("components");var i=r.index("value").get("_l:"+e);i.onsuccess=function(e){if(e.target.result!=null){t(e.target.result.id)}else t(-1)};i.onerror=function(e){t(null,new Error("Error retrieving literal data "+e.target.errorCode))}};PersistentLexicon.prototype.resolveLiteralCost=function(e,t){var r=that.db.transaction(["components"]).objectStore("components");var i=r.index("components").get(e);i.onsuccess=function(e){if(e.target.result!=null)t(e.target.result.cost);else t(-1)};i.onerror=function(e){t(null,new Error("Error retrieving literal data "+e.target.errorCode))}};PersistentLexicon.prototype.parseLiteral=function(e){return a.prototype.parseLiteral(e)};PersistentLexicon.prototype.parseUri=function(e){return a.prototype.parseUri(e)};PersistentLexicon.prototype.retrieve=function(e,r){var i=this,t,n;if(e===this.defaultGraphOid){r({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:true})}else{t=i.db.transaction(["components"]);n=t.objectStore("components").get(e);n.onsuccess=function(e){if(e.target.result!=null){if(e.target.result.label!=null){var t="_:"+e.target.result.id;r({token:"blank",value:t})}else if(e.target.result.uri!=null){r(i.parseUri(e.target.result.value.slice(3,e.target.result.value.length)))}else if(e.target.result.literal!=null){r(i.parseLiteral(e.target.result.value.slice(3,e.target.result.value.length)))}else{console.log(e.target.result);r(null,new Error("Unknown type of component "+e.target.result))}}else{r(null,null)}};n.onerror=function(e){r(null,new Error("Error searching in blanks data "+e.target.errorCode))}}};PersistentLexicon.prototype.clear=function(e){var t=this;this.defaultGraphOid=0;this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph";this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var r=t.db.transaction(["components"],"readwrite"),i;var n=r.objectStore("components");var s=function(){if(e!=null)e()};i=n.clear();i.onsuccess=s;i.onerror=s};PersistentLexicon.prototype.unregister=function(t,r,e){var i=this;s.seq(function(e){i._unregisterTerm(t.subject.token,r.subject,e)},function(e){i._unregisterTerm(t.predicate.token,r.predicate,e)},function(e){i._unregisterTerm(t.object.token,r.object,e)},function(e){if(t.graph!=null){i._unregisterTerm(t.graph.token,r.graph,e)}else{e()}})(function(){e(true)})};PersistentLexicon.prototype._unregisterTerm=function(e,t,r){var i=this,n;var s=i.db.transaction(["components","knownGraphs"],"readwrite");if(e==="uri"){if(t!=this.defaultGraphOid){var a=function(){var e=s.objectStore("knownGraphs").delete(t);e.onsuccess=function(){r()}};n=s.objectStore("components").delete(t);n.onsuccess=a()}else{r()}}else{n=s.objectStore("components").delete(t);n.onsuccess=function(){r()}}};t.exports={PersistentLexicon:PersistentLexicon}},{"./btree":139,"./lexicon":142,"./utils":156}],146:[function(e,t,r){var l=e("./utils");PersistentQuadBackend=function(e,t){var i=this;if(arguments!==0){l.registerIndexedDB(i);this.indexMap={};this.indices=["S","P","O","G","SP","SO","SG","PO","PG","OG","SPO","SPG","SOG","POG","SPOG"];this.componentOrders={S:["subject","predicate","object","graph"],P:["predicate","subject","object","graph"],O:["object","subject","predicate","graph"],G:["graph","subject","predicate","object"],SP:["subject","predicate","object","graph"],SO:["subject","object","predicate","graph"],SG:["subject","graph","predicate","object"],PO:["predicate","object","subject","graph"],PG:["predicate","graph","subject","object"],OG:["object","graph","subject","predicate"],SPO:["subject","predicate","object","graph"],SPG:["subject","predicate","graph","object"],SOG:["subject","object","graph","predicate"],POG:["predicate","object","graph","subject"],SPOG:["subject","predicate","object","graph"]};this.componentOrdersMap={};for(var r in this.componentOrders){var n=this.componentOrders[r];var s=n.slice(0,r.length).sort().join(".");this.componentOrdersMap[s]=r}i.dbName=e["name"]||"rdfstorejs";var a=i.indexedDB.open(this.dbName+"_db",1);a.onerror=function(e){t(null,new Error("Error opening IndexedDB: "+e.target.errorCode))};a.onsuccess=function(e){i.db=e.target.result;t(i)};a.onupgradeneeded=function(e){var t=e.target.result;var r=t.createObjectStore(i.dbName,{keyPath:"SPOG"});l.each(i.indices,function(e){if(e!=="SPOG"){r.createIndex(e,e,{unique:false})}})}}};PersistentQuadBackend.prototype.index=function(t,r){var i=this;l.each(this.indices,function(e){t[e]=i._genMinIndexKey(t,e)});var e=i.db.transaction([i.dbName],"readwrite");e.oncomplete=function(e){};e.onerror=function(e){r(null,new Error(e.target.statusCode))};var n=e.objectStore(i.dbName);var s=n.add(t);s.onsuccess=function(e){r(true)}};PersistentQuadBackend.prototype.range=function(e,r){var t=this;var i=t.db.transaction([t.dbName]).objectStore(t.dbName);var n=this._indexForPattern(e);var s=this._genMinIndexKey(e,n);var a=this._genMaxIndexKey(e,n);var o=t.IDBKeyRange.bound(s,a,false,false);var l=[];var u;if(n==="SPOG"){u=i}else{u=i.index(n)}u.openCursor(o).onsuccess=function(e){var t=e.target.result;if(t){l.push(t.value);t.continue()}else{r(l)}}};PersistentQuadBackend.prototype.search=function(e,t){var r=this;var i=r.db.transaction([r.dbName]).objectStore(r.dbName);var n=this._genMinIndexKey(e,"SPOG");var s=i.get(n);s.onerror=function(e){t(null,new Error(e.target.statusCode))};s.onsuccess=function(e){t(e.target.result!=null)}};PersistentQuadBackend.prototype.delete=function(e,t){var r=this;var i=r._genMinIndexKey(e,"SPOG");var n=r.db.transaction([r.dbName],"readwrite").objectStore(r.dbName).delete(i);n.onsuccess=function(){t(true)};n.onerror=function(e){t(null,new Error(e.target.statusCode))}};PersistentQuadBackend.prototype._genMinIndexKey=function(t,e){var r=this.componentOrders[e];return l.map(r,function(e){if(typeof t[e]==="string"||t[e]==null){return"0"}else{return t[e]}}).join(".")};PersistentQuadBackend.prototype._genMaxIndexKey=function(e,t){var r=this.componentOrders[t];var i=[];var n=false;for(var s=0;s<r.length;s++){var a=r[s];var o=e[a];if(typeof o==="string"){i[s]="z"}else{i[s]=o}}return l.map(i,function(e){return""+e}).join(".")};PersistentQuadBackend.prototype._indexForPattern=function(e){var t=this;var r=e.indexKey;var i=r.sort().join(".");var n=t.componentOrdersMap[i];if(n==null){throw new Error("Error, cannot find index for indexKey "+i)}else{return n}};PersistentQuadBackend.prototype.clear=function(e){var t=this;var r=t.db.transaction([t.dbName],"readwrite"),i;i=r.objectStore(t.dbName).clear();i.onsuccess=function(){e()};i.onerror=function(){e()}};t.exports.PersistentQuadBackend=PersistentQuadBackend},{"./utils":156}],147:[function(e,t,r){var n=e("./quad_index").QuadIndex;var a=e("./utils");QuadBackend=function(e,t){this.indexMap={};this.treeOrder=e["treeOrder"];this.indices=e["index"]||QuadBackend.allIndices;this.componentOrders=QuadBackend.componentOrders;var i=this;a.eachSeries(this.indices,function(t,r){new n({order:i.treeOrder,componentOrder:i.componentOrders[t]},function(e){i.indexMap[t]=e;r()})},function(){t(i)})};QuadBackend.allIndices=["SPOG","GP","OGS","POG","GSP","OS"];QuadBackend.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]};QuadBackend.prototype._indexForPattern=function(e){var t=e.indexKey;for(var r=0;r<QuadBackend.allIndices.length;r++){var i=QuadBackend.allIndices[r];var n=QuadBackend.componentOrders[i];for(var s=0;s<n.length;s++){if(a.include(t,n[s])===false){break}if(s==t.length-1){return i}}}return"SPOG"};QuadBackend.prototype.index=function(i,e){var n=this;a.eachSeries(this.indices,function(e,t){var r=n.indexMap[e];r.insert(i,function(){t()})},function(){e(true)})};QuadBackend.prototype.range=function(e,t){var r=this._indexForPattern(e);var i=this.indexMap[r];if(i!=null){i.range(e,function(e){t(e)})}};QuadBackend.prototype.search=function(e,t){var r=this.indexMap["SPOG"];if(r!=null){r.search(e,function(e){t(e!=null)})}};QuadBackend.prototype.delete=function(i,e){var n=this;a.eachSeries(this.indices,function(e,t){var r=n.indexMap[e];r.delete(i,function(){t()})},function(){e(true)})};QuadBackend.prototype.clear=function(e){var i=this;a.eachSeries(this.indices,function(t,r){new n({order:i.treeOrder,componentOrder:i.componentOrders[t]},function(e){i.indexMap[t]=e;r()})},function(){e(true)})};t.exports.QuadBackend=QuadBackend},{"./quad_index":148,"./utils":156}],148:[function(e,t,r){var i=e("./btree").Tree;var n=e("./utils");var u=e("./utils");NodeKey=function(e,t){this.subject=e.subject;this.predicate=e.predicate;this.object=e.object;this.graph=e.graph;this.order=t};NodeKey.prototype.comparator=function(e){for(var t=0;t<this.order.length;t++){var r=this.order[t];if(e[r]==null){return 0}else{if(this[r]<e[r]){return-1}else if(this[r]>e[r]){return 1}}}return 0};Pattern=function(e){this.subject=e.subject;this.predicate=e.predicate;this.object=e.object;this.graph=e.graph;this.indexKey=[];this.keyComponents={};var t=[];var r=[];var i=this;n.forEach(["subject","predicate","object","graph"],function(e){if(typeof i[e]==="string"){r.push(e);i.keyComponents[e]=null}else{t.push(e);i.keyComponents[e]=i[e];i.indexKey.push(e)}});this.order=t.concat(r);this.key=new NodeKey(this.keyComponents,this.order)};QuadIndex=function(e,t){if(arguments!=0){this.componentOrder=e.componentOrder;i.call(this,e.order,function(a){a.comparator=function(e,t){for(var r=0;r<a.componentOrder.length;r++){var i=a.componentOrder[r];var n=e[i];var s=t[i];if(n<s){return-1}else if(n>s){return 1}}return 0};a.rangeComparator=function(e,t){for(var r=0;r<a.componentOrder.length;r++){var i=a.componentOrder[r];if(t[i]==null||e[i]==null){return 0}else{if(e[i]<t[i]){return-1}else if(e[i]>t[i]){return 1}}}return 0};t(a)})}};QuadIndex.prototype=n.create(i.prototype,{constructor:i});QuadIndex.prototype.insert=function(e,t){i.prototype.insert.call(this,e,null,function(e){t(e)})};QuadIndex.prototype.search=function(e,t){i.prototype.search.call(this,e,function(e){t(e)},true)};QuadIndex.prototype.range=function(e,t){this._rangeTraverse(this,this.root,e,t)};QuadIndex.prototype._rangeTraverse=function(s,e,t,r){var a=t.key;var o=[];var l=[e];u.whilst(function(){return l.length>0},function(t){var i=l.shift();var n=0;while(n<i.numberActives&&s.rangeComparator(i.keys[n].key,a)===-1){n++}if(i.isLeaf===true){var e=n;while(e<i.numberActives&&s.rangeComparator(i.keys[e].key,a)===0){o.push(i.keys[e].key);e++}t()}else{s._diskRead(i.children[n],function(e){l.push(e);var r=n;u.whilst(function(){return r<i.numberActives&&s.rangeComparator(i.keys[r].key,a)===0},function(t){o.push(i.keys[r].key);r++;s._diskRead(i.children[r],function(e){l.push(e);t()})},function(){t()})})}},function(){r(o)})};t.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},{"./btree":139,"./utils":156}],149:[function(e,t,r){var i=e("./abstract_query_tree").AbstractQueryTree;var a=e("./abstract_query_tree").NonSupportedSparqlFeatureError;var f=e("./utils");var u=e("./quad_index");var d=e("./query_plan").QueryPlan;var v=e("./query_filters").QueryFilters;var m=e("./rdf_model");var n=e("./rdf_loader").RDFLoader;var c=e("./graph_callbacks").CallbacksBackend;var y=e("./utils");var l=e("./utils");function g(e,t,r){this.name="BindExpressionError";this.bind=t;this.error=r;this.message=e}g.prototype=new Error;g.constructor=g;QueryEngine=function(e){if(arguments.length!=0){this.backend=e.backend;this.lexicon=e.lexicon;this.eventsOnBatchLoad=e.eventsOnBatchLoad||false;this.defaultPrefixes={};this.abstractQueryTree=new i;this.rdfLoader=new n(e["communication"]);this.callbacksBackend=new c(this);this.customFns=e.customFns||{}}};QueryEngine.prototype.setCustomFunctions=function(e){this.customFns=e};QueryEngine.prototype.registerNsInEnvironment=function(e,t){var r=[];if(e!=null&&e.prefixes!=null){r=e.prefixes}var i={};for(var n in this.defaultPrefixes){i[n]=this.defaultPrefixes[n]}for(var s=0;s<r.length;s++){var a=r[s];if(a.token==="prefix"){i[a.prefix]=a.local}}t.namespaces=i;if(e!=null&&e.base&&typeof e.base==="object"){t.base=e.base.value}else{t.base=null}};QueryEngine.prototype.applyModifier=function(e,t){if(e=="DISTINCT"){var r={};var i=[];for(var n=0;n<t.length;n++){var s=t[n];var a="";for(var o in s){var l=s[o];if(l==null){a=a+o+"null"}else if(l.token=="literal"){if(l.value!=null){a=a+l.value}if(l.lang!=null){a=a+l.lang}if(l.type!=null){a=a+l.type}}else if(l.value){a=a+o+l.value}else{a=a+o+l}}if(r[a]==null){i.push(s);r[a]=true}}return i}else{return t}};QueryEngine.prototype.applyLimitOffset=function(e,t,r){if(t==null&&e==null){return r}if(e==null){e=0}if(t==null){t=r.length}else{t=e+t}return r.slice(e,t)};QueryEngine.prototype.applySingleOrderBy=function(e,r,i,n,t){var s=[];var a=this;y.eachSeries(e,function(e,t){v.collect(e.expression,[r],i,n,a,function(e){s.push(e[0].value);t()})},function(){t({binding:r,value:s})})};QueryEngine.prototype.applyOrderBy=function(r,e,i,n,s){var a=this;var o=[];if(r!=null&&r.length>0){y.eachSeries(e,function(e,t){a.applySingleOrderBy(r,e,i,n,function(e){o.push(e);t()})},function(){o.sort(function(e,t){return a.compareFilteredBindings(e,t,r,n)});var e=[];for(var t=0;t<o.length;t++){e.push(o[t].binding)}s(e)})}else{s(e)}};QueryEngine.prototype.compareFilteredBindings=function(e,t,r,i){var n=false;var s=0;while(!n){if(s==e.value.length){return 0}var a=r[s].direction;var o;if(e.value[s]==null&&t.value[s]==null){s++;continue}else if(e.value[s]==null){o={value:false}}else if(t.value[s]==null){o={value:true}}else if(e.value[s].token==="blank"&&t.value[s].token==="blank"){s++;continue}else if(e.value[s].token==="blank"){o={value:false}}else if(t.value[s].token==="blank"){o={value:true}}else if(e.value[s].token==="uri"&&t.value[s].token==="uri"){if(v.runEqualityFunction(e.value[s],t.value[s],[],this,i).value==true){s++;continue}else{o=v.runTotalGtFunction(e.value[s],t.value[s],[])}}else if(e.value[s].token==="uri"){o={value:false}}else if(t.value[s].token==="uri"){o={value:true}}else if(e.value[s].token==="literal"&&t.value[s].token==="literal"&&e.value[s].type==null&&t.value[s].type==null){if(v.runEqualityFunction(e.value[s],t.value[s],[],this,i).value==true){s++;continue}else{o=v.runTotalGtFunction(e.value[s],t.value[s],[])}}else if(e.value[s].token==="literal"&&e.value[s].type==null){o={value:false}}else if(t.value[s].token==="literal"&&t.value[s].type==null){o={value:true}}else if(v.runEqualityFunction(e.value[s],t.value[s],[],this,i).value==true){s++;continue}else{o=v.runTotalGtFunction(e.value[s],t.value[s],[])}if(o.value==true){if(a==="ASC"){return 1}else{return-1}}else{if(a==="ASC"){return-1}else{return 1}}}};QueryEngine.prototype.removeDefaultGraphBindings=function(e,t){var r=[];var i={};for(var n=0;n<t.named.length;n++){i[t.named[n].oid]=true}for(n=0;n<t.implicit.length;n++){if(i[t.implicit[n].oid]==null){r.push(t.implicit[n].oid)}}var s=[];for(n=0;n<e.length;n++){var a=e[n];var o=false;for(var l in a){for(var u=0;u<i.length;u++){if(a[l]===i[u]){o=true;break}}if(o){break}}if(!o){s.push(a)}}return s};QueryEngine.prototype.aggregateBindings=function(n,e,s,a,o){this.copyDenormalizedBindings(e,a.outCache,function(e){var t={};for(var r=0;r<n.length;r++){var i=v.runAggregator(n[r],e,this,s,a);if(n[r].alias){t[n[r].alias.value]=i}else{t[n[r].value.value]=i}}o(t)})};QueryEngine.prototype.projectBindings=function(e,t,r){if(e[0].kind==="*"){return t}else{var i=[];for(var n=0;n<t.length;n++){var s=t[n];var a={};var o=true;for(var l=0;l<e.length;l++){if(e[l].token=="variable"&&e[l].kind!="aliased"){a[e[l].value.value]=s[e[l].value.value]}else if(e[l].token=="variable"&&e[l].kind=="aliased"){var u=v.runFilter(e[l].expression,s,this,r,{blanks:{},outCache:{}});if(v.isEbvError(u)){o=false;break}else{a[e[l].alias.value]=u}}}if(o===true){i.push(a)}}return i}};QueryEngine.prototype.resolveNsInEnvironment=function(e,t){var r=t.namespaces;return r[e]};QueryEngine.prototype.normalizeTerm=function(e,t,r,i){if(e.token==="uri"){var n=f.lexicalFormBaseUri(e,t);if(n==null){i(null)}else{if(r){this.lexicon.registerUri(n,i)}else{this.lexicon.resolveUri(n,i)}}}else if(e.token==="literal"){var s=f.lexicalFormLiteral(e,t);if(r){this.lexicon.registerLiteral(s,i)}else{this.lexicon.resolveLiteral(s,i)}}else if(e.token==="blank"){var a=e.value;var o=t.blanks[a];if(o!=null){i(o)}else{if(r){this.lexicon.registerBlank(function(e){t.blanks[a]=e;i(e)})}else{this.lexicon.resolveBlank(function(e){t.blanks[a]=e;i(e)})}}}else if(e.token==="var"){i(e.value)}else{i(null)}};QueryEngine.prototype.normalizeDatasets=function(e,i,t){var n=this;y.eachSeries(e,function(t,r){if(t.value===n.lexicon.defaultGraphUri){t.oid=n.lexicon.defaultGraphOid;r()}else{n.normalizeTerm(t,i,false,function(e){if(e!=null){t.oid=e}r()})}},function(){t(true)})};QueryEngine.prototype.normalizeQuad=function(i,e,n,t){var r=null;var s=null;var a=null;var o=null;var l=this;var u=false;y.seq(function(t){if(i.graph==null||i.graph.value===l.lexicon.defaultGraphUri){o=0;t()}else{var r=f.lexicalFormBaseUri(i.graph,e);l.normalizeTerm(i.graph,e,n,function(e){if(e!=null){o=e;if(n===true&&i.graph.token!="var"){l.lexicon.registerGraph(e,r,function(){t()})}else{t()}}else{u=true;t()}})}},function(t){if(u===false){l.normalizeTerm(i.subject,e,n,function(e){if(e!=null){r=e;t()}else{u=true;t()}})}else{t()}},function(t){if(u===false){l.normalizeTerm(i.predicate,e,n,function(e){if(e!=null){s=e;t()}else{u=true;t()}})}else{t()}},function(t){if(u===false){l.normalizeTerm(i.object,e,n,function(e){if(e!=null){a=e;t()}else{u=true;t()}})}else{t()}})(function(){if(u===true){t(null)}else{t({subject:r,predicate:s,object:a,graph:o})}})};QueryEngine.prototype.denormalizeBindingsList=function(e,r,t){var i=this;var n=[];y.eachSeries(e,function(e,t){i.denormalizeBindings(e,r,function(e){n.push(e);t()})},function(){t(n)})};QueryEngine.prototype.copyDenormalizedBindings=function(e,a,t){var o=this;var r=[];y.eachSeries(e,function(n,e){var s={};var t=l.keys(n);y.eachSeries(t,function(t,r){var i=n[t];if(i==null){s[t]=null;r()}else if(typeof i==="object"){s[t]=i;r()}else{var e=a[i];if(e!=null){s[t]=e;r()}else{o.lexicon.retrieve(i,function(e){a[i]=e;s[t]=e;r()})}}},function(){r.push(s);e()})},function(){t(r)})};QueryEngine.prototype.denormalizeBindings=function(n,s,e){var t=l.keys(n);var a=s.outCache;var o=this;y.eachSeries(t,function(t,r){var i=n[t];if(i==null){n[t]=null;r()}else if(typeof i==="object"){r()}else{if(a[i]!=null){n[t]=a[i];r()}else{o.lexicon.retrieve(i,function(e){n[t]=e;if(e.token==="blank")s.blanks[e.value]=i;r()})}}},function(){e(n)})};QueryEngine.prototype.execute=function(e,r,t,i){e=f.normalizeUnicodeLiterals(e);var n=this.abstractQueryTree.parseQueryString(e);if(n==null){r(false,"Error parsing query string")}else{if(n.token==="query"&&n.kind=="update"){this.callbacksBackend.startGraphModification();var s=this;this.executeUpdate(n,function(e,t){if(s.lexicon.updateAfterWrite)s.lexicon.updateAfterWrite();if(e){s.callbacksBackend.cancelGraphModification();r(e,t)}else{s.callbacksBackend.endGraphModification(function(){r(e,t)})}})}else if(n.token==="query"&&n.kind=="query"){this.executeQuery(n,r,t,i)}}};QueryEngine.prototype.executeQuery=function(e,v,t,r){var i=e.prologue;var n=e.units;var y=this;var g={blanks:{},outCache:{}};this.registerNsInEnvironment(i,g);var b=y.abstractQueryTree.parseExecutableUnit(n[0]);if(b.kind==="select"){this.executeSelect(b,g,t,r,function(e,t){if(e==null){if(typeof t==="object"&&t.denorm===true){v(null,t["bindings"])}else{y.denormalizeBindingsList(t,g,function(e){v(null,e)})}}else{v(e)}})}else if(b.kind==="ask"){b.projection=[{token:"variable",kind:"*"}];this.executeSelect(b,g,t,r,function(e,t){if(e==null){if(t.length>0){v(null,true)}else{v(null,false)}}else{v(e)}})}else if(b.kind==="construct"){b.projection=[{token:"variable",kind:"*"}];y=this;this.executeSelect(b,g,t,r,function(e,t){if(e==null){y.denormalizeBindingsList(t,g,function(e){if(e!=null){var t=new m.Graph;if(b.template==null){b.template={triplesContext:b.pattern}}var r=1;var i=[];for(var n=0;n<e.length;n++){var s=e[n];for(var a=0;a<i.length;a++)delete i[a].valuetmp;for(var a=0;a<b.template.triplesContext.length;a++){var o=["subject","predicate","object"];var l=b.template.triplesContext[a];for(var u=0;u<o.length;u++){var f=o[u];if(l[f].token==="blank"){if(l[f].valuetmp&&l[f].valuetmp!=null){}else{var c="_:b"+r;r++;l[f].valuetmp=c;i.push(l[f])}}}var p=m.buildRDFResource(l.subject,s,y,g);var u=m.buildRDFResource(l.predicate,s,y,g);var h=m.buildRDFResource(l.object,s,y,g);if(p!=null&&u!=null&&h!=null){var d=new m.Triple(p,u,h);t.add(d)}}}v(null,t)}else{v(new Error("Error denormalizing bindings."))}})}else{v(e)}})}};QueryEngine.prototype.executeSelect=function(i,n,e,t,s){if(i.kind==="select"||i.kind==="ask"||i.kind==="construct"||i.kind==="modify"){var a=i.projection;var o=i.dataset;var l=i.modifier;var u=i.limit;var f=i.offset;var c=i.order;var p=this;if(e!=null||t!=null){o.implicit=e||[];o.named=t||[]}if(o.implicit!=null&&o.implicit.length===0&&o.named!=null&&o.named.length===0){o.implicit.push(this.lexicon.defaultGraphUriTerm)}p.normalizeDatasets(o.implicit.concat(o.named),n,function(){try{p.executeSelectUnit(a,o,i.pattern,n,function(e){if(e!=null){if(i.group!=null&&i.group===""){var t=false;for(var r=0;r<i.projection.length;r++){if(i.projection[r].expression!=null&&i.projection[r].expression.expressionType==="aggregate"){t=true;break}}if(t===true){i.group="singleGroup"}}if(i.group&&i.group!=""){if(p.checkGroupSemantics(i.group,a)){p.groupSolution(e,i.group,o,n,function(e){var r=[];y.eachSeries(e,function(e,t){p.aggregateBindings(a,e,o,n,function(e){r.push(e);t()})},function(){s(null,{bindings:r,denorm:true})})})}else{s(new Error("Incompatible Group and Projection variables"))}}else{p.applyOrderBy(c,e,o,n,function(e){var t=p.projectBindings(a,e,o);var r=p.applyModifier(l,t);var i=p.applyLimitOffset(f,u,r);var n=p.removeDefaultGraphBindings(i,o);s(null,n)})}}else{s(new Error("Error executing SELECT query."))}})}catch(e){s(e)}})}else{s(new Error("Cannot execute "+i.kind+" query as a select query"))}};QueryEngine.prototype.groupSolution=function(e,t,o,l,f){var c=[];var p=[];var u=false;var h=this;if(t==="singleGroup"){f([e])}else{y.eachSeries(e,function(s,e){var a=true;y.eachSeries(t,function(r,i){var n=null;if(r.token==="var"){n=r.value;if(u==false){c.push(n)}i()}else if(r.token==="aliased_expression"){n=r.alias.value;if(u==false){c.push(n)}if(r.expression.primaryexpression==="var"){s[r.alias.value]=s[r.expression.value.value]}else{var e=h.copyDenormalizedBindings([s],l.outCache);var t=v.runFilter(r.expression,e[0],h,o,l);if(!v.isEbvError(t)){if(t.value!=null){t.value=""+t.value}s[r.alias.value]=t}else{a=false}}i()}else{h.copyDenormalizedBindings([s],l.outCache,function(e){var t=v.runFilter(r,e[0],h,l);if(!v.isEbvError(t)){s["groupCondition"+env._i]=t;n="groupCondition"+env._i;if(u==false){c.push(n)}}else{a=false}i()})}},function(){if(u==false){u=true}if(a===true){p.push(s)}e()})},function(){var e={};var t={};var r=0;for(var i=0;i<p.length;i++){var n=p[i];var s="";for(var a=0;a<c.length;a++){var o=n[c[a]];if(typeof o==="object"){s=s+o.value}else{s=s+o}}if(e[s]==null){t[s]=r;e[s]=[n]}else{e[s].push(n)}}var l=[];for(var u in e){l.push(e[u])}f(l)})}};QueryEngine.prototype.executeSelectUnit=function(e,t,r,i,n){if(r.kind==="BGP"){this.executeAndBGP(e,t,r,i,n)}else if(r.kind==="UNION"){this.executeUNION(e,t,r.value,i,n)}else if(r.kind==="JOIN"){this.executeJOIN(e,t,r,i,n)}else if(r.kind==="LEFT_JOIN"){this.executeLEFT_JOIN(e,t,r,i,n)}else if(r.kind==="FILTER"){var s=this;this.executeSelectUnit(e,t,r.value,i,function(e){if(e!=null){v.checkFilters(r,e,false,t,i,s,n)}else{n([])}})}else if(r.kind==="EMPTY_PATTERN"){n([])}else{throw new a(r.kind)}};QueryEngine.prototype.executeUNION=function(e,r,i,n,s){var a=i[0];var o=i[1];var l=null;var u,f;if(i.length!=2){throw"SPARQL algebra UNION with more than two components"}var c=this;y.seq(function(t){try{c.executeSelectUnit(e,r,a,n,function(e){u=e;t()})}catch(e){l=e;t()}},function(t){if(l==null){try{c.executeSelectUnit(e,r,o,n,function(e){f=e;t()})}catch(e){l=e;t()}}else{t()}})(function(){if(l!=null){s(l)}else{var e=d.unionBindings(u,f);c.runBinds(i.binds,e,r,n,function(e,t){if(e!=null){throw new g("Error processing bind expressions",i.binds,e)}else{v.checkFilters(i,t,false,r,n,c,s)}})}})};QueryEngine.prototype.executeAndBGP=function(e,r,i,n,s){var a=this;d.executeAndBGPsDPSize(i.value,r,this,n,function(e){if(e!=null){a.runBinds(i.binds,e,r,n,function(e,t){if(e!=null){throw new g("Error processing bind expressions",i.binds,e)}else{v.checkFilters(i,t,false,r,n,a,s)}})}else{s(null)}})};QueryEngine.prototype.executeLEFT_JOIN=function(e,i,n,s,l){var r=n.lvalue;var a=n.rvalue;if(r.kind==="EMPTY_PATTERN"){this.executeSelectUnit(e,i,a,s,l)}else{var u=null;var f=null;var o=null;var c=this;var p,h;y.seq(function(t){try{c.executeSelectUnit(e,i,r,s,function(e){u=e;t()})}catch(e){o=e;t()}},function(t){if(o!=null){t()}else{try{c.executeSelectUnit(e,i,a,s,function(e){f=e;t()})}catch(e){o=e;t()}}})(function(){if(o!=null){l(o)}else{var r=d.leftOuterJoinBindings(u,f);c.runBinds(n.binds,r,i,s,function(e,t){if(e!=null){throw new g("Error processing bind expressions",n.binds,e)}else{v.checkFilters(n,r,true,i,s,c,function(e){if(u.length>1&&f.length>1){var t=[];var r={};for(var i in u[0]){r[i]=true}for(i in f[0]){if(r[i]!=true){t.push(i)}}p=[];h={};for(var n=0;n<e.length;n++){if(e[n]["__nullify__"]===true){for(var s=0;s<t.length;s++){e[n]["bindings"][t[s]]=null}var a=[];var o=[];for(var i in e[n]["bindings"]){if(e[n]["bindings"][i]!=null){a.push(i+e[n]["bindings"][i]);a.sort();o.push(a.join(""))}}if(h[a.join("")]==null){for(s=0;s<o.length;s++){h[o[s]]=true}p.push(e[n]["bindings"])}}else{p.push(e[n]);var a=[];var o=[];for(var i in e[n]){a.push(i+e[n][i]);a.sort();h[a.join("")]=true}}}l(p)}else{l(e)}})}})}})}};QueryEngine.prototype.executeJOIN=function(e,n,s,a,o){var l=s.lvalue;var u=s.rvalue;var f=null;var c=null;var p=null;var h=this;y.seq(function(t){try{h.executeSelectUnit(e,n,l,a,function(e){f=e;t()})}catch(e){p=e;t()}},function(t){if(p!=null){t()}else{try{h.executeSelectUnit(e,n,u,a,function(e){c=e;t()})}catch(e){p=e;t()}}})(function(){var e=null;if(p!=null){o(p)}else if(f.length===0||c.length===0){o([])}else{var t={};var r=[];for(var i in f[0])t[i]=false;for(var i in c[0]){if(t[i]===false)r.push(i)}if(r.length==0){e=d.joinBindings(f,c)}else if(h.abstractQueryTree.treeWithUnion(l)||h.abstractQueryTree.treeWithUnion(u)){e=d.joinBindings(f,c)}else{e=d.joinBindings2(r,f,c)}h.runBinds(s.binds,e,n,a,function(e,t){if(e!=null){throw new g("Error processing bind expressions",s.binds,e)}else{v.checkFilters(s,t,false,n,a,h,o)}})}})};QueryEngine.prototype.rangeQuery=function(e,t,r){var i=this;i.normalizeQuad(e,t,false,function(e){if(e!=null){i.backend.range(new u.Pattern(e),function(e){if(e==null||e.length==0){r([])}else{r(e)}})}else{r(null)}})};QueryEngine.prototype.executeUpdate=function(e,r){var t=e.prologue;var i=e.units;var n=this;var s={blanks:{},outCache:{}};this.registerNsInEnvironment(t,s);for(var a=0;a<i.length;a++){var o=n.abstractQueryTree.parseExecutableUnit(i[a]);if(o.kind==="insertdata"){var l=null;y.eachSeries(o.quads,function(e,t){if(l===null){n._executeQuadInsert(e,s,function(e){if(e!=null)l=e;t()})}else{t()}},function(){if(l===null)r(null,true);else r(l)})}else if(o.kind==="deletedata"){var l=null;y.eachSeries(o.quads,function(e,t){if(l===null){n._executeQuadDelete(e,s,function(e){if(e!=null)l=e;t()})}else{t()}},function(){if(l===null)r(null,true);else r(l)})}else if(o.kind==="modify"){this._executeModifyQuery(o,s,r)}else if(o.kind==="create"){r(true)}else if(o.kind==="load"){var u={uri:f.lexicalFormBaseUri(o.sourceGraph,s)};if(o.destinyGraph!=null){u={uri:f.lexicalFormBaseUri(o.destinyGraph,s)}}var n=this;this.rdfLoader.load(o.sourceGraph.value,u,function(e,t){if(e){r(new Error("error batch loading quads"))}else{n.batchLoad(t,function(e){if(e!==null){r(null,e)}else{r(new Error("Error batch loading quads"))}})}})}else if(o.kind==="drop"){this._executeClearGraph(o.destinyGraph,s,r)}else if(o.kind==="clear"){this._executeClearGraph(o.destinyGraph,s,r)}else{throw new Error("not supported execution unit")}}};QueryEngine.prototype.batchLoad=function(e,t){var a=0;var o={};var l=this;if(this.eventsOnBatchLoad)this.callbacksBackend.startGraphModification();var r=function(r,i,n,s){var e,t,r;if(r[i]["uri"]||r[i].token==="uri"){var a=r[i].uri||r[i].value;l.lexicon.registerUri(a,function(e){var t=function(){if(r[i].uri!=null){r[i]={token:"uri",value:r[i].uri};delete r[i]["uri"]}n[i]=e;s()};if(i==="graph"){l.lexicon.registerGraph(e,a,function(){t()})}else{t()}})}else if(r[i]["literal"]||r[i].token==="literal"){l.lexicon.registerLiteral(r[i].literal||r[i].value,function(e){if(r[i].literal!=null){r[i]=l.lexicon.parseLiteral(r[i].literal);delete r[i]["literal"]}n[i]=e;s()})}else{e=o[r[i].blank||r[i].value];if(e==null){l.lexicon.registerBlank(function(e){o[r[i].blank||r[i].value]=e;if(r[i].token==null){r[i].token="blank";r[i].value=r[i].blank;delete r[i]["blank"]}n[i]=e;s()})}else{if(r[i].token==null){r[i].token="blank";r[i].value=r[i].blank;delete r[i]["blank"]}n[i]=e;s()}}};y.eachSeries(e,function(i,n){var s={};y.eachSeries(["subject","predicate","object","graph"],function(e,t){r(i,e,s,t)},function(){var t=i;i=s;var r=new u.NodeKey(i);l.backend.search(r,function(e){if(!e){l.backend.index(r,function(e){if(e){if(l.eventsOnBatchLoad)l.callbacksBackend.nextGraphModification(c.added,[t,i]);a=a+1}n()})}else{n()}})})},function(){if(l.lexicon.updateAfterWrite!=null)l.lexicon.updateAfterWrite();var e=function(){t(a)};if(l.eventsOnBatchLoad){l.callbacksBackend.endGraphModification(e())}else{e()}})};QueryEngine.prototype._executeModifyQuery=function(f,c,e){var p=this;var h=true;var s=new Error("Error executing modify query");var d=null;var v=["subject","predicate","object","graph"];f.insert=f.insert==null?[]:f.insert;f.delete=f.delete==null?[]:f.delete;y.seq(function(r){var e=[];var t=[];if(f.with!=null){e.push(f.with)}if(f.using!=null){t=[];for(var i=0;i<f.using.length;i++){var n=f.using[i];if(n.kind==="named"){t.push(n.uri)}else{e.push(n.uri)}}}f.dataset={};f.projection=[{token:"variable",kind:"*"}];p.executeSelect(f,c,e,t,function(e,t){if(e){s=e;h=false;return r()}else{p.denormalizeBindingsList(t,c,function(e){if(e!=null){d=e}else{s=new Error("Error denormalizing bindings list");h=false}r()})}})},function(e){var t=f.with;if(h){var r=[];for(var i=0;i<f.delete.length;i++){var n=f.delete[i];for(var s=0;s<d.length;s++){var a={};var o=d[s];for(var l=0;l<v.length;l++){var u=v[l];if(u=="graph"&&n[u]==null){a["graph"]=t}else if(n[u].token==="var"){a[u]=o[n[u].value]}else{a[u]=n[u]}}r.push(a)}}y.eachSeries(r,function(e,t){p._executeQuadDelete(e,c,function(){t()})},function(){e()})}else{e()}},function(e){var t=f.with;if(h){var r=[];for(var i=0;i<f.insert.length;i++){var n=f.insert[i];for(var s=0;s<d.length;s++){var a={};var o=d[s];for(var l=0;l<v.length;l++){var u=v[l];if(u=="graph"&&n[u]==null){a["graph"]=t}else if(n[u].token==="var"){a[u]=o[n[u].value]}else{a[u]=n[u]}}r.push(a)}}y.eachSeries(r,function(e,t){p._executeQuadInsert(e,c,function(){t()})},function(){e()})}else{e()}})(function(){if(h)e(null);else e(s)})};QueryEngine.prototype._executeQuadInsert=function(i,e,t){var n=this;var s;var a=false;var r=null;y.seq(function(t){n.normalizeQuad(i,e,true,function(e){if(e!=null){s=e}else{a=true;r="Error normalizing quad."}t()})},function(t){if(a===false){var r=new u.NodeKey(s);n.backend.search(r,function(e){if(e===true){t()}else{n.backend.index(r,function(){n.callbacksBackend.nextGraphModification(c.added,[i,s]);t()})}})}else{t()}})(function(){if(a){t(new Error(r))}else{t(null,true)}})};QueryEngine.prototype._executeQuadDelete=function(r,e,t){var i=this;var n;var s=false;var a,o;y.seq(function(t){i.normalizeQuad(r,e,true,function(e){if(e!=null){n=e}else{s=true;a="Error normalizing quad."}t()})},function(e){if(s===false){o=new u.NodeKey(n);i.backend.delete(o,function(){e()})}else{e()}},function(e){if(s===false){i.lexicon.unregister(r,o,function(){i.callbacksBackend.nextGraphModification(c["deleted"],[r,n]);e()})}else{e()}})(function(){if(s){t(new Error(a))}else{t(null,true)}})};QueryEngine.prototype._executeClearGraph=function(e,t,r){var s=this;if(e==="default"){this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",r)}else if(e==="named"){s.lexicon.registeredGraphs(true,function(e){if(e!=null){var n=false;y.eachSeries(e,function(r,i){if(!n){s.execute("DELETE { GRAPH <"+r+"> { ?s ?p ?o } } WHERE { GRAPH <"+r+"> { ?s ?p ?o } }",function(e,t){if(!e){s.lexicon.resolveUri(r,function(e){if(e!=-1){s.lexicon.knownGraphs.delete(e,function(){i()})}else{n="Cannot find graph "+r+" to clear it";i()}})}else{n=e;i()}})}else{i()}},function(){r(!n)})}else{r(false,"Error deleting named graphs")}})}else if(e==="all"){var s=this;this.execute("CLEAR DEFAULT",function(e,t){if(!e){s.execute("CLEAR NAMED",r)}else{r(false,t)}})}else{if(e.token=="uri"){var i=f.lexicalFormBaseUri(e,t);if(i!=null){this.callbacksBackend.ongoingModification=true;this.execute("DELETE { GRAPH <"+i+"> { ?s ?p ?o } } WHERE { GRAPH <"+i+"> { ?s ?p ?o } }",function(e){s.callbacksBackend.ongoingModification=false;r(e)})}else{r(false,"wrong graph URI")}}else{r(false,"wrong graph URI")}}};QueryEngine.prototype.checkGroupSemantics=function(e,t){if(e==="singleGroup"){return true}var r={};for(var i=0;i<e.length;i++){var n=e[i];if(n.token==="var"){r[n.value]=true}else if(n.token==="aliased_expression"){r[n.alias.value]=true}}for(i=0;i<t.length;i++){var s=t[i];if(s.kind==="var"){if(r[s.value.value]==null){return false}}else if(s.kind==="aliased"&&s.expression&&s.expression.primaryexpression==="var"){if(r[s.expression.value.value]==null){return false}}}return true};QueryEngine.prototype.runBinds=function(a,o,l,u,f){var c=this;var p=o;if(a!=null&&a.length>0){c.copyDenormalizedBindings(o,u.outCache,function(e){for(var t=0;t<o.length;t++){for(var r=0;r<a.length;r++){var i=a[r];var n=e[t];var s=v.runFilter(i.expression,n,c,l,u);if(v.isEbvError(s)){f(s)}else{p[t][i.as.value]=s}}}f(null,o)})}else{f(null,o)}};QueryEngine.prototype.computeCosts=function(e,t,r){for(var i=0;i<e.length;i++){e[i]["_cost"]=this.quadCost(e[i],t)}r(e)};QueryEngine.prototype.quadCost=function(e,t){return 1};QueryEngine.prototype.registerDefaultNamespace=function(e,t){this.defaultPrefixes[e]=t};t.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":138,"./graph_callbacks":140,"./quad_index":148,"./query_filters":150,"./query_plan":151,"./rdf_loader":152,"./rdf_model":153,"./utils":156}],150:[function(e,t,r){var v=e("./utils");var c=v;var p=e("./utils");QueryFilters={};var y="http://www.w3.org/2001/XMLSchema#";QueryFilters.checkFilters=function(e,s,t,r,i,a,n){var o=[];if(e.filter&&typeof e.filter!=="function")o=e.filter;var l=[];if(o==null||o.length===0||e.length!=null){return n(s)}QueryFilters.preprocessExistentialFilters(o,s,a,r,i,function(e){p.eachSeries(e,function(e,n){QueryFilters.run(e.value,s,t,r,i,a,function(e){var t=[];for(var r=0;r<e.length;r++){var i=e[r];if(i["__nullify__"]!=null){l.push(i)}else{t.push(i)}}s=t;n()})},function(){n(s.concat(l))})})};QueryFilters.preprocessExistentialFilters=function(e,n,l,u,f,t){var s=[];p.eachSeries(e,function(t,r){if(t.value.expressionType==="builtincall"&&(t.value.builtincall==="exists"||t.value.builtincall==="notexists")){var a=t.value.builtincall;var i=t.value.args;var o={};l.copyDenormalizedBindings(n,f.outCache,function(e){p.eachSeries(e,function(n,s){var e=c.clone(i[0],true);var t=l.abstractQueryTree.parseSelect({pattern:e},n);t=l.abstractQueryTree.bind(t.pattern,n);l.executeSelectUnit([{kind:"*"}],u,t,f,function(e){var t=null;if(a==="exists"){t=QueryFilters.ebvBoolean(e.length!==0)}else{t=QueryFilters.ebvBoolean(e.length===0)}var r=[];for(var i in n){r.push(JSON.stringify(n[i]))}r=r.sort().join("");o[r]=t;s()})},function(){t.value.origArgs=t.value.args;t.value.args=o;s.push(t);r()})})}else if(t.value.expressionType==="conditionalor"||t.value.expressionType==="conditionaland"){var e=c.map(t.value.operands,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(e,n,l,u,f,function(e){t.value.operands=e.map(function(e){return e.value});s.push(t);r()})}else if(t.value.expressionType==="multiplicativeexpression"){var e=c.map(t.value.factors,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(e,n,l,u,f,function(e){t.value.factors=e.map(function(e){return e.value});s.push(t);r()})}else if(t.value.expressionType==="additiveexpression"){var e=c.map(t.value.summands,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(e,n,l,u,f,function(e){t.value.summands=e.map(function(e){return e.value});s.push(t);r()})}else if(t.value.expressionType==="relationalexpression"){var e=[{value:t.value.op1},{value:t.value.op2}];QueryFilters.preprocessExistentialFilters(e,n,l,u,f,function(e){t.value.op1=e[0].value;t.value.op2=e[1].value;s.push(t);r()})}else if(t.value.expressionType==="irireforfunction"||t.value.expressionType==="custom"){if(t.value.args!=null){var e=c.map(t.value.args,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(e,n,l,u,f,function(e){t.value.args=e.map(function(e){return e.value});s.push(t);r()})}else{s.push(t);r()}}else{s.push(t);r()}},function(){t(s)})};QueryFilters.boundVars=function(e){if(e.expressionType!=null){var t=e.expressionType;if(t=="relationalexpression"){var r=e.op1;var i=e.op2;return QueryFilters.boundVars(r)+QueryFilters.boundVars(i)}else if(t=="conditionalor"||t=="conditionaland"){var n=[];for(var s=0;s<e.operands;s++){n=n.concat(QueryFilters.boundVars(e.operands[s]))}return n}else if(t=="builtincall"){if(e.args==null){return[]}else{var a=[];for(var s=0;s<e.args.length;s++){a=a.concat(QueryFilters.boundVars(e.args[s]))}return a}}else if(t=="multiplicativeexpression"){var a=QueryFilters.boundVars(e.factor);for(var s=0;s<e.factors.length;s++){a=a.concat(QueryFilters.boundVars(e.factors[s].expression))}return a}else if(t=="additiveexpression"){var a=QueryFilters.boundVars(e.summand);for(var s=0;s<e.summands.length;s++){a=a.concat(QueryFilters.boundVars(e.summands[s].expression))}return a}else if(t=="regex"){var a=QueryFilters.boundVars(e.expression1);return a.concat(QueryFilters.boundVars(e.expression2))}else if(t=="unaryexpression"){return QueryFilters.boundVars(e.expression)}else if(t=="atomic"){if(e.primaryexpression=="var"){return[e.value]}else{return[]}}}else{throw"Cannot find bound expressions in a no expression token"}};QueryFilters.run=function(a,o,l,u,f,c,p){c.copyDenormalizedBindings(o,f.outCache,function(e){var t=[];for(var r=0;r<o.length;r++){var i=e[r];var n=QueryFilters.runFilter(a,i,c,u,f);var n=QueryFilters.ebv(n);if(QueryFilters.isEbvError(n)){if(l){var s={__nullify__:true,bindings:o[r]};t.push(s)}}else if(n===true){t.push(o[r])}else{if(l){var s={__nullify__:true,bindings:o[r]};t.push(s)}}}p(t)})};QueryFilters.collect=function(s,a,o,l,u,f){u.copyDenormalizedBindings(a,l.outCache,function(e){var t=[];for(var r=0;r<e.length;r++){var i=e[r];var n=QueryFilters.runFilter(s,i,u,o,l);t.push({binding:a[r],value:n})}return f(t)})};QueryFilters.runDistinct=function(e,t){};QueryFilters.runAggregator=function(e,t,r,i,n){if(t==null||t.length===0){return QueryFilters.ebvError()}else if(e.token==="variable"&&e.kind=="var"){return t[0][e.value.value]}else if(e.token==="variable"&&e.kind==="aliased"){if(e.expression.expressionType==="atomic"&&e.expression.primaryexpression==="var"){return t[0][e.expression.value.value]}else if(e.expression.expressionType==="aggregate"){if(e.expression.aggregateType==="max"){var s=null;for(var a=0;a<t.length;a++){var o=t[a];var l=QueryFilters.runFilter(e.expression.expression,o,r,i,n);if(!QueryFilters.isEbvError(l)){if(s===null){s=l}else{if(QueryFilters.runLtFunction(s,l).value===true){s=l}}}}if(s===null){return QueryFilters.ebvError()}else{return s}}else if(e.expression.aggregateType==="min"){var u=null;for(var a=0;a<t.length;a++){var o=t[a];var l=QueryFilters.runFilter(e.expression.expression,o,r,i,n);if(!QueryFilters.isEbvError(l)){if(u===null){u=l}else{if(QueryFilters.runGtFunction(u,l).value===true){u=l}}}}if(u===null){return QueryFilters.ebvError()}else{return u}}else if(e.expression.aggregateType==="count"){var f={};var c=0;if(e.expression.expression==="*"){if(e.expression.distinct!=null&&e.expression.distinct!=""){for(var a=0;a<t.length;a++){var o=t[a];var p=v.hashTerm(o);if(f[p]==null){f[p]=true;c++}}}else{c=t.length}}else{for(var a=0;a<t.length;a++){var o=t[a];var l=QueryFilters.runFilter(e.expression.expression,o,r,i,n);if(!QueryFilters.isEbvError(l)){if(e.expression.distinct!=null&&e.expression.distinct!=""){var p=v.hashTerm(l);if(f[p]==null){f[p]=true;c++}}else{c++}}}}return{token:"literal",type:y+"integer",value:""+c}}else if(e.expression.aggregateType==="avg"){var f={};var h={token:"literal",type:y+"integer",value:"0"};var c=0;for(var a=0;a<t.length;a++){var o=t[a];var l=QueryFilters.runFilter(e.expression.expression,o,r,i,n);if(!QueryFilters.isEbvError(l)){if(e.expression.distinct!=null&&e.expression.distinct!=""){var p=v.hashTerm(l);if(f[p]==null){f[p]=true;if(QueryFilters.isNumeric(l)){h=QueryFilters.runSumFunction(h,l);c++}}}else{if(QueryFilters.isNumeric(l)){h=QueryFilters.runSumFunction(h,l);c++}}}}var d=QueryFilters.runDivFunction(h,{token:"literal",type:y+"integer",value:""+c});d.value=""+d.value;return d}else if(e.expression.aggregateType==="sum"){var f={};var h={token:"literal",type:y+"integer",value:"0"};for(var a=0;a<t.length;a++){var o=t[a];var l=QueryFilters.runFilter(e.expression.expression,o,r,i,n);if(!QueryFilters.isEbvError(l)){if(e.expression.distinct!=null&&e.expression.distinct!=""){var p=v.hashTerm(l);if(f[p]==null){f[p]=true;if(QueryFilters.isNumeric(l)){h=QueryFilters.runSumFunction(h,l)}}}else{if(QueryFilters.isNumeric(l)){h=QueryFilters.runSumFunction(h,l)}}}}h.value=""+h.value;return h}else{var l=QueryFilters.runFilter(aggregate.expression,t[0],i,{blanks:{},outCache:{}});return l}}}};QueryFilters.runFilter=function(e,t,r,i,n){if(e.expressionType!=null){var s=e.expressionType;if(s=="relationalexpression"){var a=QueryFilters.runFilter(e.op1,t,r,i,n);var o=QueryFilters.runFilter(e.op2,t,r,i,n);return QueryFilters.runRelationalFilter(e,a,o,t,r,i,n)}else if(s=="conditionalor"){return QueryFilters.runOrFunction(e,t,r,i,n)}else if(s=="conditionaland"){return QueryFilters.runAndFunction(e,t,r,i,n)}else if(s=="additiveexpression"){return QueryFilters.runAddition(e.summand,e.summands,t,r,i,n)}else if(s=="builtincall"){return QueryFilters.runBuiltInCall(e.builtincall,e.args,t,r,i,n)}else if(s=="multiplicativeexpression"){return QueryFilters.runMultiplication(e.factor,e.factors,t,r,i,n)}else if(s=="unaryexpression"){return QueryFilters.runUnaryExpression(e.unaryexpression,e.expression,t,r,i,n)}else if(s=="irireforfunction"){return QueryFilters.runIriRefOrFunction(e.iriref,e.args,t,r,i,n)}else if(s=="regex"){return QueryFilters.runRegex(e.text,e.pattern,e.flags,t,r,i,n)}else if(s=="custom"){return QueryFilters.runBuiltInCall(e.name,e.args,t,r,i,n)}else if(s=="atomic"){if(e.primaryexpression=="var"){return t[e.value.value]}else{if(typeof e.value!="object"){return e.value}else{if(e.value.type==null||typeof e.value.type!="object"){return e.value}else{e.value.type=v.lexicalFormBaseUri(e.value.type,n);return e.value}}}}else{throw"Unknown filter expression type"}}else{throw"Cannot find bound expressions in a no expression token"}};QueryFilters.isRDFTerm=function(e){if(e==null){return false}if(e.token&&e.token=="literal"||e.token&&e.token=="uri"||e.token&&e.token=="blank"){return true}else{return false}};QueryFilters.RDFTermEquality=function(e,t,r,i){if(e.token==="literal"&&t.token==="literal"){if(e.lang==t.lang&&e.type==t.type&&e.value==t.value){return true}else{if(e.type!=null&&t.type!=null){return QueryFilters.ebvError()}else if(QueryFilters.isSimpleLiteral(e)&&t.type!=null){return QueryFilters.ebvError()}else if(QueryFilters.isSimpleLiteral(t)&&e.type!=null){return QueryFilters.ebvError()}else{return false}}}else if(e.token==="uri"&&t.token==="uri"){return v.lexicalFormBaseUri(e,i)==v.lexicalFormBaseUri(t,i)}else if(e.token==="blank"&&t.token==="blank"){return e.value==t.value}else{return false}};QueryFilters.isInteger=function(e){if(e==null){return false}if(e.token==="literal"){if(e.type==y+"integer"||e.type==y+"decimal"||e.type==y+"double"||e.type==y+"nonPositiveInteger"||e.type==y+"negativeInteger"||e.type==y+"long"||e.type==y+"int"||e.type==y+"short"||e.type==y+"byte"||e.type==y+"nonNegativeInteger"||e.type==y+"unsignedLong"||e.type==y+"unsignedInt"||e.type==y+"unsignedShort"||e.type==y+"unsignedByte"||e.type==y+"positiveInteger"){return true}else{return false}}else{return false}};QueryFilters.isFloat=function(e){if(e==null){return false}if(e.token==="literal"){if(e.type==y+"float"){return true}else{return false}}else{return false}};QueryFilters.isDecimal=function(e){if(e==null){return false}if(e.token==="literal"){if(e.type==y+"decimal"){return true}else{return false}}else{return false}};QueryFilters.isDouble=function(e){if(e==null){return false}if(e.token==="literal"){if(e.type==y+"double"){return true}else{return false}}else{return false}};QueryFilters.isNumeric=function(e){if(e==null){return false}if(e.token==="literal"){if(e.type==y+"integer"||e.type==y+"decimal"||e.type==y+"float"||e.type==y+"double"||e.type==y+"nonPositiveInteger"||e.type==y+"negativeInteger"||e.type==y+"long"||e.type==y+"int"||e.type==y+"short"||e.type==y+"byte"||e.type==y+"nonNegativeInteger"||e.type==y+"unsignedLong"||e.type==y+"unsignedInt"||e.type==y+"unsignedShort"||e.type==y+"unsignedByte"||e.type==y+"positiveInteger"){return true}else{return false}}else{return false}};QueryFilters.isSimpleLiteral=function(e){if(e&&e.token=="literal"){if(e.type==null&&e.lang==null){return true}else{return false}}else{return false}};QueryFilters.isXsdType=function(e,t){if(t&&t.token=="literal"){return t.type==y+""+e}else{return false}};QueryFilters.ebv=function(e){if(e==null||QueryFilters.isEbvError(e)){return QueryFilters.ebvError()}else{if(e.token&&e.token==="literal"){if(e.type==y+"integer"||e.type==y+"decimal"||e.type==y+"double"||e.type==y+"nonPositiveInteger"||e.type==y+"negativeInteger"||e.type==y+"long"||e.type==y+"int"||e.type==y+"short"||e.type==y+"byte"||e.type==y+"nonNegativeInteger"||e.type==y+"unsignedLong"||e.type==y+"unsignedInt"||e.type==y+"unsignedShort"||e.type==y+"unsignedByte"||e.type==y+"positiveInteger"){var t=parseFloat(e.value);if(isNaN(t)){return false}else{return parseFloat(e.value)!=0}}else if(e.type===y+"boolean"){return e.value==="true"||e.value===true||e.value==="True"}else if(e.type===y+"string"){return e.value!=""}else if(e.type===y+"dateTime"){return new Date(e.value)!=null}else if(QueryFilters.isEbvError(e)){return e}else if(e.type==null){if(e.value!=""){return true}else{return false}}else{return QueryFilters.ebvError()}}else{return e.value===true}}};QueryFilters.effectiveBooleanValue=QueryFilters.ebv;QueryFilters.ebvTrue=function(){var e={token:"literal",type:y+"boolean",value:true};return e};QueryFilters.ebvFalse=function(){var e={token:"literal",type:y+"boolean",value:false};return e};QueryFilters.ebvError=function(){var e={token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null};return e};QueryFilters.isEbvError=function(e){if(typeof e=="object"&&e!=null){return e.type==="https://github.com/antoniogarrote/js-tools/types#error"}else{return false}};QueryFilters.ebvBoolean=function(e){if(QueryFilters.isEbvError(e)){return e}else{if(e===true){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}};QueryFilters.runRelationalFilter=function(e,t,r,i,n,s,a){var o=e.operator;if(o==="="){return QueryFilters.runEqualityFunction(t,r,i,n,s,a)}else if(o==="!="){var l=QueryFilters.runEqualityFunction(t,r,i,n,s,a);if(QueryFilters.isEbvError(l)){return l}else{l.value=!l.value;return l}}else if(o==="<"){return QueryFilters.runLtFunction(t,r,i)}else if(o===">"){return QueryFilters.runGtFunction(t,r,i)}else if(o==="<="){return QueryFilters.runLtEqFunction(t,r,i)}else if(o===">="){return QueryFilters.runGtEqFunction(t,r,i)}else{throw"Error applying relational filter, unknown operator"}};QueryFilters.effectiveTypeValue=function(e){if(e.token=="literal"){if(e.type==y+"integer"){var t=parseInt(e.value);return t}else if(e.type==y+"decimal"){var t=parseFloat(e.value);return t}else if(e.type==y+"float"){var t=parseFloat(e.value);return t}else if(e.type==y+"double"){var t=parseFloat(e.value);return t}else if(e.type==y+"nonPositiveInteger"){var t=parseFloat(e.value);return t}else if(e.type==y+"negativeInteger"){var t=parseInt(e.value);return t}else if(e.type==y+"long"){var t=parseInt(e.value);return t}else if(e.type==y+"int"){var t=parseInt(e.value);return t}else if(e.type==y+"short"){var t=parseInt(e.value);return t}else if(e.type==y+"byte"){var t=parseInt(e.value);return t}else if(e.type==y+"nonNegativeInteger"){var t=parseInt(e.value);return t}else if(e.type==y+"unsignedLong"){var t=parseInt(e.value);return t}else if(e.type==y+"unsignedInt"){var t=parseInt(e.value);return t}else if(e.type==y+"unsignedShort"){var t=parseInt(e.value);return t}else if(e.type==y+"unsignedByte"){var t=parseInt(e.value);return t}else if(e.type==y+"positiveInteger"){var t=parseInt(e.value);return t}else if(e.type==y+"date"||e.type==y+"dateTime"){try{var r=v.parseISO8601(e.value);return r}catch(e){return null}}else if(e.type==y+"boolean"){return e.value===true||e.value==="true"||e.value==="1"||e.value===1||e.value===true?true:e.value===false||e.value==="false"||e.value==="0"||e.value===0||e.value===false?false:undefined}else if(e.type==y+"string"){return e.value===null||e.value===undefined?undefined:""+e.value}else if(e.type==null){return e.value}else{return e.value}}else{console.log("not implemented yet");console.log(e);throw"value not supported in operations yet"}};QueryFilters.runOrFunction=function(e,t,r,i,n){var s=null;for(var a=0;a<e.operands.length;a++){var o=QueryFilters.runFilter(e.operands[a],t,r,i,n);if(QueryFilters.isEbvError(o)==false){o=QueryFilters.ebv(o)}if(s==null){s=o}else if(QueryFilters.isEbvError(o)){if(QueryFilters.isEbvError(s)){s=QueryFilters.ebvError()}else if(s===true){s=true}else{s=QueryFilters.ebvError()}}else if(o===true){s=true}else{if(QueryFilters.isEbvError(s)){s=QueryFilters.ebvError()}}}return QueryFilters.ebvBoolean(s)};QueryFilters.runAndFunction=function(e,t,r,i,n){var s=null;for(var a=0;a<e.operands.length;a++){var o=QueryFilters.runFilter(e.operands[a],t,r,i,n);if(QueryFilters.isEbvError(o)==false){o=QueryFilters.ebv(o)}if(s==null){s=o}else if(QueryFilters.isEbvError(o)){if(QueryFilters.isEbvError(s)){s=QueryFilters.ebvError()}else if(s===true){s=QueryFilters.ebvError()}else{s=false}}else if(o===true){if(QueryFilters.isEbvError(s)){s=QueryFilters.ebvError()}}else{s=false}}return QueryFilters.ebvBoolean(s)};QueryFilters.runEqualityFunction=function(e,t,r,i,n,s){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)){var a=QueryFilters.effectiveTypeValue(e);var o=QueryFilters.effectiveTypeValue(t);if(isNaN(a)||isNaN(o)){return QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(e,t,i,s))}else{return QueryFilters.ebvBoolean(a==o)}}else if((QueryFilters.isSimpleLiteral(e)||QueryFilters.isXsdType("string",e))&&(QueryFilters.isSimpleLiteral(t)||QueryFilters.isXsdType("string",t))){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)==QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)==QueryFilters.effectiveTypeValue(t))}else if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t)){return QueryFilters.ebvFalse()}if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t)){return QueryFilters.ebvFalse()}var l=v.compareDateComponents(e.value,t.value);if(l!=null){if(l==0){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else{return QueryFilters.ebvError()}}else if(QueryFilters.isRDFTerm(e)&&QueryFilters.isRDFTerm(t)){return QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(e,t,i,s))}else{return QueryFilters.ebvFalse()}};QueryFilters.runGtFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t))}else if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t)){return QueryFilters.ebvFalse()}if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t)){return QueryFilters.ebvFalse()}var i=v.compareDateComponents(e.value,t.value);if(i!=null){if(i==1){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvFalse()}};QueryFilters.runTotalGtFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)||QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t)||QueryFilters.isXsdType("string",e)&&QueryFilters.isSimpleLiteral("string",t)||QueryFilters.isXsdType("boolean",e)&&QueryFilters.isSimpleLiteral("boolean",t)||QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isSimpleLiteral("dateTime",t)){return QueryFilters.runGtFunction(e,t,[])}else if(e.token&&e.token==="uri"&&t.token&&t.token==="uri"){return QueryFilters.ebvBoolean(e.value>t.value)}else if(e.token&&e.token==="literal"&&t.token&&t.token==="literal"){return QueryFilters.ebvBoolean(""+e.value+e.type+e.lang>""+t.value+t.type+t.lang)}else if(e.token&&e.token==="blank"&&t.token&&t.token==="blank"){return QueryFilters.ebvBoolean(e.value>t.value)}else if(e.value&&t.value){return QueryFilters.ebvBoolean(e.value>t.value)}else{return QueryFilters.ebvTrue()}};QueryFilters.runLtFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t))}else if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t)){return QueryFilters.ebvFalse()}if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t)){return QueryFilters.ebvFalse()}var i=v.compareDateComponents(e.value,t.value);if(i!=null){if(i==-1){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvFalse()}};QueryFilters.runGtEqFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t))}else if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t)){return QueryFilters.ebvFalse()}if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t)){return QueryFilters.ebvFalse()}var i=v.compareDateComponents(e.value,t.value);if(i!=null){if(i!=-1){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvFalse()}};QueryFilters.runLtEqFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t))}else if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t)){return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t))}else if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t)){return QueryFilters.ebvFalse()}if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t)){return QueryFilters.ebvFalse()}var i=v.compareDateComponents(e.value,t.value);if(i!=null){if(i!=1){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvFalse()}};QueryFilters.runAddition=function(e,t,r,i,n,s){var a=QueryFilters.runFilter(e,r,i,n,s);if(QueryFilters.isEbvError(a)){return QueryFilters.ebvError()}var o=a;if(QueryFilters.isNumeric(a)){for(var l=0;l<t.length;l++){var u=QueryFilters.runFilter(t[l].expression,r,i,n,s);if(QueryFilters.isNumeric(u)){if(t[l].operator==="+"){o=QueryFilters.runSumFunction(o,u)}else if(t[l].operator==="-"){o=QueryFilters.runSubFunction(o,u)}}else{return QueryFilters.ebvFalse()}}return o}else{return QueryFilters.ebvFalse()}};QueryFilters.runSumFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}var r=QueryFilters.effectiveTypeValue(e)+QueryFilters.effectiveTypeValue(t);if(QueryFilters.isDouble(e)||QueryFilters.isDouble(t)){return{token:"literal",type:y+"double",value:r}}else if(QueryFilters.isFloat(e)||QueryFilters.isFloat(t)){return{token:"literal",type:y+"float",value:r}}else if(QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)){return{token:"literal",type:y+"decimal",value:r}}else{return{token:"literal",type:y+"integer",value:r}}};QueryFilters.runSubFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}var r=QueryFilters.effectiveTypeValue(e)-QueryFilters.effectiveTypeValue(t);if(QueryFilters.isDouble(e)||QueryFilters.isDouble(t)){return{token:"literal",type:y+"double",value:r}}else if(QueryFilters.isFloat(e)||QueryFilters.isFloat(t)){return{token:"literal",type:y+"float",value:r}}else if(QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)){return{token:"literal",type:y+"decimal",value:r}}else{return{token:"literal",type:y+"integer",value:r}}};QueryFilters.runMultiplication=function(e,t,r,i,n,s){var a=QueryFilters.runFilter(e,r,i,n,s);if(QueryFilters.isEbvError(a)){return a}var o=a;if(QueryFilters.isNumeric(a)){for(var l=0;l<t.length;l++){var u=QueryFilters.runFilter(t[l].expression,r,i,n,s);if(QueryFilters.isEbvError(u)){return a}if(QueryFilters.isNumeric(u)){if(t[l].operator==="*"){o=QueryFilters.runMulFunction(o,u)}else if(t[l].operator==="/"){o=QueryFilters.runDivFunction(o,u)}}else{return QueryFilters.ebvFalse()}}return o}else{return QueryFilters.ebvFalse()}};QueryFilters.runMulFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}var r=QueryFilters.effectiveTypeValue(e)*QueryFilters.effectiveTypeValue(t);if(QueryFilters.isDouble(e)||QueryFilters.isDouble(t)){return{token:"literal",type:y+"double",value:r}}else if(QueryFilters.isFloat(e)||QueryFilters.isFloat(t)){return{token:"literal",type:y+"float",value:r}}else if(QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)){return{token:"literal",type:y+"decimal",value:r}}else{return{token:"literal",type:y+"integer",value:r}}};QueryFilters.runDivFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)){return QueryFilters.ebvError()}var r=QueryFilters.effectiveTypeValue(e)/QueryFilters.effectiveTypeValue(t);if(QueryFilters.isDouble(e)||QueryFilters.isDouble(t)){return{token:"literal",type:y+"double",value:r}}else if(QueryFilters.isFloat(e)||QueryFilters.isFloat(t)){return{token:"literal",type:y+"float",value:r}}else if(QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)){return{token:"literal",type:y+"decimal",value:r}}else{return{token:"literal",type:y+"integer",value:r}}};QueryFilters.runBuiltInCall=function(e,t,r,i,n,s){if(e==="notexists"||e==="exists"){var a=[];for(var o in r){a.push(JSON.stringify(r[o]))}a=a.sort().join("");return t[a]}else{var l=[];for(var u=0;u<t.length;u++){if(t[u].token==="var"){l.push(t[u])}else{var f=QueryFilters.runFilter(t[u],r,i,n,s);if(QueryFilters.isEbvError(f)){return f}l.push(f)}}if(e==="str"){if(l[0].token==="literal"){return{token:"literal",type:null,value:""+l[0].value}}else if(l[0].token==="uri"){return{token:"literal",type:null,value:l[0].value}}else{return QueryFilters.ebvFalse()}}else if(e==="lang"){if(l[0].token==="literal"){if(l[0].lang!=null){return{token:"literal",value:""+l[0].lang}}else{return{token:"literal",value:""}}}else{return QueryFilters.ebvError()}}else if(e==="datatype"){if(l[0].token==="literal"){var c=l[0];if(c.type!=null){if(typeof c.type==="string"){return{token:"uri",value:c.type,prefix:null,suffix:null}}else{return c.type}}else if(c.lang==null){return{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvError()}}else if(e==="isliteral"){if(l[0].token==="literal"){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else if(e==="isblank"){if(l[0].token==="blank"){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else if(e==="isuri"||e==="isiri"){if(l[0].token==="uri"){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else if(e==="sameterm"){var p=l[0];var h=l[1];var d=QueryFilters.RDFTermEquality(p,h,i,s);if(QueryFilters.isEbvError(d)){d=false}return QueryFilters.ebvBoolean(d)}else if(e==="langmatches"){var v=l[0];var y=l[1];if(v.token==="literal"&&y.token==="literal"){if(y.value==="*"&&v.value!=""){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvBoolean(v.value.toLowerCase().indexOf(y.value.toLowerCase())===0)}}else{return QueryFilters.ebvError()}}else if(e==="bound"){var g=l[0].value;var b=[];if(g==null){return QueryFilters.ebvError()}else if(r[g]!=null){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}}else if(i.customFns[e]!=null){return i.customFns[e](QueryFilters,l)}else{throw"Builtin call "+e+" not implemented yet"}}};QueryFilters.runUnaryExpression=function(e,t,r,i,n,s){var a=QueryFilters.runFilter(t,r,i,n,s);if(QueryFilters.isEbvError(a)){return a}if(e==="!"){var o=QueryFilters.ebv(a);if(QueryFilters.isEbvError(o)){return QueryFilters.ebvFalse()}else{o=!o;return QueryFilters.ebvBoolean(o)}}else if(e==="+"){if(QueryFilters.isNumeric(a)){return a}else{return QueryFilters.ebvError()}}else if(e==="-"){if(QueryFilters.isNumeric(a)){var l={};for(var u in a){l[u]=a[u]}l.value=-l.value;return l}else{return QueryFilters.ebvError()}}};QueryFilters.runRegex=function(e,t,r,i,n,s,a){if(e!=null){e=QueryFilters.runFilter(e,i,n,s,a)}else{return QueryFilters.ebvError()}if(t!=null){t=QueryFilters.runFilter(t,i,n,s,a)}else{return QueryFilters.ebvError()}if(r!=null){r=QueryFilters.runFilter(r,i,n,s,a)}if(t!=null&&t.token==="literal"&&(r==null||r.token==="literal")){t=t.value;r=r==null?null:r.value}else{return QueryFilters.ebvError()}if(e!=null&&e.token=="var"){if(i[e.value]!=null){e=i[e.value]}else{return QueryFilters.ebvError()}}else if(e!=null&&e.token==="literal"){if(e.type==null||QueryFilters.isXsdType("string",e)){e=e.value}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvError()}var o;if(r==null){o=new RegExp(t)}else{o=new RegExp(t,r.toLowerCase())}if(o.exec(e)){return QueryFilters.ebvTrue()}else{return QueryFilters.ebvFalse()}};QueryFilters.normalizeLiteralDatatype=function(e,t,r){if(e.value.type==null||typeof e.value.type!="object"){return e}else{e.value.type=v.lexicalFormBaseUri(e.value.type,r);return e}};QueryFilters.runIriRefOrFunction=function(e,t,r,i,n,s){if(t==null){return e}else{var a=[];for(var o=0;o<t.length;o++){a.push(QueryFilters.runFilter(t[o],r,i,n,s))}var l=v.lexicalFormBaseUri(e,s);if(l==y+"integer"||l==y+"decimal"||l==y+"double"||l==y+"nonPositiveInteger"||l==y+"negativeInteger"||l==y+"long"||l==y+"int"||l==y+"short"||l==y+"byte"||l==y+"nonNegativeInteger"||l==y+"unsignedLong"||l==y+"unsignedInt"||l==y+"unsignedShort"||l==y+"unsignedByte"||l==y+"positiveInteger"){var u=a[0];if(u.token==="literal"){u=QueryFilters.normalizeLiteralDatatype(u,i,s);if(u.type==y+"integer"||u.type==y+"decimal"||u.type==y+"double"||u.type==y+"nonPositiveInteger"||u.type==y+"negativeInteger"||u.type==y+"long"||u.type==y+"int"||u.type==y+"short"||u.type==y+"byte"||u.type==y+"nonNegativeInteger"||u.type==y+"unsignedLong"||u.type==y+"unsignedInt"||u.type==y+"unsignedShort"||u.type==y+"unsignedByte"||u.type==y+"positiveInteger"){u.type=l;return u}else if(u.type=="http://www.w3.org/2001/XMLSchema#boolean"){if(QueryFilters.ebv(u)==true){u.type=l;u.value=1}else{u.type=l;u.value=0}return u}else if(u.type=="http://www.w3.org/2001/XMLSchema#float"||u.type=="http://www.w3.org/2001/XMLSchema#double"){u.type=l;u.value=parseInt(u.value);return u}else if(u.type=="http://www.w3.org/2001/XMLSchema#string"||u.type==null){if(u.value.split(".").length>2){return QueryFilters.ebvError()}else if(u.value.split("-").length>2){return QueryFilters.ebvError()}else if(u.value.split("/").length>2){return QueryFilters.ebvError()}else if(u.value.split("+").length>2){return QueryFilters.ebvError()}if(l==y+"decimal"){if(u.value.indexOf("e")!=-1||u.value.indexOf("E")!=-1){return QueryFilters.ebvError()}}if(l==y+"int"||l==y+"integer"){if(u.value.indexOf("e")!=-1||u.value.indexOf("E")!=-1||u.value.indexOf(".")!=-1){return QueryFilters.ebvError()}}try{u.value=parseInt(parseFloat(u.value));if(isNaN(u.value)){return QueryFilters.ebvError()}else{u.type=l;return u}}catch(e){return QueryFilters.ebvError()}}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvError()}}else if(l==y+"boolean"){var u=a[0];if(u.token==="literal"&&u.type==null){if(u.value==="true"||u.value==="1"){return QueryFilters.ebvTrue()}else if(u.value==="false"||u.value==="0"){return QueryFilters.ebvFalse()}else{return QueryFilters.ebvError()}}else if(u.token==="literal"){if(QueryFilters.isEbvError(u)){return u}else{return QueryFilters.ebvBoolean(u)}}else{return QueryFilters.ebvError()}}else if(l==y+"string"){var u=a[0];if(u.token==="literal"){u=QueryFilters.normalizeLiteralDatatype(u,i,s);if(u.type==y+"integer"||u.type==y+"decimal"||u.type==y+"double"||u.type==y+"nonPositiveInteger"||u.type==y+"negativeInteger"||u.type==y+"long"||u.type==y+"int"||u.type==y+"short"||u.type==y+"byte"||u.type==y+"nonNegativeInteger"||u.type==y+"unsignedLong"||u.type==y+"unsignedInt"||u.type==y+"unsignedShort"||u.type==y+"unsignedByte"||u.type==y+"positiveInteger"||u.type==y+"float"){u.type=l;u.value=""+u.value;return u}else if(u.type==y+"string"){return u}else if(u.type==y+"boolean"){if(QueryFilters.ebv(u)){u.type=l;u.value="true"}else{u.type=l;u.value="false"}return u}else if(u.type==y+"dateTime"||u.type==y+"date"){u.type=l;if(typeof u.value!="string"){u.value=v.iso8601(u.value)}return u}else if(u.type==null){u.value=""+u.value;u.type=l;return u}else{return QueryFilters.ebvError()}}else if(u.token==="uri"){return{token:"literal",value:v.lexicalFormBaseUri(u,s),type:l,lang:null}}else{return QueryFilters.ebvError()}}else if(l==y+"dateTime"||l==y+"date"){u=a[0];if(u.type==y+"dateTime"||u.type==y+"date"){return u}else if(u.type==y+"string"||u.type==null){try{u.value=v.iso8601(v.parseISO8601(u.value));u.type=l;return u}catch(e){return QueryFilters.ebvError()}}else{return QueryFilters.ebvError()}}else if(l==y+"float"){var u=a[0];if(u.token==="literal"){u=QueryFilters.normalizeLiteralDatatype(u,i,s);if(u.type=="http://www.w3.org/2001/XMLSchema#decimal"||u.type=="http://www.w3.org/2001/XMLSchema#int"){u.type=l;u.value=parseFloat(u.value);return u}else if(u.type=="http://www.w3.org/2001/XMLSchema#boolean"){if(QueryFilters.ebv(u)==true){u.type=l;u.value=1}else{u.type=l;u.value=0}return u}else if(u.type=="http://www.w3.org/2001/XMLSchema#float"||u.type=="http://www.w3.org/2001/XMLSchema#double"){u.type=l;u.value=parseFloat(u.value);return u}else if(u.type=="http://www.w3.org/2001/XMLSchema#string"){try{u.value=parseFloat(u.value);if(isNaN(u.value)){return QueryFilters.ebvError()}else{u.type=l;return u}}catch(e){return QueryFilters.ebvError()}}else if(u.type==null){if(u.value.split(".").length>2){return QueryFilters.ebvError()}else if(u.value.split("-").length>2){return QueryFilters.ebvError()}else if(u.value.split("/").length>2){return QueryFilters.ebvError()}else if(u.value.split("+").length>2){return QueryFilters.ebvError()}try{u.value=parseFloat(u.value);if(isNaN(u.value)){return QueryFilters.ebvError()}else{u.type=l;return u}}catch(e){return QueryFilters.ebvError()}}else{return QueryFilters.ebvError()}}else{return QueryFilters.ebvError()}}else if(i.customFns[l]!=null){return i.customFns[l](QueryFilters,a)}else{return QueryFilters.ebvError()}}};t.exports={QueryFilters:QueryFilters}},{"./utils":156}],151:[function(e,t,r){var h=e("./utils");var f=e("./utils");var i=function(e,t,r,i,n,s){this.left=e;this.right=t;this.cost=r;this.i=i;this.vars=n;this.join=s};var j={};j.variablesInBGP=function(e){var t=e.variables;if(t){return t}var r=e.value||e;t=[];for(var i in r){if(r[i]&&r[i].token==="var"){t.push(r[i].value)}else if(r[i]&&r[i].token==="blank"){t.push("blank:"+r[i].value)}}e.variables=t;return t};j.connected=function(e,t){var r="/"+e.vars.join("/")+"/";for(var i=0;i<t.vars.length;i++){if(r.indexOf("/"+t.vars[i]+"/")!=-1){return true}}return false};var n=function(e,t){var r={};for(var i=0;i<e.lenght;i++){r[e[i]]=1}for(i=0;i<t.length;i++){var n=r[t[i]]||0;n++;r[t[i]]=n}var s=[];for(var a in r){if(r[a]==2)s.push(r[a])}return s};j.variablesIntersectionBGP=function(e,t){return n(j.variablesInBGP(e),j.variablesInBGP(t))};j.executeAndBGPsGroups=function(e){var l={};var u={};var t=0;var r=function(e,t){for(var r=0;r<e.length;r++){var i="/"+e[r]+"/";if(t.indexOf(i)!=-1){return true}}return false};var i=function(e,t,r,i){var n=[];var s="";var a="";for(var o in t){s=s+o;n=n.concat(l[o]);a=a+u[o]}a=a+f.join("/")+"/";n.push(e);r[s]=n;i[s]=a};for(var n=0;n<e.length;n++){var s=e[n];var a={};var o={};var f=j.variablesInBGP(s);var c={};for(var p in u){if(r(f,u[p])){c[p]=true}else{a[p]=l[p];o[p]=u[p]}}if(h.size(c)===0){a["g"+t]=[s];o["g"+t]="/"+f.join("/")+"/";t++}else{i(s,c,a,o)}l=a;u=o}return h.values(l)};j.intersectionSize=function(e,t){var r=t.i.split("_");for(var i=0;i<r.length;i++){if(r[i]=="")continue;if(e.i.indexOf("_"+r[i]+"_")!=-1){return 1}}return 0};j.createJoinTree=function(e,t){var r="/"+e.vars.join("/")+"/";var i=e.vars.concat([]);var n=[];for(var s=0;s<t.vars.length;s++){if(r.indexOf("/"+t.vars[s]+"/")!=-1){if(t.vars[s].indexOf("_:")==0){n.push("blank:"+t.vars[s])}else{n.push(t.vars[s])}}else{i.push(t.vars[s])}}var a=t.i.split("_");var o=e.i.split("_");var l={};for(var s=0;s<a.length;s++){if(a[s]!=""){l[a[s]]=true}}for(var s=0;s<o.length;s++){if(o[s]!=""){l[o[s]]=true}}var u=h.keys(l);return{left:e,right:t,cost:e.cost+t.cost,i:"_"+u.sort().join("_")+"_",vars:i,join:n}};j.executeBushyTree=function(r,e,i,n,s){if(r.left==null){j.executeEmptyJoinBGP(r.right,e,i,n,s)}else if(r.right==null){j.executeEmptyJoinBGP(r.left,e,i,n,s)}else{j.executeBushyTree(r.left,e,i,n,function(t){if(t!=null){j.executeBushyTree(r.right,e,i,n,function(e){if(e!=null){s(j.joinBindings2(r.join,t,e))}else{s(null)}})}else{s(null)}})}};j.executeAndBGPsDPSize=function(e,i,n,s,t){var r=j.executeAndBGPsGroups(e);var A=[];f.eachSeries(r,function(e,E){var t=1;n.computeCosts(e,s,function(e){var t={};var r={};var i={};var n=1;var s=null;var a={};i["1"]=[];for(var o=0;o<e.length;o++){var l=[];delete e[o]["variables"];for(var u in e[o]){if(u!="_cost"){if(e[o][u].token==="var"){l.push(e[o][u].value)}else if(e[o][u].token==="blank"){l.push(e[o][u].value)}}}r["_"+o+"_"]={left:e[o],right:null,cost:e[o]._cost,i:"_"+o+"_",vars:l};var f={left:e[o],right:null,cost:e[o]._cost,i:"_"+o+"_",vars:l};t["_"+o+"_"]=f;delete e[o]["_cost"];a["_"+o+"_"]=true;i["1"].push("_"+o+"_");if(s==null||s.cost>f.cost){s=f}}for(var c=2;c<=e.length;c++){for(var p=1;p<c;p++){var h=c-p;var d=i[""+p]||[];var v=i[""+h]||[];for(var o=0;o<d.length;o++){for(var y=0;y<v.length;y++){if(d[o]===v[y])continue;var g=r[d[o]];var b=r[v[y]];if(j.intersectionSize(g,b)==0){if(j.connected(g,b)){n=c;var m=t[g.i];var w=t[b.i];var x=j.createJoinTree(m,w);if(!a[x.i]){a[x.i]=true;var _=x.cost+1;if(t[x.i]!=null){_=t[x.i].cost}var k=i[c]||[];k.push(x.i);r[x.i]=x;i[c]=k;if(_>x.cost){if(n===c){s=x}t[x.i]=x}}}}}}}}A.push(s);E()})},function(){var r=null;f.eachSeries(A,function(e,t){j.executeBushyTree(e,i,n,s,function(e){if(e){if(r==null){r=e;t()}else{r=j.crossProductBindings(r,e);t()}}else{t("Error executing bushy tree")}})},function(e){if(e){t(null,e)}else{t(r)}})})};j.executeEmptyJoinBGP=function(e,t,r,i,n){return j.executeBGPDatasets(e,t,r,i,n)};j.executeBGPDatasets=function(n,e,s,a,t){var o={};if(n.graph==null){var l=[];f.eachSeries(e.implicit,function(e,t){if(o[e.oid]==null){o[e.oid]=true;n.graph=e;s.rangeQuery(n,a,function(e){e=j.buildBindingsFromRange(e,n);l.push(e);t()})}else{t()}},function(){var e=j.unionManyBindings(l);t(e)})}else if(n.graph.token==="var"){var u=n.graph.value;var l=[];f.eachSeries(e.named,function(r,i){if(o[r.oid]==null){o[r.oid]=true;n.graph=r;if(l!=null){s.rangeQuery(n,a,function(e){if(e!=null){e=j.buildBindingsFromRange(e,n);for(var t=0;t<e.length;t++){e[t][u]=r.oid}l.push(e)}else{l=null}i()})}else{i()}}else{i()}},function(){if(l==null){t(null)}else{var e=j.unionManyBindings(l);t(e)}})}else{s.rangeQuery(n,a,function(e){if(e!=null){e=j.buildBindingsFromRange(e,n);t(e)}else{t(null)}})}};j.buildBindingsFromRange=function(e,t){j.variablesInBGP(t);var r=t.value||t;var i={};for(u in r){if(r[u]&&r[u].token==="var"){i[u]=r[u].value}else if(r[u]&&r[u].token==="blank"){i[u]="blank:"+r[u].value}}var n=[];if(e!=null){for(var s=0;s<e.length;s++){var a={};var o=e[s];var l=false;for(var u in i){var f=o[u];if(a[i[u]]==null||a[i[u]]===f){a[i[u]]=f}else{l=true;break}}if(!l)n.push(a)}}return n};j.areCompatibleBindings=function(e,t){for(var r in e){if(t[r]!=null&&t[r]!=e[r]){return false}}return true};j.mergeBindings=function(e,t){var r={};for(var i in e){r[i]=e[i]}for(var i in t){r[i]=t[i]}return r};j.joinBindings2=function(e,t,r){var i={};var n,s,a,o,l;var u=[];for(var f=0;f<t.length;f++){n=t[f];l=i;for(var c=0;c<e.length;c++){s=e[c];a=n[s];if(c==e.length-1){o=l[a]||[];o.push(n);l[a]=o}else{o=l[a]||{};l[a]=o;l=o}}}for(var f=0;f<r.length;f++){n=r[f];l=i;for(var c=0;c<e.length;c++){s=e[c];a=n[s];if(l[a]!=null){if(c==e.length-1){for(var p=0;p<l[a].length;p++){u.push(j.mergeBindings(l[a][p],n))}}else{l=l[a]}}}}return u};j.joinBindings=function(e,t){var r=[];for(var i=0;i<e.length;i++){var n=e[i];for(var s=0;s<t.length;s++){var a=t[s];if(j.areCompatibleBindings(n,a)){r.push(j.mergeBindings(n,a))}}}return r};j.augmentMissingBindings=function(e,t){for(var r in t){if(e[r]==null){e[r]=null}}return e};j.leftOuterJoinBindings=function(e,t){var r=[];for(var i=0;i<e.length;i++){var n=e[i];var s=false;for(var a=0;a<t.length;a++){var o=t[a];if(j.areCompatibleBindings(n,o)){s=true;r.push(j.mergeBindings(n,o))}}if(s===false){j.augmentMissingBindings(n,o);r.push(n)}}return r};j.crossProductBindings=function(e,t){var r=[];for(var i=0;i<e.length;i++){var n=e[i];for(var s=0;s<t.length;s++){var a=t[s];r.push(j.mergeBindings(n,a))}}return r};j.unionBindings=function(e,t){return e.concat(t)};j.unionManyBindings=function(e){var t=[];for(var r=0;r<e.length;r++){var i=e[r];t=j.unionBindings(t,i)}return t};t.exports={QueryPlan:j}},{"./utils":156}],152:[function(t,e,r){var i=t("./network_transport").NetworkTransport;var n=t("./rvn3_parser").RVN3Parser;var s=t("./jsonld_parser").JSONLDParser;var a=t("./utils");var o=function(e){this.precedences=["text/turtle","text/n3","application/ld+json","application/json"];this.parsers={"text/turtle":n.parser,"text/n3":n.parser,"application/ld+json":s.parser,"application/json":s.parser};if(typeof RDFXMLParser!=="undefined"){this.precedences.push("application/rdf+xml");this.parsers["application/rdf+xml"]=RDFXMLParser.parser}if(e!=null){for(var t in e["parsers"]){this.parsers[t]=e["parsers"][t]}}if(e&&e["precedences"]!=null){this.precedences=e["precedences"];for(var t in e["parsers"]){if(!a.include(this.precedences,t)){this.precedences.push(t)}}}this.acceptHeaderValue="";for(var r=0;r<this.precedences.length;r++){if(r!=0){this.acceptHeaderValue=this.acceptHeaderValue+","+this.precedences[r]}else{this.acceptHeaderValue=this.acceptHeaderValue+this.precedences[r]}}};o.prototype.registerParser=function(e,t){this.parsers[e]=t;this.precedences.push(e)};o.prototype.unregisterParser=function(e){delete this.parsers[e];var t=[];for(var r=0;r<this.precedences.length;r++){if(this.precedences[r]!=e){t.push(this.precedences[r])}}this.precedences=t};o.prototype.setAcceptHeaderPrecedence=function(e){this.precedences=e};o.prototype.load=function(a,o,l){var u=this;i.load(a,this.acceptHeaderValue,function(e,t){if(e){l(e)}else{var r=t["headers"]["Content-Type"]||t["headers"]["content-type"];var i=t["data"];if(r!=null){r=r.split(";")[0];for(var n in u.parsers){if(n.indexOf("/")!=-1){var s=n.split("/");if(s[1]==="*"){if(r.indexOf(s[0])!=-1){return u.tryToParse(u.parsers[n],o,i,{documentURI:a},l)}}else{if(r.indexOf(n)!=-1){return u.tryToParse(u.parsers[n],o,i,{documentURI:a},l)}else if(r.indexOf(s[1])!=-1){return u.tryToParse(u.parsers[n],o,i,{documentURI:a},l)}}}else{if(r.indexOf(n)!=-1){return u.tryToParse(u.parsers[n],o,i,{documentURI:a},l)}}}l(new Error("Unknown media type : "+r))}else{l(new Error("Uknown media type"))}}})};o.prototype.loadFromFile=function(r,i,n,s){try{var a=this;var e=t("fs");e.readFile(n.split("file:/")[1],function(e,t){if(e){s(e)}else{var t=t.toString("utf8");a.tryToParse(r,i,t,{documentURI:n},s)}})}catch(e){s(e)}};o.prototype.tryToParse=function(e,t,r,i,n){try{if(typeof r==="string"){r=a.normalizeUnicodeLiterals(r)}e.parse(r,t,i,n)}catch(e){console.log(e.message);console.log(e.stack);n(e)}};e.exports={RDFLoader:o}},{"./jsonld_parser":141,"./network_transport":143,"./rvn3_parser":154,"./utils":156,fs:4}],153:[function(e,t,r){var i=e("./utils");var n=e("./query_filters").QueryFilters;RDFModel={};RDFModel.defaultContext={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#",ldp:"http://www.w3.org/ns/ldp#"};RDFModel.UrisMap=function(){this.defaultNs="";this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]};RDFModel.UrisMap.prototype.values=function(){var e={};for(var t in this){if(!i.include(this.interfaceProperties,t)&&typeof this[t]!=="function"&&t!=="defaultNs"&&t!=="interfaceProperties"){e[t]=this[t]}}return e};RDFModel.UrisMap.prototype.get=function(e){if(e.indexOf(" ")!=-1){throw"Prefix must not contain any whitespaces"}return this[e]};RDFModel.UrisMap.prototype.remove=function(e){if(e.indexOf(" ")!=-1){throw"Prefix must not contain any whitespaces"}delete this[e];return null};RDFModel.UrisMap.prototype.set=function(e,t){if(e.indexOf(" ")!=-1){throw"Prefix must not contain any whitespaces"}this[e]=t};RDFModel.UrisMap.prototype.setDefault=function(e){this.defaultNs=e};RDFModel.UrisMap.prototype.addAll=function(e,t){for(var r in e){if(!i.include(this.interfaceProperties,r)){if(this[r]!=null){if(t===true){this[r]=e[r]}}else{this[r]=e[r]}}}return this};RDFModel.UrisMap.prototype.resolve=function(e){var t=e.split(":");var r=t[0];var i=t[1];if(r===""){if(this.defaultNs==null){return null}else{return this.defaultNs+i}}else if(this[r]!=null){return this[r]+i}else{return null}};RDFModel.UrisMap.prototype.shrink=function(e){for(var t in this){var r=this[t];if(e.indexOf(r)===0){if(r!==""&&t!="defaultNs"){var i=e.split(r)[1];return t+":"+i}}}return e};RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap;this.terms=new RDFModel.UrisMap};RDFModel.Profile.prototype.importProfile=function(e,t){this.prefixes.addAll(e.prefixes,t);this.terms.addAll(e.terms,t)};RDFModel.Profile.prototype.resolve=function(e){if(e.indexOf(":")!=-1){return this.prefixes.resolve(e)}else if(this.terms[e]!=null){return this.terms.resolve(e)}else{return null}};RDFModel.Profile.prototype.setDefaultPrefix=function(e){this.prefixes.setDefault(e)};RDFModel.Profile.prototype.setDefaultVocabulary=function(e){this.terms.setDefault(e)};RDFModel.Profile.prototype.setPrefix=function(e,t){this.prefixes.set(e,t)};RDFModel.Profile.prototype.setTerm=function(e,t){this.terms.set(e,t)};RDFModel.RDFEnvironment=function(){RDFModel.Profile.call(this);this.blankNodeCounter=0;var e=this;this.filters={s:function(t){return function(e){return e.subject.equals(t)}},p:function(t){return function(e){return e.predicate.equals(t)}},o:function(t){return function(e){return e.object.equals(t)}},sp:function(t,r){return function(e){return e.subject.equals(t)&&e.predicate.equals(r)}},so:function(t,r){return function(e){return e.subject.equals(t)&&e.object.equals(r)}},po:function(t,r){return function(e){return e.predicate.equals(t)&&e.object.equals(r)}},spo:function(t,r,i){return function(e){return e.subject.equals(t)&&e.predicate.equals(r)&&e.object.equals(i)}},describes:function(t){return function(e){return e.subject.equals(t)||e.object.equals(t)}},type:function(t){var r=e.resolve("rdf:type");return function(e){return e.predicate.equals(r)&&e.object.equals(t)}}};for(var t in RDFModel.defaultContext){this.prefixes.set(t,RDFModel.defaultContext[t])}};RDFModel.RDFEnvironment.prototype=i.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment});RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var e=new RDFModel.BlankNode(this.blankNodeCounter);this.blankNodeCounter++;return e};RDFModel.RDFEnvironment.prototype.createNamedNode=function(e){var t=this.resolve(e);if(t!=null){return new RDFModel.NamedNode(t)}else{return new RDFModel.NamedNode(e)}};RDFModel.RDFEnvironment.prototype.createLiteral=function(e,t,r){if(r!=null){return new RDFModel.Literal(e,t,r.toString())}else{return new RDFModel.Literal(e,t,r)}};RDFModel.RDFEnvironment.prototype.createTriple=function(e,t,r){return new RDFModel.Triple(e,t,r)};RDFModel.RDFEnvironment.prototype.createGraph=function(e){var t=new RDFModel.Graph;if(e!=null){for(var r=0;r<e.length;r++){t.add(e[r])}}return t};RDFModel.RDFEnvironment.prototype.createAction=function(t,r){return function(e){if(t(e)){return r(e)}else{return e}}};RDFModel.RDFEnvironment.prototype.createProfile=function(e){if(e===true){return new RDFModel.RDFEnvironment.Profile}else{var t=new RDFModel.RDFEnvironment.Profile;t.importProfile(this);return t}};RDFModel.RDFEnvironment.prototype.createTermMap=function(e){if(e===true){return new RDFModel.UrisMap}else{var t=this.terms.values();var r=new RDFModel.UrisMap;for(var i in t){r[i]=t[i]}return r}};RDFModel.RDFEnvironment.prototype.createPrefixMap=function(e){if(e===true){return new RDFModel.UrisMap}else{var t=this.prefixes.values();var r=new RDFModel.UrisMap;for(var i in t){r[i]=t[i]}return r}};RDFModel.RDFNode=function(e){this.interfaceName=e;this.attributes=["interfaceName","nominalValue"]};RDFModel.RDFNode.prototype.equals=function(e){if(e.interfaceName==null){return this.valueOf()==e}else{for(var t in this.attributes){var r=this.attributes[t];if(this[r]!=e[r]){return false}}return true}};RDFModel.BlankNode=function(e){RDFModel.RDFNode.call(this,"BlankNode");this.nominalValue="_:"+e;this.bnodeId=e};RDFModel.BlankNode.prototype=i.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode});RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue};RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue};RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Literal=function(e,t,r){RDFModel.RDFNode.call(this,"Literal");this.nominalValue=e;if(t!=null){this.language=t}else if(r!=null){this.datatype=r}};RDFModel.Literal.prototype=i.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal});RDFModel.Literal.prototype.toString=function(){var e='"'+this.nominalValue+'"';if(this.language!=null){e=e+"@"+this.language}else if(this.datatype!=null||this.type){e=e+"^^<"+(this.datatype||this.type)+">"}return e};RDFModel.Literal.prototype.toNT=function(){return this.toString()};RDFModel.Literal.prototype.valueOf=function(){return n.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})};RDFModel.NamedNode=function(e){RDFModel.RDFNode.call(this,"NamedNode");if(e.value!=null){this.nominalValue=e.value}else{this.nominalValue=e}};RDFModel.NamedNode.prototype=i.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode});RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue};RDFModel.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"};RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue};RDFModel.Triple=function(e,t,r){this.subject=e;this.predicate=t;this.object=r};RDFModel.Triple.prototype.equals=function(e){return this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)};RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"};RDFModel.Graph=function(){this.triples=[];this.duplicates={};this.actions=[];this.length=0};RDFModel.Graph.prototype.add=function(e){for(var t=0;t<this.actions.length;t++){e=this.actions[t](e)}var r=e.subject.toString()+e.predicate.toString()+e.object.toString();if(!this.duplicates[r]){this.duplicates[r]=true;this.triples.push(e)}this.length=this.triples.length;return this};RDFModel.Graph.prototype.addAction=function(e,t){this.actions.push(e);if(t==true){for(var r=0;r<this.triples.length;r++){this.triples[r]=e(this.triples[r])}}return this};RDFModel.Graph.prototype.addAll=function(e){var t=e.toArray();for(var r=0;r<t.length;r++){this.add(t[r])}this.length=this.triples.length;return this};RDFModel.Graph.prototype.remove=function(e){var t=null;for(var r=0;r<this.triples.length;r++){if(this.triples[r].equals(e)){var i=e.subject.toString()+e.predicate.toString()+e.object.toString();delete this.duplicates[i];t=r;break}}if(t!=null){this.triples.splice(t,1)}this.length=this.triples.length;return this};RDFModel.Graph.prototype.toArray=function(){return this.triples};RDFModel.Graph.prototype.some=function(e){for(var t=0;t<this.triples.length;t++){if(e(this.triples[t],this)===true){return true}}return false};RDFModel.Graph.prototype.every=function(e){for(var t=0;t<this.triples.length;t++){if(e(this.triples[t],this)===false){return false}}return true};RDFModel.Graph.prototype.filter=function(e){var t=new RDFModel.Graph;for(var r=0;r<this.triples.length;r++){if(e(this.triples[r],this)===true){t.add(this.triples[r])}}return t};RDFModel.Graph.prototype.forEach=function(e){for(var t=0;t<this.triples.length;t++){e(this.triples[t],this)}};RDFModel.Graph.prototype.merge=function(e){var t=new RDFModel.Graph;for(var r=0;r<this.triples.length;r++)t.add(this.triples[r]);return t};RDFModel.Graph.prototype.match=function(e,t,r,i){var n=new RDFModel.Graph;var s=0;for(var a=0;a<this.triples.length;a++){var o=this.triples[a];if(e==null||o.subject.equals(e)){if(t==null||o.predicate.equals(t)){if(r==null||o.object.equals(r)){if(i==null||s<i){s++;n.add(o)}else{return n}}}}}return n};RDFModel.Graph.prototype.removeMatches=function(e,t,r){var i=[];for(var n=0;n<this.triples.length;n++){var s=this.triples[n];if(e==null||s.subject.equals(e)){if(t==null||s.predicate.equals(t)){if(r==null||s.object.equals(r)){i.push(s)}}}}for(var n=0;n<i.length;n++){this.remove(i[n])}return this};RDFModel.Graph.prototype.toNT=function(){var t="";this.forEach(function(e){t=t+e.toString()});return t};RDFModel.buildRDFResource=function(e,t,r,i){if(e.token==="blank"){return RDFModel.buildBlankNode(e,t,r,i)}else if(e.token==="literal"){return RDFModel.buildLiteral(e,t,r,i)}else if(e.token==="uri"){return RDFModel.buildNamedNode(e,t,r,i)}else if(e.token==="var"){var n=t[e.value];if(n!=null){return RDFModel.buildRDFResource(n,t,r,i)}else{return null}}else{return null}};RDFModel.buildBlankNode=function(e,t,r,i){if(e.valuetmp!=null){e.value=e.valuetmp}if(e.value.indexOf("_:")===0){e.value=e.value.split("_:")[1]}return new RDFModel.BlankNode(e.value)};RDFModel.buildLiteral=function(e,t,r,i){return new RDFModel.Literal(e.value,e.lang,e.type)};RDFModel.buildNamedNode=function(e,t,r,i){if(e.value!=null){return new RDFModel.NamedNode(e)}else{if(e.prefix!=null){var n=r.resolveNsInEnvironment(e.prefix,i);e.value=n+e.suffix;return new RDFModel.NamedNode(e)}else{return new RDFModel.NamedNode(e)}}};RDFModel.rdf=new RDFModel.RDFEnvironment;t.exports=RDFModel},{"./query_filters":150,"./utils":156}],154:[function(e,t,r){var s=e("n3").Parser;var i={};i.parser={async:true,parse:function(e,r,t,i){if(!i){i=t;t=r;r=null}if(r&&typeof r==="string")r={token:"uri",value:r,prefix:null,suffix:null};if(t&&t.baseURI)t.documentIRI=t.baseURI;var n=[];new s(t).parse(e,function(e,t){if(e)i(e);else if(!t)i(false,n);else n.push({subject:a(t.subject),predicate:a(t.predicate),object:a(t.object),graph:r})})},resetBlankNodeIds:function(){s._resetBlankNodeIds()}};function a(e){switch(e[0]){case'"':{if(e.indexOf("^^")>0){var t=e.split("^^");return{literal:t[0]+"^^<"+t[1]+">"}}else{return{literal:e}}}case"_":return{blank:e.replace("b","")};default:return{token:"uri",value:e,prefix:null,suffix:null}}}t.exports={RVN3Parser:i}},{n3:65}],155:[function(e,t,r){var o=e("./query_engine").QueryEngine;var l=e("./quad_backend").QuadBackend;var u=e("./persistent_quad_backend").PersistentQuadBackend;var f=e("./lexicon").Lexicon;var c=e("./persistent_lexicon").PersistentLexicon;var p=e("./rdf_model");var h=e("./utils");Store=function(e,t){var i=null;var n=null;if(arguments.length==0){n={}}else if(arguments.length==1){n={};i=e}else if(arguments.length>1){n=e;i=t}else{throw"An optional argument map and a callback must be provided"}if(n["treeOrder"]==null){n["treeOrder"]=15}var r=f;var s=l;if(n["persistent"]===true){r=c;s=u}this.functionMap={};var a=this;this.customFns={};new r(function(r){var e=function(){new s(n,function(e){var t=function(){n.backend=e;n.lexicon=r;a.engine=new o(n);i(null,a)};if(n["overwrite"]){e.clear(t)}else{t()}})};if(n["overwrite"]===true){r.clear(e)}else{e()}},n["name"])};Store.prototype.rdf=p.rdf;Store.prototype.rdf.api=p;Store.prototype.registerCustomFunction=function(e,t){this.customFns[e]=t;this.engine.setCustomFunctions(this.customFns)};Store.prototype.execute=function(){if(arguments.length===3){this.executeWithEnvironment(arguments[0],arguments[1],arguments[2])}else if(arguments.length===4){this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3])}else{var e;var t;if(arguments.length===1){e=arguments[0];var t=function(){}}else if(arguments.length===2){e=arguments[0];t=arguments[1]}this.engine.execute(e,t)}};Store.prototype.executeWithEnvironment=function(){var e,t,r;if(arguments.length===3){e=arguments[0];var i=function(){};t=arguments[1];r=arguments[2]}else if(arguments.length===4){e=arguments[0];var i=arguments[3];t=arguments[1];r=arguments[2]}t=h.map(t,function(e){return{token:"uri",value:e}});r=h.map(r,function(e){return{token:"uri",value:e}});this.engine.execute(e,i,t,r)};Store.prototype.graph=function(){var e=null;var t=null;if(arguments.length===1){t=arguments[0]||function(){};e=this.engine.lexicon.defaultGraphUri}else if(arguments.length===2){t=arguments[1]||function(){};e=arguments[0]}else{throw"An optional graph URI and a callback function must be provided"}if(this.rdf.resolve(e)!=null){e=this.rdf.resolve(e)}this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",t)};Store.prototype.node=function(){var e=null;var t=null;var r=null;if(arguments.length===2){r=arguments[0];t=arguments[1]||function(){};e=this.engine.lexicon.defaultGraphUri}else if(arguments.length===3){r=arguments[0];e=arguments[1];t=arguments[2]||function(){}}else{throw"An optional graph URI, node URI and a callback function must be provided"}if(this.rdf.resolve(e)!=null){e=this.rdf.resolve(e)}if(this.rdf.resolve(r)!=null){r=this.rdf.resolve(r)}this.engine.execute("CONSTRUCT { <"+r+"> ?p ?o } WHERE { GRAPH <"+e+"> { <"+r+"> ?p ?o } }",t)};Store.prototype.startObservingNode=function(){var e,t,r;if(arguments.length===2){e=arguments[0];r=arguments[1];this.engine.callbacksBackend.observeNode(e,r,function(){})}else if(arguments.length===3){e=arguments[0];t=arguments[1];r=arguments[2];this.engine.callbacksBackend.observeNode(e,t,r,function(){})}};Store.prototype.stopObservingNode=function(e){this.engine.callbacksBackend.stopObservingNode(e)};Store.prototype.startObservingQuery=function(){var e=arguments[0];var t=arguments[1];var r=arguments[2];if(r!=null){this.engine.callbacksBackend.observeQuery(e,t,r)}else{this.engine.callbacksBackend.observeQuery(e,t,function(){})}};Store.prototype.stopObservingQuery=function(e){this.engine.callbacksBackend.stopObservingQuery(e)};Store.prototype.subscribe=function(e,t,r,i,o){var l=this;var n=function(e,t){var n=[];var s={blanks:{},outCache:{}};var a=[];h.each(t,function(e){var t=p.buildRDFResource(e.subject,a,l.engine,s);var r=p.buildRDFResource(e.predicate,a,l.engine,s);var i=p.buildRDFResource(e.object,a,l.engine,s);if(t!=null&&r!=null&&i!=null){e=new p.Triple(t,r,i);n.push(e)}});o(e,n)};this.functionMap[o]=n;this.engine.callbacksBackend.subscribe(e,t,r,i,n,function(){})};Store.prototype.unsubscribe=function(e){var t=this.functionMap[e];this.engine.callbacksBackend.unsubscribe(t);delete this.functionMap[e]};Store.prototype.setPrefix=function(e,t){this.rdf.setPrefix(e,t)};Store.prototype.setDefaultPrefix=function(e){this.rdf.setDefaultPrefix(e)};Store.prototype.insert=function(){var e;var t;var r;if(arguments.length===1){t=arguments[0];r=function(){}}else if(arguments.length===2){t=arguments[0];r=arguments[1]||function(){}}else if(arguments.length===3){t=arguments[0];e=this.rdf.createNamedNode(arguments[1]);r=arguments[2]||function(){}}else{throw"The triples to insert, an optional graph and callback must be provided"}var i="";var n=this;t.forEach(function(e){i=i+n._nodeToQuery(e.subject)+n._nodeToQuery(e.predicate)+n._nodeToQuery(e.object)+"."});if(e!=null){i="INSERT DATA { GRAPH "+this._nodeToQuery(e)+" { "+i+" } }"}else{i="INSERT DATA { "+i+" }"}this.engine.execute(i,r)};Store.prototype._nodeToQuery=function(e){if(e.interfaceName==="NamedNode"){var t=this.rdf.resolve(e.valueOf());if(t!=null){return"<"+t+">"}else{return"<"+e.valueOf()+">"}}else{return e.toString()}};Store.prototype.delete=function(){var e;var t;var r;if(arguments.length===1){t=arguments[0];r=function(){}}else if(arguments.length===2){t=arguments[0];r=arguments[1]||function(){}}else if(arguments.length===3){t=arguments[0];e=this.rdf.createNamedNode(arguments[1]);r=arguments[2]||function(){}}else{throw"The triples to delete, an optional graph and callback must be provided"}var i="";var n=this;t.forEach(function(e){i=i+n._nodeToQuery(e.subject)+n._nodeToQuery(e.predicate)+n._nodeToQuery(e.object)+"."});if(e!=null){i="DELETE DATA { GRAPH "+this._nodeToQuery(e)+" { "+i+" } }"}else{i="DELETE DATA { "+i+" }"}this.engine.execute(i,r)};Store.prototype.clear=function(){var e;var t;if(arguments.length===0){e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);var t=function(){}}else if(arguments.length===1){e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);t=arguments[0]||function(){}}else if(arguments.length===2){e=this.rdf.createNamedNode(arguments[0]);t=arguments[1]||function(){}}else{throw"The optional graph and a callback must be provided"}var r="CLEAR GRAPH "+this._nodeToQuery(e);this.engine.execute(r,t)};Store.prototype.setBatchLoadEvents=function(e){this.engine.eventsOnBatchLoad=e};Store.prototype.registerDefaultNamespace=function(e,t){this.rdf.prefixes.set(e,t);this.engine.registerDefaultNamespace(e,t)};Store.prototype.registerDefaultProfileNamespaces=function(){var e=this.rdf.prefixes.values();for(var t in e){this.registerDefaultNamespace(t,e[t])}};Store.prototype.load=function(){var e;var t;var r;var i;var n={};if(arguments.length===3){r=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);e=arguments[0];t=arguments[1];i=arguments[2]||function(){}}else if(arguments.length===4){e=arguments[0];t=arguments[1];n=arguments[2];if(typeof n==="string"){r=this.rdf.createNamedNode(n);n={}}else{r=this.rdf.createNamedNode(n.graph||this.engine.lexicon.defaultGraphUri);delete n["graph"]}i=arguments[3]||function(){}}else if(arguments.length===2){throw"The mediaType of the parser, the data a callback and an optional graph must be provided"}if(e==="remote"){t=this.rdf.createNamedNode(t);var s="LOAD <"+t.valueOf()+"> INTO GRAPH <"+r.valueOf()+">";this.engine.execute(s,i)}else{var a=this;var o=this.engine.rdfLoader.parsers[e];if(!o)return i(new Error("Cannot find parser for the provided media type:"+e));var l=function(e,t){if(e){i(e,t)}else{a.engine.batchLoad(t,function(e){if(e!=null){i(null,e)}else{i(new Error("Error batch-loading triples."))}})}};var u=[o,{token:"uri",value:r.valueOf()},t,n,l];if(t&&typeof t==="string"&&t.indexOf("file://")===0){this.engine.rdfLoader.loadFromFile.apply(null,u)}else{this.engine.rdfLoader.tryToParse.apply(null,u)}}};Store.prototype.registerParser=function(e,t){this.engine.rdfLoader.registerParser(e,t)};Store.prototype.registeredGraphs=function(r){this.engine.lexicon.registeredGraphs(true,function(e){var t=h.map(e,function(e){return new p.NamedNode(e)});r(null,t)})};Store.prototype.getNetworkTransport=function(){return NetworkTransport};Store.prototype.setNetworkTransport=function(e){NetworkTransport=e};Store.prototype.close=function(e){if(e==null)e=function(){};if(this.engine.close)this.engine.close(e);else e()};Store.VERSION="0.9.18-alpha.19";var i=function(){var e;if(arguments.length==1){e=arguments[0]}else if(arguments.length==2){e=arguments[1]}else{e=arguments[2]}e(new Error("Store#connect is not supported in the 0.9.X series of the library"))};var n=function(){if(arguments.length==1){return new Store(arguments[0])}else if(arguments.length==2){return new Store(arguments[0],arguments[1])}else{return new Store}};Store.yieldFrequency=function(e){h.yieldFrequency(e)};t.exports.Store=Store;t.exports.create=n;t.exports.connect=i},{"./lexicon":142,"./persistent_lexicon":145,"./persistent_quad_backend":146,"./quad_backend":147,"./query_engine":149,"./rdf_model":153,"./utils":156}],156:[function(require,module,exports){(function(process){(function(){var slowNextTick=function(){if(typeof process!=="undefined"&&process.nextTick){return process.nextTick}if(typeof window!=="undefined"&&window.setImmediate){return window.setImmediate}return function e(t){setTimeout(t,0)}}();var spin=0;var yieldFrequency=100;var nextTick=function(e){spin++;if(spin<yieldFrequency){e()}else{spin=0;slowNextTick(e)}};var hashTerm=function(t){try{if(t==null){return""}if(t.token==="uri"){return"u"+t.value}else if(t.token==="blank"){return"b"+t.value}else if(t.token==="literal"){var e="l"+t.value;e=e+(t.type||"");e=e+(t.lang||"");return e}}catch(e){if(typeof t==="object"){var r="";for(p in t){r=r+p+t[p]}return r}return t}};var lexicalFormBaseUri=function(e,t){var r=null;t=t||{};if(e.value==null){var i=e.prefix;var n=e.suffix;var s=t.namespaces[i];if(s!=null){r=s+n}else{r=i+":"+n}}else{r=e.value}if(r===null){return null}else{if(r.indexOf(":")==-1){r=(t.base||"")+r}}return r};parseISO8601=function(e){return Date.parse(e)};if(!Date.prototype.toISOString){(function(){function e(e){if(e<10){return"0"+e}return e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}})()}iso8601=function(e){return e.toISOString()};compareDateComponents=function(e,t){var r=parseISO8601(e);var i=parseISO8601(t);if(r==i){return 0}else if(r<i){return-1}else{return 1}};lexicalFormLiteral=function(e,t){var r=e.value;var i=e.lang;var n=e.type;var s=null;if(r!=null&&n!=null&&typeof n!="string"){var a=n.value;if(a==null){var o=n.prefix;var l=n.suffix;var u=t.namespaces[o];e.type=u+l;a=u+l}if(a.indexOf("hexBinary")!=-1){s='"'+e.value.toLowerCase()+'"^^<'+a+">"}else{s='"'+e.value+'"^^<'+a+">"}}else{if(i==null&&n==null){s='"'+r+'"'}else if(n==null){s='"'+r+'"'+"@"+i}else{if(n.indexOf("hexBinary")!=-1){s='"'+e.value.toLowerCase()+'"^^<'+n+">"}else{s='"'+e.value+'"^^<'+n+">"}}}return s};normalizeUnicodeLiterals=function(string){var escapedUnicode=string.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[];var dups={};for(var i=0;i<escapedUnicode.length;i++){if(dups[escapedUnicode[i]]==null){dups[escapedUnicode[i]]=true;string=string.replace(new RegExp("\\"+escapedUnicode[i],"g"),eval("'"+escapedUnicode[i]+"'"))}}return string};registerIndexedDB=function(e){if(typeof window==="undefined"&&typeof process!=="undefined"&&process.browser===false){var t=_dereq_("sqlite3");var r=_dereq_("indexeddb-js");var i=new t.Database(":memory:");var n=r.makeScope("sqlite3",i);e.indexedDB=n.indexedDB;e.IDBKeyRange=n.IDBKeyRange}else{var s;if(typeof window==="undefined"){s=self}else{s=window}s.indexedDB=s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB;s.IDBKeyRange=s.IDBKeyRange||s.webkitIDBKeyRange||s.msIDBKeyRange;if(!s.indexedDB){console.log("The browser does not support IndexDB.")}else{e.indexedDB=s.indexedDB;e.IDBKeyRange=s.IDBKeyRange}}};guid=function(){function e(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};hashTerm=function(t){try{if(t==null){return""}if(t.token==="uri"){return"u"+t.value}else if(t.token==="blank"){return"b"+t.value}else if(t.token==="literal"){var e="l"+t.value;e=e+(t.type||"");e=e+(t.lang||"");return e}}catch(e){if(typeof t==="object"){var r="";for(p in t){r=r+p+t[p]}return r}return t}};var reject=function(e,t){var r=[];for(var i=0;i<e.length;i++){if(t(e[i])){r.push(e[i])}}return r};var include=function(e,t){for(var r=0;r<e.length;r++){if(e[r]===t)return true}return false};var each=function(e,t){if(e.forEach){e.forEach(t)}else{for(var r=0;r<e.length;r++)t(e[r])}};var map=function(e,t){if(e.map){return e.map(t)}else{var r=[];for(var i=0;i<e.length;i++)r[i]=t(e[i]);return r}};var keys=function(e){var t=[];for(var r in e)t.push(r);return t};var values=function(e){var t=[];for(var r in e)t.push(e[r]);return t};var size=function(e){if(e.length){return e.length}else{var t=0;for(var r in e)t++;return t}};clone=function(e){return JSON.parse(JSON.stringify(e))};var isObject=function(e){var t=typeof e;return t=="function"||e&&t=="object"||false};var create=function(){function r(){}return function(e){if(isObject(e)){r.prototype=e;var t=new r;r.prototype=null}return t||r()}}();var whilst=function(t,r,i){if(t()){r(function(e){if(e){return i(e)}whilst(t,r,i)})}else{i()}};var eachSeries=function(t,e,r){r=r||function(){};if(!t.length){return r()}var i=0;var n=function(){e(t[i],function(e){if(e){r(e);r=function(){}}else{i+=1;if(i>=t.length){r()}else{nextTick(n)}}})};n()};var eachParallel=function(t,e,r){r=r||function(){};if(!t.length){return r()}var i=false;var n=0;var s=function(e){if(e){i=true;throw new Error(e)}if(!i){n++;if(n===t.length)r()}};for(var a=0;a<t.length;a++){(function(e,t,r,i){nextTick(function(){try{i(e[t],function(){r()})}catch(e){r(e)}})})(t,a,s,e)}};var reduce=function(e,i,t,r){eachSeries(e,function(e,r){t(i,e,function(e,t){i=t;r(e)})},function(e){r(e,i)})};var seq=function(){var t=arguments;return function(){var i=this;var e=Array.prototype.slice.call(arguments);var r=e.pop();reduce(t,e,function(e,t,r){t.apply(i,e.concat([function(){var e=arguments[0];var t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,t){r.apply(i,[e].concat(t))})}};var isWorker=function(){if(typeof process==="undefined"||process.browser===true){if(typeof window==="undefined"){return true}else{return false}}else{return false}};module.exports={isWorker:isWorker,nextTick:nextTick,hasTerm:hashTerm,lexicalFormBaseUri:lexicalFormBaseUri,parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:guid,hashTerm:hashTerm,keys:keys,values:values,size:size,map:map,each:each,forEach:each,include:include,reject:reject,remove:reject,clone:clone,create:create,whilst:whilst,eachSeries:eachSeries,eachParallel:eachParallel,seq:seq,yieldFrequency:function(e){yieldFrequency=e}}}).call(this)}).call(this,require("_process"))},{_process:75}]},{},[155])(155)});