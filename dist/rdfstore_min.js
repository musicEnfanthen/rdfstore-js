!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).rdfstore=e()}}(function(){var define,module,exports;return function(){return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){return i(t[s][1][e]||e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}}()({1:[function(e,t,r){(function(e){(function(){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],n="undefined"==typeof globalThis?e:globalThis;t.exports=function(){for(var e=[],t=0;t<r.length;t++)"function"==typeof n[r[t]]&&(e[e.length]=r[t]);return e}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,t,r){"use strict";r.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return 3*(r+n)/4-n},r.toByteArray=function(e){var t,r,n=l(e),s=n[0],a=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,s,a)),c=0,f=a>0?s-4:s;for(r=0;r<f;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[c++]=255&t);1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t);return u},r.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(c(e,s,s+16383>a?a:s+16383));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],3:[function(e,t,r){},{}],4:[function(e,t,r){arguments[4][3][0].apply(r,arguments)},{dup:3}],5:[function(e,t,r){(function(e){(function(){!function(n){var i="object"==typeof r&&r&&!r.nodeType&&r,o="object"==typeof t&&t&&!t.nodeType&&t,s="object"==typeof e&&e;s.global!==s&&s.window!==s&&s.self!==s||(n=s);var a,u,l=2147483647,c=36,f=1,p=26,h=38,d=700,y=72,v=128,g="-",b=/^xn--/,m=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_=c-f,k=Math.floor,A=String.fromCharCode;function E(e){throw new RangeError(w[e])}function S(e,t){for(var r=e.length,n=[];r--;)n[r]=t(e[r]);return n}function C(e,t){var r=e.split("@"),n="";return r.length>1&&(n=r[0]+"@",e=r[1]),n+S((e=e.replace(x,".")).split("."),t).join(".")}function T(e){for(var t,r,n=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(r=e.charCodeAt(i++)))?n.push(((1023&t)<<10)+(1023&r)+65536):(n.push(t),i--):n.push(t);return n}function I(e){return S(e,function(e){var t="";return e>65535&&(t+=A((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=A(e)}).join("")}function F(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,r){var n=0;for(e=r?k(e/d):e>>1,e+=k(e/t);e>_*p>>1;n+=c)e=k(e/_);return k(n+(_+1)*e/(e+h))}function R(e){var t,r,n,i,o,s,a,u,h,d,b,m=[],x=e.length,w=0,_=v,A=y;for((r=e.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)e.charCodeAt(n)>=128&&E("not-basic"),m.push(e.charCodeAt(n));for(i=r>0?r+1:0;i<x;){for(o=w,s=1,a=c;i>=x&&E("invalid-input"),((u=(b=e.charCodeAt(i++))-48<10?b-22:b-65<26?b-65:b-97<26?b-97:c)>=c||u>k((l-w)/s))&&E("overflow"),w+=u*s,!(u<(h=a<=A?f:a>=A+p?p:a-A));a+=c)s>k(l/(d=c-h))&&E("overflow"),s*=d;A=j(w-o,t=m.length+1,0==o),k(w/t)>l-_&&E("overflow"),_+=k(w/t),w%=t,m.splice(w++,0,_)}return I(m)}function N(e){var t,r,n,i,o,s,a,u,h,d,b,m,x,w,_,S=[];for(m=(e=T(e)).length,t=v,r=0,o=y,s=0;s<m;++s)(b=e[s])<128&&S.push(A(b));for(n=i=S.length,i&&S.push(g);n<m;){for(a=l,s=0;s<m;++s)(b=e[s])>=t&&b<a&&(a=b);for(a-t>k((l-r)/(x=n+1))&&E("overflow"),r+=(a-t)*x,t=a,s=0;s<m;++s)if((b=e[s])<t&&++r>l&&E("overflow"),b==t){for(u=r,h=c;!(u<(d=h<=o?f:h>=o+p?p:h-o));h+=c)_=u-d,w=c-d,S.push(A(F(d+_%w,0))),u=k(_/w);S.push(A(F(u,0))),o=j(r,x,n==i),r=0,++n}++r,++t}return S.join("")}if(a={version:"1.4.1",ucs2:{decode:T,encode:I},decode:R,encode:N,toASCII:function(e){return C(e,function(e){return m.test(e)?"xn--"+N(e):e})},toUnicode:function(e){return C(e,function(e){return b.test(e)?R(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return a});else if(i&&o)if(t.exports==i)o.exports=a;else for(u in a)a.hasOwnProperty(u)&&(i[u]=a[u]);else n.punycode=a}(this)}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,r){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],7:[function(e,t,r){"use strict";var n=e("is-arguments"),i=e("is-generator-function"),o=e("which-typed-array"),s=e("is-typed-array");function a(e){return e.call.bind(e)}var u="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,c=a(Object.prototype.toString),f=a(Number.prototype.valueOf),p=a(String.prototype.valueOf),h=a(Boolean.prototype.valueOf);if(u)var d=a(BigInt.prototype.valueOf);if(l)var y=a(Symbol.prototype.valueOf);function v(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function g(e){return"[object Map]"===c(e)}function b(e){return"[object Set]"===c(e)}function m(e){return"[object WeakMap]"===c(e)}function x(e){return"[object WeakSet]"===c(e)}function w(e){return"[object ArrayBuffer]"===c(e)}function _(e){return"undefined"!=typeof ArrayBuffer&&(w.working?w(e):e instanceof ArrayBuffer)}function k(e){return"[object DataView]"===c(e)}function A(e){return"undefined"!=typeof DataView&&(k.working?k(e):e instanceof DataView)}r.isArgumentsObject=n,r.isGeneratorFunction=i,r.isTypedArray=s,r.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},r.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||A(e)},r.isUint8Array=function(e){return"Uint8Array"===o(e)},r.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},r.isUint16Array=function(e){return"Uint16Array"===o(e)},r.isUint32Array=function(e){return"Uint32Array"===o(e)},r.isInt8Array=function(e){return"Int8Array"===o(e)},r.isInt16Array=function(e){return"Int16Array"===o(e)},r.isInt32Array=function(e){return"Int32Array"===o(e)},r.isFloat32Array=function(e){return"Float32Array"===o(e)},r.isFloat64Array=function(e){return"Float64Array"===o(e)},r.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},r.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},g.working="undefined"!=typeof Map&&g(new Map),r.isMap=function(e){return"undefined"!=typeof Map&&(g.working?g(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),r.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},m.working="undefined"!=typeof WeakMap&&m(new WeakMap),r.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(m.working?m(e):e instanceof WeakMap)},x.working="undefined"!=typeof WeakSet&&x(new WeakSet),r.isWeakSet=function(e){return x(e)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),r.isArrayBuffer=_,k.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&k(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=A;var E="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function S(e){return"[object SharedArrayBuffer]"===c(e)}function C(e){return void 0!==E&&(void 0===S.working&&(S.working=S(new E)),S.working?S(e):e instanceof E)}function T(e){return v(e,f)}function I(e){return v(e,p)}function F(e){return v(e,h)}function j(e){return u&&v(e,d)}function R(e){return l&&v(e,y)}r.isSharedArrayBuffer=C,r.isAsyncFunction=function(e){return"[object AsyncFunction]"===c(e)},r.isMapIterator=function(e){return"[object Map Iterator]"===c(e)},r.isSetIterator=function(e){return"[object Set Iterator]"===c(e)},r.isGeneratorObject=function(e){return"[object Generator]"===c(e)},r.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===c(e)},r.isNumberObject=T,r.isStringObject=I,r.isBooleanObject=F,r.isBigIntObject=j,r.isSymbolObject=R,r.isBoxedPrimitive=function(e){return T(e)||I(e)||F(e)||j(e)||R(e)},r.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(_(e)||C(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(r,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})})},{"is-arguments":27,"is-generator-function":29,"is-typed-array":30,"which-typed-array":127}],8:[function(e,t,r){(function(t){(function(){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},i=/%[sdj%]/g;r.format=function(e){if(!b(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(u(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,o=n.length,s=String(e).replace(i,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),a=n[r];r<o;a=n[++r])v(a)||!w(a)?s+=" "+a:s+=" "+u(a);return s},r.deprecate=function(e,n){if(void 0!==t&&!0===t.noDeprecation)return e;if(void 0===t)return function(){return r.deprecate(e,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(t.throwDeprecation)throw new Error(n);t.traceDeprecation?console.trace(n):console.error(n),i=!0}return e.apply(this,arguments)}};var o={},s=/^$/;if(t.env.NODE_DEBUG){var a=t.env.NODE_DEBUG;a=a.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+a+"$","i")}function u(e,t){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&r._extend(n,t),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=l),f(n,e,n.depth)}function l(e,t){var r=u.styles[t];return r?"["+u.colors[r][0]+"m"+e+"["+u.colors[r][1]+"m":e}function c(e,t){return e}function f(e,t,n){if(e.customInspect&&t&&A(t.inspect)&&t.inspect!==r.inspect&&(!t.constructor||t.constructor.prototype!==t)){var i=t.inspect(n,e);return b(i)||(i=f(e,i,n)),i}var o=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(b(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,t);if(o)return o;var s=Object.keys(t),a=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),k(t)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return p(t);if(0===s.length){if(A(t)){var u=t.name?": "+t.name:"";return e.stylize("[Function"+u+"]","special")}if(x(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(_(t))return e.stylize(Date.prototype.toString.call(t),"date");if(k(t))return p(t)}var l,c="",w=!1,E=["{","}"];(d(t)&&(w=!0,E=["[","]"]),A(t))&&(c=" [Function"+(t.name?": "+t.name:"")+"]");return x(t)&&(c=" "+RegExp.prototype.toString.call(t)),_(t)&&(c=" "+Date.prototype.toUTCString.call(t)),k(t)&&(c=" "+p(t)),0!==s.length||w&&0!=t.length?n<0?x(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),l=w?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)T(t,String(s))?o.push(h(e,t,r,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(h(e,t,r,n,i,!0))}),o}(e,t,n,a,s):s.map(function(r){return h(e,t,n,a,r,w)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,c,E)):E[0]+c+E[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),T(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=v(r)?f(e,u.value,null):f(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+a.split("\n").map(function(e){return"   "+e}).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function v(e){return null===e}function g(e){return"number"==typeof e}function b(e){return"string"==typeof e}function m(e){return void 0===e}function x(e){return w(e)&&"[object RegExp]"===E(e)}function w(e){return"object"==typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===E(e)}function k(e){return w(e)&&("[object Error]"===E(e)||e instanceof Error)}function A(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}r.debuglog=function(e){if(e=e.toUpperCase(),!o[e])if(s.test(e)){var n=t.pid;o[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else o[e]=function(){};return o[e]},r.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.types=e("./support/types"),r.isArray=d,r.isBoolean=y,r.isNull=v,r.isNullOrUndefined=function(e){return null==e},r.isNumber=g,r.isString=b,r.isSymbol=function(e){return"symbol"==typeof e},r.isUndefined=m,r.isRegExp=x,r.types.isRegExp=x,r.isObject=w,r.isDate=_,r.types.isDate=_,r.isError=k,r.types.isNativeError=k,r.isFunction=A,r.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},r.isBuffer=e("./support/isBuffer");var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":"),[e.getDate(),C[e.getMonth()],t].join(" ")),r.format.apply(r,arguments))},r.inherits=e("inherits"),r._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;r.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(I&&e[I]){var t;if("function"!=typeof(t=e[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise(function(e,n){t=e,r=n}),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push(function(e,n){e?r(e):t(n)});try{e.apply(this,i)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),I&&Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},r.promisify.custom=I,r.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var i=r.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,r).then(function(e){t.nextTick(s.bind(null,null,e))},function(e){t.nextTick(function(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}.bind(null,e,s))})}return Object.setPrototypeOf(r,Object.getPrototypeOf(e)),Object.defineProperties(r,n(e)),r}}).call(this)}).call(this,e("_process"))},{"./support/isBuffer":6,"./support/types":7,_process:71,inherits:26}],9:[function(e,t,r){(function(t){(function(){"use strict";var t=e("base64-js"),n=e("ieee754");r.Buffer=s,r.SlowBuffer=function(e){+e!=e&&(e=0);return s.alloc(+e)},r.INSPECT_MAX_BYTES=50;var i=2147483647;function o(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return t.__proto__=s.prototype,t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return a(e,t,r)}function a(e,t,r){if("string"==typeof e)return function(e,t){"string"==typeof t&&""!==t||(t="utf8");if(!s.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=o(r),i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Q(e,ArrayBuffer)||e&&Q(e.buffer,ArrayBuffer))return function(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r);return n.__proto__=s.prototype,n}(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);var i=function(e){if(s.isBuffer(e)){var t=0|f(e.length),r=o(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(void 0!==e.length)return"number"!=typeof e.length||M(e.length)?o(0):c(e);if("Buffer"===e.type&&Array.isArray(e.data))return c(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return u(e),o(e<0?0:0|f(e))}function c(e){for(var t=e.length<0?0:0|f(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Q(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return P(e).length;default:if(i)return n?-1:B(e).length;t=(""+t).toLowerCase(),i=!0}}function h(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function d(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),M(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):y(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){var o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var c=-1;for(o=r;o<a;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*s}else-1!==c&&(o-=o-c),c=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){for(var f=!0,p=0;p<u;p++)if(l(e,o+p)!==l(t,p)){f=!1;break}if(f)return o}return-1}function v(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(2*s,2),16);if(M(a))return s;e[r+s]=a}return s}function g(e,t,r,n){return D(B(t,e.length-r),e,r,n)}function b(e,t,r,n){return D(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function m(e,t,r,n){return b(e,t,r,n)}function x(e,t,r,n){return D(P(t),e,r,n)}function w(e,t,r,n){return D(function(e,t){for(var r,n,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function _(e,r,n){return 0===r&&n===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(r,n))}function k(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,s,a,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=r)switch(f){case 1:l<128&&(c=l);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&l)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}r.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),s.poolSize=8192,s.from=function(e,t,r){return a(e,t,r)},s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,s.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},s.allocUnsafe=function(e){return l(e)},s.allocUnsafeSlow=function(e){return l(e)},s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(Q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),Q(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(Q(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)h(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):function(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return E(this,t,r);case"latin1":case"binary":return S(this,t,r);case"base64":return _(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"},s.prototype.compare=function(e,t,r,n,i){if(Q(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0),u=Math.min(o,a),l=this.slice(n,i),c=e.slice(t,r),f=0;f<u;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return d(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return d(this,e,t,r,!1)},s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return g(this,e,t,r);case"ascii":return b(this,e,t,r);case"latin1":case"binary":return m(this,e,t,r);case"base64":return x(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function E(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function C(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=L(e[o]);return i}function T(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function F(e,t,r,n,i,o){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function j(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function R(e,t,r,i,o){return t=+t,r>>>=0,o||j(e,0,r,4),n.write(e,t,r,i,23,4),r+4}function N(e,t,r,i,o){return t=+t,r>>>=0,o||j(e,0,r,8),n.write(e,t,r,i,52,8),r+8}s.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return n.__proto__=s.prototype,n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),n.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),n.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),n.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),n.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){(e=+e,t>>>=0,r>>>=0,n)||F(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<r&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);F(this,e,t,r,i-1,-i)}var o=r-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||F(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return R(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return R(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),u=a.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%u]}return this};var O=/[^+/0-9A-Za-z-_]/g;function L(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var r;t=t||1/0;for(var n=e.length,i=null,o=[],s=0;s<n;++s){if((r=e.charCodeAt(s))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function P(e){return t.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(O,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function D(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Q(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function M(e){return e!=e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":2,buffer:9,ieee754:25}],10:[function(e,t,r){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],11:[function(e,t,r){"use strict";var n=e("get-intrinsic"),i=e("./"),o=i(n("String.prototype.indexOf"));t.exports=function(e,t){var r=n(e,!!t);return"function"==typeof r&&o(e,".prototype.")>-1?i(r):r}},{"./":12,"get-intrinsic":19}],12:[function(e,t,r){"use strict";var n=e("function-bind"),i=e("get-intrinsic"),o=i("%Function.prototype.apply%"),s=i("%Function.prototype.call%"),a=i("%Reflect.apply%",!0)||n.call(s,o),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}t.exports=function(e){var t=a(n,s,arguments);u&&l&&(u(t,"length").configurable&&l(t,"length",{value:1+c(0,e.length-(arguments.length-1))}));return t};var f=function(){return a(n,o,arguments)};l?l(t.exports,"apply",{value:f}):t.exports.apply=f},{"function-bind":18,"get-intrinsic":19}],13:[function(e,t,r){"use strict";t.exports=function e(t){return null===t||"object"!=typeof t||null!=t.toJSON?JSON.stringify(t):Array.isArray(t)?"["+t.reduce((t,r,n)=>{return t+(0===n?"":",")+e(void 0===r||"symbol"==typeof r?null:r)},"")+"]":"{"+Object.keys(t).sort().reduce((r,n,i)=>{if(void 0===t[n]||"symbol"==typeof t[n])return r;return r+(0===r.length?"":",")+e(n)+":"+e(t[n])},"")+"}"}},{}],14:[function(e,t,r){"use strict";var n=e("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if(n)try{n([],"length")}catch(e){n=null}t.exports=n},{"get-intrinsic":19}],15:[function(e,t,r){"use strict";var n,i="object"==typeof Reflect?Reflect:null,o=i&&"function"==typeof i.apply?i.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};n=i&&"function"==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}t.exports=a,t.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&v(e,"error",t,r)}(e,i,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var u=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function f(e,t,r,n){var i,o,s,a;if(l(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,a=u,console&&console.warn&&console.warn(a)}return e}function p(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):y(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function y(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function v(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(o){n.once&&e.removeEventListener(t,i),r(o)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,i=this._events;if(void 0!==i)n=n&&void 0===i.error;else if(!n)return!1;if(n){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)o(u,this,t);else{var l=u.length,c=y(u,l);for(r=0;r<l;++r)o(c[r],this,t)}return!0},a.prototype.addListener=function(e,t){return f(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return f(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(l(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}},{}],16:[function(e,t,r){"use strict";var n=e("is-callable"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;t.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var s;arguments.length>=3&&(s=r),"[object Array]"===i.call(e)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s):"string"==typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,s):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s)}},{"is-callable":28}],17:[function(e,t,r){"use strict";var n=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==i.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,o=n.call(arguments,1),s=Math.max(0,t.length-o.length),a=[],u=0;u<s;u++)a.push("$"+u);if(r=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof r){var i=t.apply(this,o.concat(n.call(arguments)));return Object(i)===i?i:this}return t.apply(e,o.concat(n.call(arguments)))}),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r}},{}],18:[function(e,t,r){"use strict";var n=e("./implementation");t.exports=Function.prototype.bind||n},{"./implementation":17}],19:[function(e,t,r){"use strict";var n=SyntaxError,i=Function,o=TypeError,s=function(e){try{return i('"use strict"; return ('+e+").constructor;")()}catch(e){}},a=Object.getOwnPropertyDescriptor;if(a)try{a({},"")}catch(e){a=null}var u=function(){throw new o},l=a?function(){try{return arguments.callee,u}catch(e){try{return a(arguments,"callee").get}catch(e){return u}}}():u,c=e("has-symbols")(),f=Object.getPrototypeOf||function(e){return e.__proto__},p={},h="undefined"==typeof Uint8Array?void 0:f(Uint8Array),d={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":c?f([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":p,"%AsyncGenerator%":p,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":p,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":p,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?f(f([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&c?f((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&c?f((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?f(""[Symbol.iterator]()):void 0,"%Symbol%":c?Symbol:void 0,"%SyntaxError%":n,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":o,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=e("function-bind"),g=e("has"),b=v.call(Function.call,Array.prototype.concat),m=v.call(Function.apply,Array.prototype.splice),x=v.call(Function.call,String.prototype.replace),w=v.call(Function.call,String.prototype.slice),_=v.call(Function.call,RegExp.prototype.exec),k=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,A=/\\(\\)?/g,E=function(e,t){var r,i=e;if(g(y,i)&&(i="%"+(r=y[i])[0]+"%"),g(d,i)){var a=d[i];if(a===p&&(a=function e(t){var r;if("%AsyncFunction%"===t)r=s("async function () {}");else if("%GeneratorFunction%"===t)r=s("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=s("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&(r=f(i.prototype))}return d[t]=r,r}(i)),void 0===a&&!t)throw new o("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:a}}throw new n("intrinsic "+e+" does not exist!")};t.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new o('"allowMissing" argument must be a boolean');if(null===_(/^%?[^%]*%?$/g,e))throw new n("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=w(e,0,1),r=w(e,-1);if("%"===t&&"%"!==r)throw new n("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new n("invalid intrinsic syntax, expected opening `%`");var i=[];return x(e,k,function(e,t,r,n){i[i.length]=r?x(n,A,"$1"):t||e}),i}(e),i=r.length>0?r[0]:"",s=E("%"+i+"%",t),u=s.name,l=s.value,c=!1,f=s.alias;f&&(i=f[0],m(r,b([0,1],f)));for(var p=1,h=!0;p<r.length;p+=1){var y=r[p],v=w(y,0,1),S=w(y,-1);if(('"'===v||"'"===v||"`"===v||'"'===S||"'"===S||"`"===S)&&v!==S)throw new n("property names with quotes must have matching quotes");if("constructor"!==y&&h||(c=!0),g(d,u="%"+(i+="."+y)+"%"))l=d[u];else if(null!=l){if(!(y in l)){if(!t)throw new o("base intrinsic for "+e+" exists, but the property is not available.");return}if(a&&p+1>=r.length){var C=a(l,y);l=(h=!!C)&&"get"in C&&!("originalValue"in C.get)?C.get:l[y]}else h=g(l,y),l=l[y];h&&!c&&(d[u]=l)}}return l}},{"function-bind":18,has:23,"has-symbols":20}],20:[function(e,t,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,i=e("./shams");t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},{"./shams":21}],21:[function(e,t,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(e,t);if(42!==i.value||!0!==i.enumerable)return!1}return!0}},{}],22:[function(e,t,r){"use strict";var n=e("has-symbols/shams");t.exports=function(){return n()&&!!Symbol.toStringTag}},{"has-symbols/shams":21}],23:[function(e,t,r){"use strict";var n=e("function-bind");t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":18}],24:[function(e,t,r){var n=e("http"),i=e("url"),o=t.exports;for(var s in n)n.hasOwnProperty(s)&&(o[s]=n[s]);function a(e){if("string"==typeof e&&(e=i.parse(e)),e.protocol||(e.protocol="https:"),"https:"!==e.protocol)throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"');return e}o.request=function(e,t){return e=a(e),n.request.call(this,e,t)},o.get=function(e,t){return e=a(e),n.get.call(this,e,t)}},{http:103,url:124}],25:[function(e,t,r){r.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,l=u>>1,c=-7,f=r?i-1:0,p=r?-1:1,h=e[t+f];for(f+=p,o=h&(1<<-c)-1,h>>=-c,c+=a;c>0;o=256*o+e[t+f],f+=p,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=n;c>0;s=256*s+e[t+f],f+=p,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,n),o-=l}return(h?-1:1)*s*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var s,a,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,d=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=c?(a=0,s=c):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[r+h]=255&a,h+=d,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[r+h]=255&s,h+=d,s/=256,l-=8);e[r+h-d]|=128*y}},{}],26:[function(e,t,r){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},{}],27:[function(e,t,r){"use strict";var n=e("has-tostringtag/shams")(),i=e("call-bind/callBound")("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!o(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,t.exports=a?o:s},{"call-bind/callBound":11,"has-tostringtag/shams":22}],28:[function(e,t,r){"use strict";var n,i,o=Function.prototype.toString,s="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof s&&"function"==typeof Object.defineProperty)try{n=Object.defineProperty({},"length",{get:function(){throw i}}),i={},s(function(){throw 42},null,n)}catch(e){e!==i&&(s=null)}else s=null;var a=/^\s*class\b/,u=function(e){try{var t=o.call(e);return a.test(t)}catch(e){return!1}},l=Object.prototype.toString,c="function"==typeof Symbol&&!!Symbol.toStringTag,f="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{};t.exports=s?function(e){if(e===f)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;try{s(e,null,n)}catch(e){if(e!==i)return!1}return!u(e)}:function(e){if(e===f)return!0;if(!e)return!1;if("function"!=typeof e&&"object"!=typeof e)return!1;if("function"==typeof e&&!e.prototype)return!0;if(c)return function(e){try{return!u(e)&&(o.call(e),!0)}catch(e){return!1}}(e);if(u(e))return!1;var t=l.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t}},{}],29:[function(e,t,r){"use strict";var n,i=Object.prototype.toString,o=Function.prototype.toString,s=/^\s*(?:function)?\*/,a=e("has-tostringtag/shams")(),u=Object.getPrototypeOf;t.exports=function(e){if("function"!=typeof e)return!1;if(s.test(o.call(e)))return!0;if(!a)return"[object GeneratorFunction]"===i.call(e);if(!u)return!1;if(void 0===n){var t=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&u(t)}return u(e)===n}},{"has-tostringtag/shams":22}],30:[function(e,t,r){(function(r){(function(){"use strict";var n=e("for-each"),i=e("available-typed-arrays"),o=e("call-bind/callBound"),s=o("Object.prototype.toString"),a=e("has-tostringtag/shams")(),u="undefined"==typeof globalThis?r:globalThis,l=i(),c=o("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},f=o("String.prototype.slice"),p={},h=e("es-abstract/helpers/getOwnPropertyDescriptor"),d=Object.getPrototypeOf;a&&h&&d&&n(l,function(e){var t=new u[e];if(Symbol.toStringTag in t){var r=d(t),n=h(r,Symbol.toStringTag);if(!n){var i=d(r);n=h(i,Symbol.toStringTag)}p[e]=n.get}});t.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!(a&&Symbol.toStringTag in e)){var t=f(s(e),8,-1);return c(l,t)>-1}return!!h&&function(e){var t=!1;return n(p,function(r,n){if(!t)try{t=r.call(e)===n}catch(e){}}),t}(e)}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":1,"call-bind/callBound":11,"es-abstract/helpers/getOwnPropertyDescriptor":14,"for-each":16,"has-tostringtag/shams":22}],31:[function(e,t,r){"use strict";const{isArray:n,isObject:i,isString:o}=e("./types"),{prependBase:s}=e("./url"),a=e("./JsonLdError"),u=e("./ResolvedContext");function l(e){throw new a("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:e})}t.exports=class{constructor({sharedCache:e}){this.perOpCache=new Map,this.sharedCache=e}async resolve({context:e,documentLoader:t,base:r,cycles:s=new Set}){e&&i(e)&&e["@context"]&&(e=e["@context"]),n(e)||(e=[e]);const a=[];for(const c of e){if(o(c)){let e=this._get(c);e||(e=await this._resolveRemoteContext({url:c,documentLoader:t,base:r,cycles:s})),n(e)?a.push(...e):a.push(e);continue}if(null===c){a.push(new u({document:null}));continue}i(c)||l(e);const f=JSON.stringify(c);let p=this._get(f);p||(p=new u({document:c}),this._cacheResolvedContext({key:f,resolved:p,tag:"static"})),a.push(p)}return a}_get(e){let t=this.perOpCache.get(e);if(!t){const r=this.sharedCache.get(e);r&&(t=r.get("static"))&&this.perOpCache.set(e,t)}return t}_cacheResolvedContext({key:e,resolved:t,tag:r}){if(this.perOpCache.set(e,t),void 0!==r){let n=this.sharedCache.get(e);n||(n=new Map,this.sharedCache.set(e,n)),n.set(r,t)}return t}async _resolveRemoteContext({url:e,documentLoader:t,base:r,cycles:a}){e=s(r,e);const{context:u,remoteDoc:l}=await this._fetchContext({url:e,documentLoader:t,cycles:a});(function e({context:t,base:r}){if(!t)return;const a=t["@context"];if(o(a))return void(t["@context"]=s(r,a));if(n(a)){for(let t=0;t<a.length;++t){const n=a[t];o(n)?a[t]=s(r,n):i(n)&&e({context:{"@context":n},base:r})}return}if(!i(a))return;for(const t in a)e({context:a[t],base:r})})({context:u,base:r=l.documentUrl||e});const c=await this.resolve({context:u,documentLoader:t,base:r,cycles:a});return this._cacheResolvedContext({key:e,resolved:c,tag:l.tag}),c}async _fetchContext({url:e,documentLoader:t,cycles:r}){if(r.size>10)throw new a("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:"loading remote context failed",max:10});if(r.has(e))throw new a("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:"recursive context inclusion",url:e});let s,u;r.add(e);try{s=(u=await t(e)).document||null,o(s)&&(s=JSON.parse(s))}catch(t){throw new a("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:e,cause:t})}if(!i(s))throw new a("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:e});return s="@context"in s?{"@context":s["@context"]}:{"@context":{}},u.contextUrl&&(n(s["@context"])||(s["@context"]=[s["@context"]]),s["@context"].push(u.contextUrl)),{context:s,remoteDoc:u}}}},{"./JsonLdError":32,"./ResolvedContext":37,"./types":51,"./url":52}],32:[function(e,t,r){"use strict";t.exports=class extends Error{constructor(e="An unspecified JSON-LD error occurred.",t="jsonld.Error",r={}){super(e),this.name=t,this.message=e,this.details=r}}},{}],33:[function(e,t,r){"use strict";t.exports=(e=>{class t{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(t,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(t.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:t}),t.compact=function(t,r){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):e.compact(t,r)},t.expand=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):e.expand(t)},t.flatten=function(t){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):e.flatten(t)},t})},{}],34:[function(e,t,r){"use strict";t.exports=e("rdf-canonize").NQuads},{"rdf-canonize":84}],35:[function(e,t,r){"use strict";const{RDF_LANGSTRING:n,RDF_PLAIN_LITERAL:i,RDF_OBJECT:o,RDF_XML_LITERAL:s,XSD_STRING:a}=e("./constants");let u;function l(){return"undefined"==typeof XMLSerializer?e("xmldom").XMLSerializer:XMLSerializer}u="undefined"!=typeof Node?Node:{ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,ENTITY_REFERENCE_NODE:5,ENTITY_NODE:6,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11,NOTATION_NODE:12},t.exports=class{parse(e){const t={"@default":[]},r=e.getSubjects();for(let c=0;c<r.length;++c){const f=r[c];if(null===f)continue;const p=e.getSubjectTriples(f);if(null===p)continue;const h=p.predicates;for(const e in h){const r=h[e].objects;for(let c=0;c<r.length;++c){const p=r[c],h={};0===f.indexOf("_:")?h.subject={type:"blank node",value:f}:h.subject={type:"IRI",value:f},0===e.indexOf("_:")?h.predicate={type:"blank node",value:e}:h.predicate={type:"IRI",value:e};let d=p.value;if(p.type===s){const e=new(l());d="";for(let t=0;t<p.value.length;t++)p.value[t].nodeType===u.ELEMENT_NODE?d+=e.serializeToString(p.value[t]):p.value[t].nodeType===u.TEXT_NODE&&(d+=p.value[t].nodeValue)}h.object={},p.type===o?0===p.value.indexOf("_:")?h.object.type="blank node":h.object.type="IRI":(h.object.type="literal",p.type===i?p.language?(h.object.datatype=n,h.object.language=p.language):h.object.datatype=a:h.object.datatype=p.type),h.object.value=d,t["@default"].push(h)}}}return t}}},{"./constants":39,xmldom:4}],36:[function(e,t,r){"use strict";t.exports=class{constructor(){this._requests={}}wrapLoader(e){const t=this;return t._loader=e,function(){return t.add.apply(t,arguments)}}async add(e){let t=this._requests[e];if(t)return Promise.resolve(t);t=this._requests[e]=this._loader(e);try{return await t}finally{delete this._requests[e]}}}},{}],37:[function(e,t,r){"use strict";const n=e("lru-cache");t.exports=class{constructor({document:e}){this.document=e,this.cache=new n({max:10})}getProcessed(e){return this.cache.get(e)}setProcessed(e,t){this.cache.set(e,t)}}},{"lru-cache":54}],38:[function(e,t,r){"use strict";const n=e("./JsonLdError"),{isArray:i,isObject:o,isString:s,isUndefined:a}=e("./types"),{isList:u,isValue:l,isGraph:c,isSimpleGraph:f,isSubjectReference:p}=e("./graphTypes"),{expandIri:h,getContextValue:d,isKeyword:y,process:v,processingMode:g}=e("./context"),{removeBase:b}=e("./url"),{addValue:m,asArray:x,compareShortestLeast:w}=e("./util"),_={};function k(e,t,r){if("@nest"!==h(e,t,{vocab:!0},r))throw new n("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}t.exports=_,_.compact=(async({activeCtx:e,activeProperty:t=null,element:r,options:h={},compactionMap:b=(()=>void 0)})=>{if(i(r)){let n=[];for(let i=0;i<r.length;++i){let o=await _.compact({activeCtx:e,activeProperty:t,element:r[i],options:h,compactionMap:b});null===o&&void 0===(o=await b({unmappedValue:r[i],activeCtx:e,activeProperty:t,parent:r,index:i,options:h}))||n.push(o)}if(h.compactArrays&&1===n.length){0===(d(e,t,"@container")||[]).length&&(n=n[0])}return n}const w=d(e,t,"@context");if(a(w)||(e=await v({activeCtx:e,localCtx:w,propagate:!0,overrideProtected:!0,options:h})),o(r)){if(h.link&&"@id"in r&&h.link.hasOwnProperty(r["@id"])){const e=h.link[r["@id"]];for(let t=0;t<e.length;++t)if(e[t].expanded===r)return e[t].compacted}if(l(r)||p(r)){const n=_.compactValue({activeCtx:e,activeProperty:t,value:r,options:h});return h.link&&p(r)&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:n})),n}if(u(r)){if((d(e,t,"@container")||[]).includes("@list"))return _.compact({activeCtx:e,activeProperty:t,element:r["@list"],options:h,compactionMap:b})}const w="@reverse"===t,A={},E=e;l(r)||p(r)||(e=e.revertToPreviousContext());const S=d(E,t,"@context");a(S)||(e=await v({activeCtx:e,localCtx:S,propagate:!0,overrideProtected:!0,options:h})),h.link&&"@id"in r&&(h.link.hasOwnProperty(r["@id"])||(h.link[r["@id"]]=[]),h.link[r["@id"]].push({expanded:r,compacted:A}));let C=r["@type"]||[];C.length>1&&(C=Array.from(C).sort());const T=e;for(const t of C){const r=_.compactIri({activeCtx:T,iri:t,relativeTo:{vocab:!0}}),n=d(E,r,"@context");a(n)||(e=await v({activeCtx:e,localCtx:n,options:h,propagate:!1}))}const I=Object.keys(r).sort();for(const a of I){const p=r[a];if("@id"!==a)if("@type"!==a)if("@reverse"!==a)if("@preserve"!==a)if("@index"!==a)if("@graph"!==a&&"@list"!==a&&y(a)){const t=_.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});m(A,t,p)}else{if(!i(p))throw new n("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(0===p.length){const t=_.compactIri({activeCtx:e,iri:a,value:p,relativeTo:{vocab:!0},reverse:w}),r=e.mappings.has(t)?e.mappings.get(t)["@nest"]:null;let n=A;r&&(k(e,r,h),o(A[r])||(A[r]={}),n=A[r]),m(n,t,p,{propertyIsArray:!0})}for(const t of p){const r=_.compactIri({activeCtx:e,iri:a,value:t,relativeTo:{vocab:!0},reverse:w}),n=e.mappings.has(r)?e.mappings.get(r)["@nest"]:null;let p=A;n&&(k(e,n,h),o(A[n])||(A[n]={}),p=A[n]);const y=d(e,r,"@container")||[],v=c(t),g=u(t);let E;g?E=t["@list"]:v&&(E=t["@graph"]);let S=await _.compact({activeCtx:e,activeProperty:r,element:g||v?E:t,options:h,compactionMap:b});if(g){if(i(S)||(S=[S]),y.includes("@list")){m(p,r,S,{valueIsArray:!0,allowDuplicate:!0});continue}S={[_.compactIri({activeCtx:e,iri:"@list",relativeTo:{vocab:!0}})]:S},"@index"in t&&(S[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"])}if(v)if(y.includes("@graph")&&(y.includes("@id")||y.includes("@index")&&f(t))){let n;p.hasOwnProperty(r)?n=p[r]:p[r]=n={};const i=(y.includes("@id")?t["@id"]:t["@index"])||_.compactIri({activeCtx:e,iri:"@none",vocab:!0});m(n,i,S,{propertyIsArray:!h.compactArrays||y.includes("@set")})}else y.includes("@graph")&&f(t)?(i(S)&&S.length>1&&(S={"@included":S}),m(p,r,S,{propertyIsArray:!h.compactArrays||y.includes("@set")})):(i(S)&&1===S.length&&h.compactArrays&&(S=S[0]),S={[_.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}})]:S},"@id"in t&&(S[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t["@id"]),"@index"in t&&(S[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=t["@index"]),m(p,r,S,{propertyIsArray:!h.compactArrays||y.includes("@set")}));else if(y.includes("@language")||y.includes("@index")||y.includes("@id")||y.includes("@type")){let n,i;if(p.hasOwnProperty(r)?n=p[r]:p[r]=n={},y.includes("@language"))l(S)&&(S=S["@value"]),i=t["@language"];else if(y.includes("@index")){const n=d(e,r,"@index")||"@index",o=_.compactIri({activeCtx:e,iri:n,vocab:!0});if("@index"===n)i=t["@index"],delete S[o];else{let e;if([i,...e]=x(S[n]||[]),s(i))switch(e.length){case 0:delete S[n];break;case 1:S[n]=e[0];break;default:S[n]=e}else i=null}}else if(y.includes("@id")){const t=_.compactIri({activeCtx:e,iri:"@id",vocab:!0});i=S[t],delete S[t]}else if(y.includes("@type")){const n=_.compactIri({activeCtx:e,iri:"@type",vocab:!0});let o;switch([i,...o]=x(S[n]||[]),o.length){case 0:delete S[n];break;case 1:S[n]=o[0];break;default:S[n]=o}1===Object.keys(S).length&&"@id"in t&&(S=await _.compact({activeCtx:e,activeProperty:r,element:{"@id":t["@id"]},options:h,compactionMap:b}))}i||(i=_.compactIri({activeCtx:e,iri:"@none",vocab:!0})),m(n,i,S,{propertyIsArray:y.includes("@set")})}else{const e=!h.compactArrays||y.includes("@set")||y.includes("@list")||i(S)&&0===S.length||"@list"===a||"@graph"===a;m(p,r,S,{propertyIsArray:e})}}}else{if((d(e,t,"@container")||[]).includes("@index"))continue;const r=_.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});m(A,r,p)}else{const r=await _.compact({activeCtx:e,activeProperty:t,element:p,options:h,compactionMap:b});i(r)&&0===r.length||m(A,a,r)}else{const t=await _.compact({activeCtx:e,activeProperty:"@reverse",element:p,options:h,compactionMap:b});for(const r in t)if(e.mappings.has(r)&&e.mappings.get(r).reverse){const n=t[r],i=(d(e,r,"@container")||[]).includes("@set")||!h.compactArrays;m(A,r,n,{propertyIsArray:i}),delete t[r]}if(Object.keys(t).length>0){const r=_.compactIri({activeCtx:e,iri:a,relativeTo:{vocab:!0}});m(A,r,t)}}else{let t=x(p).map(e=>_.compactIri({activeCtx:E,iri:e,relativeTo:{vocab:!0}}));1===t.length&&(t=t[0]);const r=_.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}}),n=(d(e,r,"@container")||[]).includes("@set")&&g(e,1.1)||i(t)&&0===p.length;m(A,r,t,{propertyIsArray:n})}else{let t=x(p).map(t=>_.compactIri({activeCtx:e,iri:t,relativeTo:{vocab:!1}}));1===t.length&&(t=t[0]),A[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]=t}}return A}return r}),_.compactIri=(({activeCtx:e,iri:t,value:r=null,relativeTo:i={vocab:!1},reverse:s=!1})=>{if(null===t)return t;e.isPropertyTermScoped&&e.previousContext&&(e=e.previousContext);const a=e.getInverse();if(y(t)&&t in a&&"@none"in a[t]&&"@type"in a[t]["@none"]&&"@none"in a[t]["@none"]["@type"])return a[t]["@none"]["@type"]["@none"];if(i.vocab&&t in a){const n=e["@language"]||"@none",i=[];o(r)&&"@index"in r&&!("@graph"in r)&&i.push("@index","@index@set"),o(r)&&"@preserve"in r&&(r=r["@preserve"][0]),c(r)?("@index"in r&&i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r&&i.push("@graph@id","@graph@id@set"),i.push("@graph","@graph@set","@set"),"@index"in r||i.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in r||i.push("@graph@id","@graph@id@set")):o(r)&&!l(r)&&i.push("@id","@id@set","@type","@set@type");let a="@language",f="@null";if(s)a="@type",f="@reverse",i.push("@set");else if(u(r)){"@index"in r||i.push("@list");const e=r["@list"];if(0===e.length)a="@any",f="@none";else{let t=0===e.length?n:null,r=null;for(let n=0;n<e.length;++n){const i=e[n];let o="@none",s="@none";if(l(i)?"@language"in i?o=i["@language"]:"@type"in i?s=i["@type"]:o="@null":s="@id",null===t?t=o:o!==t&&l(i)&&(t="@none"),null===r?r=s:s!==r&&(r="@none"),"@none"===t&&"@none"===r)break}t=t||"@none","@none"!==(r=r||"@none")?(a="@type",f=r):f=t}}else l(r)?"@language"in r&&!("@index"in r)?(i.push("@language","@language@set"),f=r["@language"]):"@type"in r&&(a="@type",f=r["@type"]):(a="@type",f="@id"),i.push("@set");i.push("@none"),!o(r)||"@index"in r||i.push("@index","@index@set"),l(r)&&1===Object.keys(r).length&&i.push("@language","@language@set");const p=function(e,t,r,n,i,s){null===s&&(s="@null");const a=[];if(("@id"===s||"@reverse"===s)&&o(r)&&"@id"in r){"@reverse"===s&&a.push("@reverse");const t=_.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:!0}});e.mappings.has(t)&&e.mappings.get(t)&&e.mappings.get(t)["@id"]===r["@id"]?a.push.apply(a,["@vocab","@id"]):a.push.apply(a,["@id","@vocab"])}else a.push(s);a.push("@none");const u=e.inverse[t];for(const e of n){if(!(e in u))continue;const t=u[e][i];for(const e of a)if(e in t)return t[e]}return null}(e,t,r,i,a,f);if(null!==p)return p}if(i.vocab&&"@vocab"in e){const r=e["@vocab"];if(0===t.indexOf(r)&&t!==r){const n=t.substr(r.length);if(!e.mappings.has(n))return n}}let f=null;const p=[];let h=e.fastCurieMap;const d=t.length-1;for(let e=0;e<d&&t[e]in h;++e)""in(h=h[t[e]])&&p.push(h[""][0]);for(let n=p.length-1;n>=0;--n){const i=p[n],o=i.terms;for(const n of o){const o=n+":"+t.substr(i.iri.length);e.mappings.get(n)._prefix&&(!e.mappings.has(o)||null===r&&e.mappings.get(o)["@id"]===t)&&(null===f||w(o,f)<0)&&(f=o)}}if(null!==f)return f;for(const[r,i]of e.mappings)if(i&&i._prefix&&t.startsWith(r+":"))throw new n(`Absolute IRI "${t}" confused with prefix "${r}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:e});return i.vocab?t:b(e["@base"],t)}),_.compactValue=(({activeCtx:e,activeProperty:t,value:r,options:n})=>{if(l(r)){const n=d(e,t,"@type"),i=d(e,t,"@language"),o=d(e,t,"@container")||[],a="@index"in r&&!o.includes("@index");if(!a&&"@none"!==n&&(r["@type"]===n||r["@language"]===i))return r["@value"];const u=Object.keys(r).length,l=1===u||2===u&&"@index"in r&&!a,c="@language"in e,f=s(r["@value"]),p=e.mappings.has(t)&&null===e.mappings.get(t)["@language"];if(l&&"@none"!==n&&(!c||!f||p))return r["@value"];const h={};return a&&(h[_.compactIri({activeCtx:e,iri:"@index",relativeTo:{vocab:!0}})]=r["@index"]),"@type"in r?h[_.compactIri({activeCtx:e,iri:"@type",relativeTo:{vocab:!0}})]=_.compactIri({activeCtx:e,iri:r["@type"],relativeTo:{vocab:!0}}):"@language"in r&&(h[_.compactIri({activeCtx:e,iri:"@language",relativeTo:{vocab:!0}})]=r["@language"]),h[_.compactIri({activeCtx:e,iri:"@value",relativeTo:{vocab:!0}})]=r["@value"],h}const i=h(e,t,{vocab:!0},n),o=d(e,t,"@type"),a=_.compactIri({activeCtx:e,iri:r["@id"],relativeTo:{vocab:"@vocab"===o}});return"@id"===o||"@vocab"===o||"@graph"===i?a:{[_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}})]:a}}),_.removePreserve=((e,t,r)=>{if(i(t)){const n=[];for(let i=0;i<t.length;++i){const o=_.removePreserve(e,t[i],r);null!==o&&n.push(o)}t=n}else if(o(t)){if("@preserve"in t)return"@null"===t["@preserve"]?null:t["@preserve"];if(l(t))return t;if(u(t))return t["@list"]=_.removePreserve(e,t["@list"],r),t;const n=_.compactIri({activeCtx:e,iri:"@id",relativeTo:{vocab:!0}});if(t.hasOwnProperty(n)){const e=t[n];if(r.link.hasOwnProperty(e)){const n=r.link[e].indexOf(t);if(-1!==n)return r.link[e][n];r.link[e].push(t)}else r.link[e]=[t]}const o=_.compactIri({activeCtx:e,iri:"@graph",relativeTo:{vocab:!0}});for(const s in t){if(s===n&&r.bnodesToClear.includes(t[s])){delete t[n];continue}let a=_.removePreserve(e,t[s],r);const u=d(e,s,"@container")||[];r.compactArrays&&i(a)&&1===a.length&&0===u.length&&s!==o&&(a=a[0]),t[s]=a}}return t})},{"./JsonLdError":32,"./context":40,"./graphTypes":47,"./types":51,"./url":52,"./util":53}],39:[function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#";t.exports={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",RDF:n,RDF_LIST:n+"List",RDF_FIRST:n+"first",RDF_REST:n+"rest",RDF_NIL:n+"nil",RDF_TYPE:n+"type",RDF_PLAIN_LITERAL:n+"PlainLiteral",RDF_XML_LITERAL:n+"XMLLiteral",RDF_JSON_LITERAL:n+"JSON",RDF_OBJECT:n+"object",RDF_LANGSTRING:n+"langString",XSD:i,XSD_BOOLEAN:i+"boolean",XSD_DOUBLE:i+"double",XSD_INTEGER:i+"integer",XSD_STRING:i+"string"}},{}],40:[function(e,t,r){"use strict";const n=e("./util"),i=e("./JsonLdError"),{isArray:o,isObject:s,isString:a,isUndefined:u}=e("./types"),{isAbsolute:l,isRelative:c,prependBase:f,parse:p}=e("./url"),{asArray:h,compareShortestLeast:d}=e("./util"),y=new Map,v={};function g(e,t,r,n,i,o){if(null===t||!a(t)||v.isKeyword(t))return t;if(n&&n.hasOwnProperty(t)&&!0!==i.get(t)&&v.createTermDefinition({activeCtx:e,localCtx:n,term:t,defined:i,options:o}),(r=r||{}).vocab){const r=e.mappings.get(t);if(null===r)return null;if(r)return r["@id"]}const s=t.indexOf(":");if(s>0){const r=t.substr(0,s),a=t.substr(s+1);if("_"===r||0===a.indexOf("//"))return t;n&&n.hasOwnProperty(r)&&v.createTermDefinition({activeCtx:e,localCtx:n,term:r,defined:i,options:o});const u=e.mappings.get(r);if(u&&u._prefix)return u["@id"]+a;if(l(t))return t}return r.vocab&&"@vocab"in e?e["@vocab"]+t:r.base?f(e["@base"],t):t}t.exports=v,v.process=(async({activeCtx:e,localCtx:t,options:r,propagate:u=!0,overrideProtected:d=!1})=>{if(s(t)&&"@context"in t&&o(t["@context"])&&(t=t["@context"]),0===h(t).length)return e;const y=await r.contextResolver.resolve({context:t,documentLoader:r.documentLoader,base:r.base});s(y[0].document)&&"boolean"==typeof y[0].document["@propagate"]&&(u=y[0].document["@propagate"]);let b=e;u||b.previousContext||((b=b.clone()).previousContext=e);for(const o of y){let{document:u}=o;if(e=b,null===u){if(!d&&0!==Object.keys(e.protected).length){const s=r&&r.protectedMode||"error";if("error"===s)throw new i("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});if("warn"===s){console.warn("WARNING: invalid context nullification");const t=e;b=e=v.getInitialContext(r).clone();for(const[r,i]of Object.entries(t.protected))i&&(e.mappings[r]=n.clone(t.mappings[r]));e.protected=n.clone(t.protected),o.setProcessed(t,b);continue}throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,protectedMode:s})}b=e=v.getInitialContext(r).clone();continue}const h=o.getProcessed(e);if(h){b=e=h;continue}if(s(u)&&"@context"in u&&(u=u["@context"]),!s(u))throw new i("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:u});b=b.clone();const y=new Map;if("@version"in u){if(1.1!==u["@version"])throw new i("Unsupported JSON-LD version: "+u["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:u});if(e.processingMode&&"json-ld-1.0"===e.processingMode)throw new i("@version: "+u["@version"]+" not compatible with "+e.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:u});b.processingMode="json-ld-1.1",b["@version"]=u["@version"],y.set("@version",!0)}if(b.processingMode=b.processingMode||e.processingMode,"@base"in u){let e=u["@base"];if(null===e);else if(l(e))e=p(e);else{if(!c(e))throw new i('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:u});e=p(f(b["@base"].href,e))}b["@base"]=e,y.set("@base",!0)}if("@vocab"in u){const e=u["@vocab"];if(null===e)delete b["@vocab"];else{if(!a(e))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});if(!l(e)&&v.processingMode(b,1))throw new i('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:u});b["@vocab"]=g(b,e,{vocab:!0,base:!0},void 0,void 0,r)}y.set("@vocab",!0)}if("@language"in u){const e=u["@language"];if(null===e)delete b["@language"];else{if(!a(e))throw new i('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:u});b["@language"]=e.toLowerCase()}y.set("@language",!0)}if("@propagate"in u){const r=u["@propagate"];if("json-ld-1.0"===e.processingMode)throw new i("Invalid JSON-LD syntax; @propagate not compatible with "+e.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:u});if("boolean"!=typeof r)throw new i("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:t});y.set("@propagate",!0)}y.set("@protected",u["@protected"]||!1);for(const e in u)v.createTermDefinition({activeCtx:b,localCtx:u,term:e,defined:y,options:r,overrideProtected:d});o.setProcessed(e,b)}return b}),v.createTermDefinition=(({activeCtx:e,localCtx:t,term:r,defined:n,options:u,overrideProtected:c=!1})=>{if(n.has(r)){if(n.get(r))return;throw new i("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:t,term:r})}let f;if(n.set(r,!1),t.hasOwnProperty(r)&&(f=t[r]),"@type"===r&&s(f)&&"@set"===f["@container"]&&v.processingMode(e,1.1)){const e=["@container","@id","@protected"];if(Object.keys(f).some(t=>!e.includes(t)))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r})}else{if(v.isKeyword(r))throw new i("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:t,term:r});if(""===r)throw new i("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:t})}const p=e.mappings.get(r);if(e.mappings.has(r)&&e.mappings.delete(r),null===f||s(f)&&null===f["@id"])return e.mappings.set(r,null),void n.set(r,!0);let h=!1;if(a(f)&&(h=!0,f={"@id":f}),!s(f))throw new i("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:t});const d={};e.mappings.set(r,d),d.reverse=!1;const y=["@container","@id","@language","@reverse","@type"];v.processingMode(e,1.1)&&y.push("@context","@index","@nest","@prefix","@protected");for(const e in f)if(!y.includes(e))throw new i("Invalid JSON-LD syntax; a term definition must not contain "+e,"jsonld.SyntaxError",{code:"invalid term definition",context:t});const b=r.indexOf(":");if(d._termHasColon=b>0,"@reverse"in f){if("@id"in f)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});if("@nest"in f)throw new i("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});const r=f["@reverse"];if(!a(r))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});const o=g(e,r,{vocab:!0,base:!1},t,n,u);if(!l(o))throw new i("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});d["@id"]=o,d.reverse=!0}else if("@id"in f){let o=f["@id"];if(!a(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});if(o!==r){if(o=g(e,o,{vocab:!0,base:!1},t,n,u),!l(o)&&!v.isKeyword(o))throw new i("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t});d["@id"]=o,d._prefix=h&&!d._termHasColon&&o.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in d))if(d._termHasColon){const i=r.substr(0,b);if(t.hasOwnProperty(i)&&v.createTermDefinition({activeCtx:e,localCtx:t,term:i,defined:n,options:u}),e.mappings.has(i)){const t=r.substr(b+1);d["@id"]=e.mappings.get(i)["@id"]+t}else d["@id"]=r}else if("@type"==r)d["@id"]=r;else{if(!("@vocab"in e))throw new i("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:t,term:r});d["@id"]=e["@vocab"]+r}if((!0===f["@protected"]||!0===n.get("@protected")&&!1!==f["@protected"])&&(e.protected[r]=!0,d.protected=!0),n.set(r,!0),"@type"in f){let r=f["@type"];if(!a(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if("@json"===r||"@none"===r){if(v.processingMode(e,1))throw new i("Invalid JSON-LD syntax; an @context @type value must not be "+`"${r}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else if("@id"!==r&&"@vocab"!==r){if(r=g(e,r,{vocab:!0,base:!1},t,n,u),!l(r))throw new i("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:t});if(0===r.indexOf("_:"))throw new i("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}d["@type"]=r}if("@container"in f){const r=a(f["@container"])?[f["@container"]]:f["@container"]||[],n=["@list","@set","@index","@language"];let s=!0;const u=r.includes("@set");if(v.processingMode(e,1.1)){if(n.push("@graph","@id","@type"),r.includes("@list")){if(1!==r.length)throw new i("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else if(r.includes("@graph")){if(r.some(e=>"@graph"!==e&&"@id"!==e&&"@index"!==e&&"@set"!==e))throw new i("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:t})}else s&=r.length<=(u?2:1);if(r.includes("@type")&&(d["@type"]=d["@type"]||"@id",!["@id","@vocab"].includes(d["@type"])))throw new i("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:t})}else s&=!o(f["@container"]),s&=r.length<=1;if(s&=r.every(e=>n.includes(e)),!(s&=!(u&&r.includes("@list"))))throw new i("Invalid JSON-LD syntax; @context @container value must be one of the following: "+n.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:t});if(d.reverse&&!r.every(e=>["@index","@set"].includes(e)))throw new i("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:t});d["@container"]=r}if("@index"in f){if(!("@container"in f&&d["@container"].includes("@index")))throw new i("Invalid JSON-LD syntax; @index without @index in @container: "+`"${f["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});if(!a(f["@index"])||0===f["@index"].indexOf("@"))throw new i("Invalid JSON-LD syntax; @index must expand to an IRI: "+`"${f["@index"]}" on term "${r}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:t});d["@index"]=f["@index"]}if("@context"in f&&(d["@context"]=f["@context"]),"@language"in f&&!("@type"in f)){let e=f["@language"];if(null!==e&&!a(e))throw new i("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:t});null!==e&&(e=e.toLowerCase()),d["@language"]=e}if("@prefix"in f){if(d._termHasColon)throw new i("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:t});if("boolean"!=typeof f["@prefix"])throw new i("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:t});d._prefix=!0===f["@prefix"]}if("@nest"in f){const e=f["@nest"];if(!a(e)||"@nest"!==e&&0===e.indexOf("@"))throw new i("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:t});d["@nest"]=e}const m=d["@id"];if("@context"===m||"@preserve"===m)throw new i("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:t});if(p&&p.protected&&!c&&(e.protected[r]=!0,d.protected=!0,!function e(t,r){if(!t||"object"!=typeof t||!r||"object"!=typeof r)return t===r;const n=Array.isArray(t);if(n!==Array.isArray(r))return!1;if(n){if(t.length!==r.length)return!1;for(let n=0;n<t.length;++n)if(!e(t[n],r[n]))return!1;return!0}const i=Object.keys(t);const o=Object.keys(r);if(i.length!==o.length)return!1;for(const n in t){let i=t[n],o=r[n];if("@container"===n&&Array.isArray(i)&&Array.isArray(o)&&(i=i.slice().sort(),o=o.slice().sort()),!e(i,o))return!1}return!0}(p,d))){const e=u&&u.protectedMode||"error";if("error"===e)throw new i("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:t,term:r});if("warn"===e)return void console.warn("WARNING: protected term redefinition",{term:r});throw new i("Invalid protectedMode.","jsonld.SyntaxError",{code:"invalid protected mode",context:t,term:r,protectedMode:e})}}),v.expandIri=((e,t,r,n)=>g(e,t,r,void 0,void 0,n)),v.getInitialContext=(e=>{const t=p(e.base||""),r=JSON.stringify({base:t,processingMode:e.processingMode}),i=y.get(r);if(i)return i;const o={"@base":t,processingMode:e.processingMode,mappings:new Map,inverse:null,getInverse:function(){const e=this;if(e.inverse)return e.inverse;const t=e.inverse={},r=e.fastCurieMap={},n={},i=e["@language"]||"@none",o=e.mappings,u=[...o.keys()].sort(d);for(const e of u){const s=o.get(e);if(null===s)continue;let u=s["@container"]||"@none";u=[].concat(u).sort().join("");const l=h(s["@id"]);for(const o of l){let l=t[o];const c=v.isKeyword(o);if(l)c||s._termHasColon||n[o].push(e);else if(t[o]=l={},!c&&!s._termHasColon){n[o]=[e];const t={iri:o,terms:n[o]};o[0]in r?r[o[0]].push(t):r[o[0]]=[t]}if(l[u]||(l[u]={"@language":{},"@type":{},"@any":{}}),l=l[u],a(e,l["@any"],"@none"),s.reverse)a(e,l["@type"],"@reverse");else if("@none"===s["@type"])a(e,l["@any"],"@none"),a(e,l["@language"],"@none"),a(e,l["@type"],"@none");else if("@type"in s)a(e,l["@type"],s["@type"]);else if("@language"in s){const t=s["@language"]||"@null";a(e,l["@language"],t)}else a(e,l["@language"],i),a(e,l["@type"],"@none"),a(e,l["@language"],"@none")}}for(const e in r)s(r,e,1);return t},clone:function(){const e={};e["@base"]=this["@base"],e.mappings=n.clone(this.mappings),e.clone=this.clone,e.inverse=null,e.getInverse=this.getInverse,e.protected=n.clone(this.protected),this.previousContext&&(e.previousContext=this.previousContext.clone());e.revertToPreviousContext=this.revertToPreviousContext,"@language"in this&&(e["@language"]=this["@language"]);"@vocab"in this&&(e["@vocab"]=this["@vocab"]);return e},revertToPreviousContext:function(){if(!this.previousContext)return this;return this.previousContext.clone()},protected:{}};return 1e4===y.size&&y.clear(),y.set(r,o),o;function s(e,t,r){const n=e[t],i=e[t]={};let o,a;for(const e of n)(a=r>=(o=e.iri).length?"":o[r])in i?i[a].push(e):i[a]=[e];for(const e in i)""!==e&&s(i,e,r+1)}function a(e,t,r){t.hasOwnProperty(r)||(t[r]=e)}}),v.getContextValue=((e,t,r)=>{if(null===t){if("@context"===r)return;return null}if(e.mappings.has(t)){const n=e.mappings.get(t);if(u(r))return n;if(n.hasOwnProperty(r))return n[r]}return"@language"===r&&e.hasOwnProperty(r)?e[r]:"@context"!==r?null:void 0}),v.processingMode=((e,t)=>t.toString()>="1.1"?!e.processingMode||e.processingMode>="json-ld-"+t.toString():"json-ld-1.0"===e.processingMode),v.isKeyword=(e=>{if(!a(e)||"@"!==e[0])return!1;switch(e){case"@base":case"@container":case"@context":case"@default":case"@embed":case"@explicit":case"@graph":case"@id":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1})},{"./JsonLdError":32,"./types":51,"./url":52,"./util":53}],41:[function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=e("../util"),{LINK_HEADER_REL:o}=e("../constants"),s=e("../JsonLdError"),a=e("../RequestQueue");t.exports=(({secure:t,strictSSL:r=!0,maxRedirects:u=-1,request:l,headers:c={}}={strictSSL:!0,maxRedirects:-1,headers:{}})=>{c=i(c),l=l||e("request");const f=e("http");return(new a).wrapLoader(function(e){return async function e(i,a){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(t&&0!==i.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let p=null;if(null!==p)return p;let h;try{h=await function(e,t){return new Promise((r,n)=>{e(t,(e,t,i)=>{e?n(e):r({res:t,body:i})})})}(l,{url:i,headers:c,strictSSL:r,followRedirect:!1})}catch(e){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}const{res:d,body:y}=h;p={contextUrl:null,documentUrl:i,document:y||null};const v=f.STATUS_CODES[d.statusCode];if(d.statusCode>=400)throw new s(`URL "${i}" could not be dereferenced: ${v}`,"jsonld.InvalidUrl",{code:"loading document failed",url:i,httpStatusCode:d.statusCode});if(d.headers.link&&"application/ld+json"!==d.headers["content-type"]){const e=n(d.headers.link)[o];if(Array.isArray(e))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});e&&(p.contextUrl=e.target)}if(d.statusCode>=300&&d.statusCode<400&&d.headers.location){if(a.length===u)throw new s("URL could not be dereferenced; there were too many redirects.","jsonld.TooManyRedirects",{code:"loading document failed",url:i,httpStatusCode:d.statusCode,redirects:a});if(-1!==a.indexOf(i))throw new s("URL could not be dereferenced; infinite redirection was detected.","jsonld.InfiniteRedirectDetected",{code:"recursive context inclusion",url:i,httpStatusCode:d.statusCode,redirects:a});return a.push(i),e(d.headers.location,a)}a.push(i);return p}(e,[])})})},{"../JsonLdError":32,"../RequestQueue":36,"../constants":39,"../util":53,http:4,request:4}],42:[function(e,t,r){"use strict";const{parseLinkHeader:n,buildHeaders:i}=e("../util"),{LINK_HEADER_REL:o}=e("../constants"),s=e("../JsonLdError"),a=e("../RequestQueue"),u=/(^|(\r\n))link:/i;t.exports=(({secure:e,headers:t={},xhr:r}={headers:{}})=>{return t=i(t),(new a).wrapLoader(async function(i){if(0!==i.indexOf("http:")&&0!==i.indexOf("https:"))throw new s('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:i});if(e&&0!==i.indexOf("https"))throw new s('URL could not be dereferenced; secure mode is enabled and the URL\'s scheme is not "https".',"jsonld.InvalidUrl",{code:"loading document failed",url:i});let a;try{a=await function(e,t,r){const n=new(e=e||XMLHttpRequest);return new Promise((e,i)=>{n.onload=(()=>e(n)),n.onerror=(e=>i(e)),n.open("GET",t,!0);for(const e in r)n.setRequestHeader(e,r[e]);n.send()})}(r,i,t)}catch(e){throw new s("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:i,cause:e})}if(a.status>=400)throw new s("URL could not be dereferenced: "+a.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:i,httpStatusCode:a.status});const l={contextUrl:null,documentUrl:i,document:a.response},c=a.getResponseHeader("Content-Type");let f;u.test(a.getAllResponseHeaders())&&(f=a.getResponseHeader("Link"));if(f&&"application/ld+json"!==c){if(f=n(f)[o],Array.isArray(f))throw new s("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:i});f&&(l.contextUrl=f.target)}return l})})},{"../JsonLdError":32,"../RequestQueue":36,"../constants":39,"../util":53}],43:[function(e,t,r){"use strict";const n=e("./JsonLdError"),{isArray:i,isObject:o,isEmptyObject:s,isString:a,isUndefined:u}=e("./types"),{isList:l,isValue:c,isGraph:f}=e("./graphTypes"),{expandIri:p,getContextValue:h,isKeyword:d,process:y,processingMode:v}=e("./context"),{isAbsolute:g}=e("./url"),{addValue:b,asArray:m,getValues:x,validateTypeValue:w}=e("./util"),_={};function k({activeCtx:e,activeProperty:t,value:r,options:n}){if(null==r)return null;const i=p(e,t,{vocab:!0},n);if("@id"===i)return p(e,r,{base:!0},n);if("@type"===i)return p(e,r,{vocab:!0,base:!0},n);const o=h(e,t,"@type");if(("@id"===o||"@graph"===i)&&a(r))return{"@id":p(e,r,{base:!0},n)};if("@vocab"===o&&a(r))return{"@id":p(e,r,{vocab:!0,base:!0},n)};if(d(i))return r;const s={};if(o&&!["@id","@vocab","@none"].includes(o))s["@type"]=o;else if(a(r)){const r=h(e,t,"@language");null!==r&&(s["@language"]=r)}return["boolean","number","string"].includes(typeof r)||(r=r.toString()),s["@value"]=r,s}function A(e,t,r){const o=[],s=Object.keys(t).sort();for(const u of s){const s=p(e,u,{vocab:!0},r);let l=t[u];i(l)||(l=[l]);for(const e of l){if(null===e)continue;if(!a(e))throw new n("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:t});const r={"@value":e};"@none"!==s&&(r["@language"]=u.toLowerCase()),o.push(r)}}return o}async function E({activeCtx:e,options:t,activeProperty:r,value:o,expansionMap:s,asGraph:a,indexKey:l,propertyIndex:d}){const v=[],g=Object.keys(o).sort(),m="@type"===l;for(let x of g){if(m){const r=h(e,x,"@context");u(r)||(e=await y({activeCtx:e,localCtx:r,propagate:!1,options:t}))}let g,w=o[x];i(w)||(w=[w]),w=await _.expand({activeCtx:e,activeProperty:r,element:w,options:t,insideList:!1,insideIndex:!0,expansionMap:s}),g=d?"@none"===x?"@none":k({activeCtx:e,activeProperty:l,value:x,options:t}):p(e,x,{vocab:!0},t),"@id"===l?x=p(e,x,{base:!0},t):m&&(x=g);for(let e of w){if(a&&!f(e)&&(e={"@graph":[e]}),"@type"===l)"@none"===g||(e["@type"]?e["@type"]=[x].concat(e["@type"]):e["@type"]=[x]);else{if(c(e)&&!["@language","@type","@index"].includes(l))throw new n("Invalid JSON-LD syntax; Attempt to add illegal key to value "+`object: "${l}".`,"jsonld.SyntaxError",{code:"invalid value object",value:e});d?"@none"!==g&&b(e,d,g,{propertyIsArray:!0,prependValue:!0}):"@none"===g||l in e||(e[l]=x)}v.push(e)}}return v}t.exports=_,_.expand=(async({activeCtx:e,activeProperty:t=null,element:r,options:f={},insideList:S=!1,insideIndex:C=!1,typeScopedContext:T=null,expansionMap:I=(()=>void 0)})=>{if(null==r)return null;if("@default"===t&&(f=Object.assign({},f,{isFrame:!1})),!i(r)&&!o(r)){if(!S&&(null===t||"@graph"===p(e,t,{vocab:!0},f))){const n=await I({unmappedValue:r,activeCtx:e,activeProperty:t,options:f,insideList:S});return void 0===n?null:n}return k({activeCtx:e,activeProperty:t,value:r,options:f})}if(i(r)){let n=[];const o=h(e,t,"@container")||[];S=S||o.includes("@list");for(let o=0;o<r.length;++o){let s=await _.expand({activeCtx:e,activeProperty:t,element:r[o],options:f,expansionMap:I,insideIndex:C,typeScopedContext:T});S&&i(s)&&(s={"@list":s}),null===s&&void 0===(s=await I({unmappedValue:r[o],activeCtx:e,activeProperty:t,parent:r,index:o,options:f,expandedParent:n,insideList:S}))||(i(s)?n=n.concat(s):n.push(s))}return n}const F=p(e,t,{vocab:!0},f),j=h(e,t,"@context");T=T||(e.previousContext?e:null);let R=Object.keys(r).sort(),N=!C;if(N&&T&&R.length<=2&&!R.includes("@context"))for(const t of R){const r=p(T,t,{vocab:!0},f);if("@value"===r){N=!1,e=T;break}if("@id"===r&&1===R.length){N=!1;break}}N&&(e=e.revertToPreviousContext()),u(j)||(e=await y({activeCtx:e,localCtx:j,propagate:!0,overrideProtected:!0,options:f})),"@context"in r&&(e=await y({activeCtx:e,localCtx:r["@context"],options:f})),T=e;let O=null;for(const t of R){if("@type"===p(e,t,{vocab:!0},f)){O=O||t;const n=r[t],i=Array.isArray(n)?n.length>1?n.slice().sort():n:[n];for(const t of i){const r=h(T,t,"@context");u(r)||(e=await y({activeCtx:e,localCtx:r,options:f,propagate:!1}))}}}let L={};await async function e({activeCtx:t,activeProperty:r,expandedActiveProperty:f,element:x,expandedParent:k,options:S={},insideList:C,typeScopedContext:T,typeKey:I,expansionMap:F}){const j=Object.keys(x).sort();const R=[];let N;const O=x[I]&&"@json"==p(t,i(x[I])?x[I][0]:x[I],{vocab:!0},S);for(const e of j){let I,j=x[e];if("@context"===e)continue;let L=p(t,e,{vocab:!0},S);if((null===L||!g(L)&&!d(L))&&void 0===(L=F({unmappedProperty:e,activeCtx:t,activeProperty:r,parent:x,options:S,insideList:C,value:j,expandedParent:k})))continue;if(d(L)){if("@reverse"===f)throw new n("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:j});if(L in k)throw new n("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:L})}if("@id"===L){if(!a(j)){if(!S.isFrame)throw new n('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:j});if(o(j)){if(!s(j))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:j})}else{if(!i(j))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:j});if(!j.every(e=>a(e)))throw new n('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:j})}}b(k,"@id",m(j).map(e=>a(e)?p(t,e,{base:!0},S):e),{propertyIsArray:S.isFrame});continue}if("@type"===L){w(j),b(k,"@type",m(j).map(e=>a(e)?p(T,e,{base:!0,vocab:!0},S):e),{propertyIsArray:S.isFrame});continue}if("@graph"===L&&!o(j)&&!i(j))throw new n('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:j});if("@value"===L){N=j,O&&v(t,1.1)?k["@value"]=j:b(k,"@value",j,{propertyIsArray:S.isFrame});continue}if("@language"===L){if(null===j)continue;if(!a(j)&&!S.isFrame)throw new n('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:j});j=m(j).map(e=>a(e)?e.toLowerCase():e),b(k,"@language",j,{propertyIsArray:S.isFrame});continue}if("@index"===L){if(!a(j))throw new n('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:j});b(k,"@index",j);continue}if("@reverse"===L){if(!o(j))throw new n('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:j});if("@reverse"in(I=await _.expand({activeCtx:t,activeProperty:"@reverse",element:j,options:S,expansionMap:F})))for(const e in I["@reverse"])b(k,e,I["@reverse"][e],{propertyIsArray:!0});let e=k["@reverse"]||null;for(const t in I){if("@reverse"===t)continue;null===e&&(e=k["@reverse"]={}),b(e,t,[],{propertyIsArray:!0});const r=I[t];for(let i=0;i<r.length;++i){const o=r[i];if(c(o)||l(o))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:I});b(e,t,o,{propertyIsArray:!0})}}continue}if("@nest"===L){R.push(e);continue}let B=t;const P=h(t,e,"@context");u(P)||(B=await y({activeCtx:t,localCtx:P,propagate:!0,overrideProtected:!0,options:S}));const D=h(B,e,"@container")||[];if(D.includes("@language")&&o(j))I=A(B,j,S);else if(D.includes("@index")&&o(j)){const r=D.includes("@graph"),n=h(B,e,"@index")||"@index",i="@index"!==n&&p(t,n,{vocab:!0},S);I=await E({activeCtx:B,options:S,activeProperty:e,value:j,expansionMap:F,asGraph:r,indexKey:n,propertyIndex:i})}else if(D.includes("@id")&&o(j)){const t=D.includes("@graph");I=await E({activeCtx:B,options:S,activeProperty:e,value:j,expansionMap:F,asGraph:t,indexKey:"@id"})}else if(D.includes("@type")&&o(j))I=await E({activeCtx:B.revertToPreviousContext(),options:S,activeProperty:e,value:j,expansionMap:F,asGraph:!1,indexKey:"@type"});else{const n="@list"===L;if(n||"@set"===L){let e=r;n&&"@graph"===f&&(e=null),I=await _.expand({activeCtx:B,activeProperty:e,element:j,options:S,insideList:n,expansionMap:F})}else I="@json"===h(t,e,"@type")?{"@type":"@json","@value":j}:await _.expand({activeCtx:B,activeProperty:e,element:j,options:S,insideList:!1,expansionMap:F})}if(null!==I||"@value"===L||void 0!==(I=F({unmappedValue:j,expandedProperty:L,activeCtx:B,activeProperty:r,parent:x,options:S,insideList:C,key:e,expandedParent:k})))if("@list"!==L&&!l(I)&&D.includes("@list")&&(I={"@list":m(I)}),D.includes("@graph")&&!D.some(e=>"@id"===e||"@index"===e)&&(I=m(I).map(e=>({"@graph":m(e)}))),B.mappings.has(e)&&B.mappings.get(e).reverse){const e=k["@reverse"]=k["@reverse"]||{};I=m(I);for(let t=0;t<I.length;++t){const r=I[t];if(c(r)||l(r))throw new n('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:I});b(e,L,r,{propertyIsArray:!0})}}else b(k,L,I,{propertyIsArray:!0})}if("@value"in k)if("@json"===k["@type"]&&v(t,1.1));else if((o(N)||i(N))&&!S.isFrame)throw new n('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:N});for(const s of R){const a=i(x[s])?x[s]:[x[s]];for(const i of a){if(!o(i)||Object.keys(i).some(e=>"@value"===p(t,e,{vocab:!0},S)))throw new n("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:i});await e({activeCtx:t,activeProperty:r,expandedActiveProperty:f,element:i,expandedParent:k,options:S,insideList:C,typeKey:I,expansionMap:F})}}}({activeCtx:e,activeProperty:t,expandedActiveProperty:F,element:r,expandedParent:L,options:f,insideList:S,typeScopedContext:T,typeKey:O,expansionMap:I});let B=(R=Object.keys(L)).length;if("@value"in L){if("@type"in L&&"@language"in L)throw new n('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:L});let i=B-1;if("@type"in L&&(i-=1),"@index"in L&&(i-=1),"@language"in L&&(i-=1),0!==i)throw new n('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and at most one other property which can be "@type" or "@language".',"jsonld.SyntaxError",{code:"invalid value object",element:L});const o=null===L["@value"]?[]:m(L["@value"]),u=x(L,"@type");if(v(e,1.1)&&u.includes("@json")&&1===u.length);else if(0===o.length){const n=await I({unmappedValue:L,activeCtx:e,activeProperty:t,element:r,options:f,insideList:S});L=void 0!==n?n:null}else{if(!o.every(e=>a(e)||s(e))&&"@language"in L)throw new n("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:L});if(!u.every(e=>g(e)&&!(a(e)&&0===e.indexOf("_:"))||s(e)))throw new n('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:L})}}else if("@type"in L&&!i(L["@type"]))L["@type"]=[L["@type"]];else if("@set"in L||"@list"in L){if(B>1&&!(2===B&&"@index"in L))throw new n('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:L});"@set"in L&&(L=L["@set"],B=(R=Object.keys(L)).length)}else if(1===B&&"@language"in L){const n=await I(L,{unmappedValue:L,activeCtx:e,activeProperty:t,element:r,options:f,insideList:S});L=void 0!==n?n:null}if(o(L)&&!f.keepFreeFloatingNodes&&!S&&(null===t||"@graph"===F)&&(0===B||"@value"in L||"@list"in L||1===B&&"@id"in L)){const n=await I({unmappedValue:L,activeCtx:e,activeProperty:t,element:r,options:f,insideList:S});L=void 0!==n?n:null}return L})},{"./JsonLdError":32,"./context":40,"./graphTypes":47,"./types":51,"./url":52,"./util":53}],44:[function(e,t,r){"use strict";const{isSubjectReference:n}=e("./graphTypes"),{createMergedNodeMap:i}=e("./nodeMap"),o={};t.exports=o,o.flatten=(e=>{const t=i(e),r=[],o=Object.keys(t).sort();for(let e=0;e<o.length;++e){const i=t[o[e]];n(i)||r.push(i)}return r})},{"./graphTypes":47,"./nodeMap":49}],45:[function(e,t,r){"use strict";const{isKeyword:n}=e("./context"),i=e("./graphTypes"),o=e("./types"),s=e("./util"),a=e("./JsonLdError"),{createNodeMap:u,mergeNodeMapGraphs:l}=e("./nodeMap"),c={};function f(e){const t={};for(const r in e)void 0!==e[r]&&(t["@"+r]=[e[r]]);return[t]}function p(e,t,r){for(let n=r.length-1;n>=0;--n){const i=r[n];if(i.graph===t&&i.subject["@id"]===e["@id"])return!0}return!1}function h(e,t,r){const n="@"+r;let i=n in e?e[n][0]:t[r];return"embed"===r&&(!0===i?i="@last":!1===i?i="@never":"@always"!==i&&"@never"!==i&&"@link"!==i&&(i="@last")),i}function d(e){if(!o.isArray(e)||1!==e.length||!o.isObject(e[0]))throw new a("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:e})}function y(e,t,r,a){let u=!0,l=!1;for(const c in r){let f=!1;const p=s.getValues(t,c),h=0===s.getValues(r,c).length;if(n(c)){if("@id"!==c&&"@type"!==c)continue;if(u=!1,"@id"===c){if(r["@id"].length>=0&&!o.isEmptyObject(r["@id"][0]))return r["@id"].includes(p[0]);f=!0;continue}if("@type"in r)if(h){if(p.length>0)return!1;f=!0}else{if(1!==r["@type"].length||!o.isEmptyObject(r["@type"][0])){for(const e of r["@type"])if(p.some(t=>t===e))return!0;return!1}f=p.length>0}}const y=s.getValues(r,c)[0];let v=!1;if(y&&(d([y]),v="@default"in y),u=!1,0!==p.length||!v){if(p.length>0&&h)return!1;if(void 0===y){if(p.length>0)return!1;f=!0}else if(o.isObject(y))f=p.length>0;else if(i.isValue(y))f=p.some(e=>m(y,e));else if(i.isSubject(y)||i.isSubjectReference(y))f=p.some(t=>b(e,y,t,a));else if(i.isList(y)){const t=y["@list"][0];if(i.isList(p[0])){const r=p[0]["@list"];i.isValue(t)?f=r.some(e=>m(t,e)):(i.isSubject(t)||i.isSubjectReference(t))&&(f=r.some(r=>b(e,t,r,a)))}else f=!1}if(!f&&a.requireAll)return!1;l=l||f}}return u||l}function v(e,t){const r=e.uniqueEmbeds[e.graph],n=r[t],i=n.parent,a=n.property,u={"@id":t};if(o.isArray(i)){for(let e=0;e<i.length;++e)if(s.compareValues(i[e],u)){i[e]=u;break}}else{const e=o.isArray(i[a]);s.removeValue(i,a,u,{propertyIsArray:e}),s.addValue(i,a,u,{propertyIsArray:e})}const l=e=>{const t=Object.keys(r);for(const n of t)n in r&&o.isObject(r[n].parent)&&r[n].parent["@id"]===e&&(delete r[n],l(n))};l(t)}function g(e,t,r){o.isObject(e)?s.addValue(e,t,r,{propertyIsArray:!0}):e.push(r)}function b(e,t,r,n){if(!("@id"in r))return!1;const i=e.subjects[r["@id"]];return i&&y(e,i,t,n)}function m(e,t){const r=t["@value"],n=t["@type"],i=t["@language"],s=e["@value"]?o.isArray(e["@value"])?e["@value"]:[e["@value"]]:[],a=e["@type"]?o.isArray(e["@type"])?e["@type"]:[e["@type"]]:[],u=e["@language"]?o.isArray(e["@language"])?e["@language"]:[e["@language"]]:[];return 0===s.length&&0===a.length&&0===u.length||!(!s.includes(r)&&!o.isEmptyObject(s[0]))&&(!!(!n&&0===a.length||a.includes(n)||n&&o.isEmptyObject(a[0]))&&!!(!i&&0===u.length||u.includes(i)||i&&o.isEmptyObject(u[0])))}t.exports=c,c.frameMergedOrDefault=((e,t,r)=>{const n={options:r,graph:"@default",graphMap:{"@default":{}},graphStack:[],subjectStack:[],link:{},bnodeMap:{}},i=new s.IdentifierIssuer("_:b");u(e,n.graphMap,"@default",i),r.merged&&(n.graphMap["@merged"]=l(n.graphMap),n.graph="@merged"),n.subjects=n.graphMap[n.graph];const o=[];return c.frame(n,Object.keys(n.subjects).sort(),t,o),r.pruneBlankNodeIdentifiers&&(r.bnodesToClear=Object.keys(n.bnodeMap).filter(e=>1===n.bnodeMap[e].length)),o}),c.frame=((e,t,r,a,u=null)=>{d(r),r=r[0];const l=e.options,b={embed:h(r,l,"embed"),explicit:h(r,l,"explicit"),requireAll:h(r,l,"requireAll")},x=function(e,t,r,n){const i={};for(const o of t){const t=e.graphMap[e.graph][o];y(e,t,r,n)&&(i[o]=t)}return i}(e,t,r,b),w=Object.keys(x).sort();for(const t of w){const d=x[t];if("@link"===b.embed&&t in e.link){g(a,u,e.link[t]);continue}null===u?e.uniqueEmbeds={[e.graph]:{}}:e.uniqueEmbeds[e.graph]=e.uniqueEmbeds[e.graph]||{};const y={};if(y["@id"]=t,0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,y,{propertyIsArray:!0}),e.link[t]=y,"@never"===b.embed||p(d,e.graph,e.subjectStack))g(a,u,y);else{if("@last"===b.embed&&(t in e.uniqueEmbeds[e.graph]&&v(e,t),e.uniqueEmbeds[e.graph][t]={parent:a,property:u}),e.subjectStack.push({subject:d,graph:e.graph}),t in e.graphMap){let n=!1,i=null;"@graph"in r?(i=r["@graph"][0],o.isObject(i)||(i={}),n=!("@merged"===t||"@default"===t)):(n="@merged"!==e.graph,i={}),n&&(e.graphStack.push(e.graph),e.graph=t,c.frame(e,Object.keys(e.graphMap[t]).sort(),[i],y,"@graph"),e.graph=e.graphStack.pop)}for(const t of Object.keys(d).sort())if(n(t)){if(y[t]=s.clone(d[t]),"@type"===t)for(const t of d["@type"])0===t.indexOf("_:")&&s.addValue(e.bnodeMap,t,y,{propertyIsArray:!0})}else if(!b.explicit||t in r)for(let n of d[t]){const o=t in r?r[t]:f(b);if(i.isList(n)){const o={"@list":[]};g(y,t,o);const a=n["@list"];for(const u in a)if(n=a[u],i.isSubjectReference(n)){const i=t in r?r[t][0]["@list"]:f(b);c.frame(e,[n["@id"]],i,o,"@list")}else g(o,"@list",s.clone(n))}else i.isSubjectReference(n)?c.frame(e,[n["@id"]],o,y,t):m(o[0],n)&&g(y,t,s.clone(n))}for(const e of Object.keys(r).sort()){if(n(e))continue;const t=r[e][0]||{};if(!(h(t,l,"omitDefault")||e in y)){let r="@null";"@default"in t&&(r=s.clone(t["@default"])),o.isArray(r)||(r=[r]),y[e]=[{"@preserve":r}]}}if("@reverse"in r)for(const n of Object.keys(r["@reverse"]).sort()){const i=r["@reverse"][n];for(const r of Object.keys(e.subjects)){s.getValues(e.subjects[r],n).some(e=>e["@id"]===t)&&(y["@reverse"]=y["@reverse"]||{},s.addValue(y["@reverse"],n,[],{propertyIsArray:!0}),c.frame(e,[r],i,y["@reverse"][n],u))}}g(a,u,y),e.subjectStack.pop()}}})},{"./JsonLdError":32,"./context":40,"./graphTypes":47,"./nodeMap":49,"./types":51,"./util":53}],46:[function(e,t,r){"use strict";const n=e("./JsonLdError"),i=e("./graphTypes"),o=e("./types"),s=e("./util"),{RDF_LIST:a,RDF_FIRST:u,RDF_REST:l,RDF_NIL:c,RDF_TYPE:f,RDF_JSON_LITERAL:p,XSD_BOOLEAN:h,XSD_DOUBLE:d,XSD_INTEGER:y,XSD_STRING:v}=e("./constants"),g={};function b(e,t){if(e.termType.endsWith("Node"))return{"@id":e.value};const r={"@value":e.value};if(e.language)r["@language"]=e.language;else{let i=e.datatype.value;if(i||(i=v),i===p){i="@json";try{r["@value"]=JSON.parse(r["@value"])}catch(e){throw new n("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:r["@value"],cause:e})}}if(t){if(i===h)"true"===r["@value"]?r["@value"]=!0:"false"===r["@value"]&&(r["@value"]=!1);else if(o.isNumeric(r["@value"]))if(i===y){const e=parseInt(r["@value"],10);e.toFixed(0)===r["@value"]&&(r["@value"]=e)}else i===d&&(r["@value"]=parseFloat(r["@value"]));[h,y,d,v].includes(i)||(r["@type"]=i)}else i!==v&&(r["@type"]=i)}return r}t.exports=g,g.fromRDF=(async(e,{useRdfType:t=!1,useNativeTypes:r=!1})=>{const n={},p={"@default":n},h={};for(const i of e){const e="DefaultGraph"===i.graph.termType?"@default":i.graph.value;e in p||(p[e]={}),"@default"===e||e in n||(n[e]={"@id":e});const o=p[e],a=i.subject.value,u=i.predicate.value,l=i.object;a in o||(o[a]={"@id":a});const d=o[a],y=l.termType.endsWith("Node");if(!y||l.value in o||(o[l.value]={"@id":l.value}),u===f&&!t&&y){s.addValue(d,"@type",l.value,{propertyIsArray:!0});continue}const v=b(l,r);if(s.addValue(d,u,v,{propertyIsArray:!0}),y)if(l.value===c){const e=o[l.value];"usages"in e||(e.usages=[]),e.usages.push({node:d,property:u,value:v})}else l.value in h?h[l.value]=!1:h[l.value]={node:d,property:u,value:v}}for(const e in p){const t=p[e];if(!(c in t))continue;const r=t[c];if(r.usages){for(let e of r.usages){let r=e.node,n=e.property,s=e.value;const c=[],f=[];let p=Object.keys(r).length;for(;n===l&&o.isObject(h[r["@id"]])&&o.isArray(r[u])&&1===r[u].length&&o.isArray(r[l])&&1===r[l].length&&(3===p||4===p&&o.isArray(r["@type"])&&1===r["@type"].length&&r["@type"][0]===a)&&(c.push(r[u][0]),f.push(r["@id"]),r=(e=h[r["@id"]]).node,n=e.property,s=e.value,p=Object.keys(r).length,i.isBlankNode(r)););delete s["@id"],s["@list"]=c.reverse();for(const e of f)delete t[e]}delete r.usages}}const d=[],y=Object.keys(n).sort();for(const e of y){const t=n[e];if(e in p){const r=t["@graph"]=[],n=p[e],o=Object.keys(n).sort();for(const e of o){const t=n[e];i.isSubjectReference(t)||r.push(t)}}i.isSubjectReference(t)||d.push(t)}return d})},{"./JsonLdError":32,"./constants":39,"./graphTypes":47,"./types":51,"./util":53}],47:[function(e,t,r){"use strict";const n=e("./types"),i={};t.exports=i,i.isSubject=(e=>{if(n.isObject(e)&&!("@value"in e||"@set"in e||"@list"in e)){return Object.keys(e).length>1||!("@id"in e)}return!1}),i.isSubjectReference=(e=>n.isObject(e)&&1===Object.keys(e).length&&"@id"in e),i.isValue=(e=>n.isObject(e)&&"@value"in e),i.isList=(e=>n.isObject(e)&&"@list"in e),i.isGraph=(e=>n.isObject(e)&&"@graph"in e&&1===Object.keys(e).filter(e=>"@id"!==e&&"@index"!==e).length),i.isSimpleGraph=(e=>i.isGraph(e)&&!("@id"in e)),i.isBlankNode=(e=>!!n.isObject(e)&&("@id"in e?0===e["@id"].indexOf("_:"):0===Object.keys(e).length||!("@value"in e||"@set"in e||"@list"in e)))},{"./types":51}],48:[function(e,t,r){(function(r,n){(function(){const i=e("rdf-canonize"),o=e("./util"),s=e("./ContextResolver"),a=o.IdentifierIssuer,u=e("./JsonLdError"),l=e("lru-cache"),c=e("./NQuads"),f=e("./Rdfa"),{expand:p}=e("./expand"),{flatten:h}=e("./flatten"),{fromRDF:d}=e("./fromRdf"),{toRDF:y}=e("./toRdf"),{frameMergedOrDefault:v}=e("./frame"),{isArray:g,isObject:b,isString:m}=e("./types"),{isSubjectReference:x}=e("./graphTypes"),{getInitialContext:w,process:_}=e("./context"),{compact:k,compactIri:A,removePreserve:E}=e("./compact"),{createNodeMap:S,createMergedNodeMap:C,mergeNodeMaps:T}=e("./nodeMap"),I=void 0!==r&&r.versions&&r.versions.node,F=!I&&("undefined"!=typeof window||"undefined"!=typeof self),j=function(t){const r={},j=new l({max:100});function R(e,{documentLoader:r=t.documentLoader,...n}){return Object.assign({},{documentLoader:r},n,e)}return t.compact=async function(e,r,n){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(null===r)throw new u("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(null===e)return null;let i;(n=R(n,{base:m(e)?e:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new a("_:b"),contextResolver:new s({sharedCache:j})})).link&&(n.skipExpansion=!0),n.compactToRelative||delete n.base,i=n.skipExpansion?e:await t.expand(e,n);const l=await t.processContext(w(n),r,n);let c=await k({activeCtx:l,element:i,options:n,compactionMap:n.compactionMap});n.compactArrays&&!n.graph&&g(c)?1===c.length?c=c[0]:0===c.length&&(c={}):n.graph&&b(c)&&(c=[c]),b(r)&&"@context"in r&&(r=r["@context"]),r=o.clone(r),g(r)||(r=[r]);const f=r;r=[];for(let e=0;e<f.length;++e)(!b(f[e])||Object.keys(f[e]).length>0)&&r.push(f[e]);const p=r.length>0;if(1===r.length&&(r=r[0]),g(c)){const e=A({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}}),t=c;c={},p&&(c["@context"]=r),c[e]=t}else if(b(c)&&p){const e=c;c={"@context":r};for(const t in e)c[t]=e[t]}if(n.framing){const e=A({activeCtx:l,iri:"@graph",relativeTo:{vocab:!0}});n.link={},c[e]=E(l,c[e],n)}return c},t.expand=async function(e,r){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");!1===(r=R(r,{keepFreeFloatingNodes:!1,contextResolver:new s({sharedCache:j})})).expansionMap&&(r.expansionMap=void 0);const n={},i=[];if("expandContext"in r){const e=o.clone(r.expandContext);b(e)&&"@context"in e?n.expandContext=e:n.expandContext={"@context":e},i.push(n.expandContext)}let a;if(m(e)){const o=await t.get(e,r);a=o.documentUrl,n.input=o.document,o.contextUrl&&(n.remoteContext={"@context":o.contextUrl},i.push(n.remoteContext))}else n.input=o.clone(e);"base"in r||(r.base=a||"");let u=w(r);for(const e of i)u=await _({activeCtx:u,localCtx:e,options:r});let l=await p({activeCtx:u,element:n.input,options:r,expansionMap:r.expansionMap});return b(l)&&"@graph"in l&&1===Object.keys(l).length?l=l["@graph"]:null===l&&(l=[]),g(l)||(l=[l]),l},t.flatten=async function(e,r,n){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");r="function"==typeof r?null:r||null,n=R(n,{base:m(e)?e:"",contextResolver:new s({sharedCache:j})});const i=await t.expand(e,n),o=h(i);return null===r?o:(n.graph=!0,n.skipExpansion=!0,await t.compact(o,r,n))},t.frame=async function(e,r,n){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(n=R(n,{base:m(e)?e:"",embed:"@last",explicit:!1,requireAll:!0,omitDefault:!1,pruneBlankNodeIdentifiers:!0,bnodesToClear:[],contextResolver:new s({sharedCache:j})}),m(r)){const e=await t.get(r,n);if(r=e.document,e.contextUrl){let t=r["@context"];t?g(t)?t.push(e.contextUrl):t=[t,e.contextUrl]:t=e.contextUrl,r["@context"]=t}}const i=r&&r["@context"]||{},o=await t.expand(e,n),a={...n};a.isFrame=!0,a.keepFreeFloatingNodes=!0;const u=await t.expand(r,a);a.merged=!("@graph"in r);const l=v(o,u,a);return a.graph=!0,a.skipExpansion=!0,a.link={},a.framing=!0,await t.compact(l,i,a)},t.link=async function(e,r,n){const i={};return r&&(i["@context"]=r),i["@embed"]="@link",t.frame(e,i,n)},t.normalize=t.canonize=async function(e,r){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if("inputFormat"in(r=R(r,{base:m(e)?e:"",algorithm:"URDNA2015",skipExpansion:!1,contextResolver:new s({sharedCache:j})}))){if("application/n-quads"!==r.inputFormat&&"application/nquads"!==r.inputFormat)throw new u("Unknown canonicalization input format.","jsonld.CanonizeError");const t=c.parse(e);return i.canonize(t,r)}const n={...r};delete n.format,n.produceGeneralizedRdf=!1;const o=await t.toRDF(e,n);return i.canonize(o,r)},t.fromRDF=async function(e,t){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");t=R(t,{format:m(e)?"application/n-quads":void 0});const{format:n}=t;let{rdfParser:i}=t;if(n){if(!(i=i||r[n]))throw new u("Unknown input format.","jsonld.UnknownFormat",{format:n})}else i=(()=>e);const o=await i(e);return d(o,t)},t.toRDF=async function(e,r){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");let n;n=(r=R(r,{base:m(e)?e:"",skipExpansion:!1,contextResolver:new s({sharedCache:j})})).skipExpansion?e:await t.expand(e,r);const i=y(n,r);if(r.format){if("application/n-quads"===r.format||"application/nquads"===r.format)return await c.serialize(i);throw new u("Unknown output format.","jsonld.UnknownFormat",{format:r.format})}return i},t.createNodeMap=async function(e,r){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");r=R(r,{base:m(e)?e:"",contextResolver:new s({sharedCache:j})});const n=await t.expand(e,r);return C(n,r)},t.merge=async function(e,r,n){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!g(e))throw new TypeError('Could not merge, "docs" must be an array.');r="function"==typeof r?null:r||null,n=R(n,{contextResolver:new s({sharedCache:j})});const i=await Promise.all(e.map(e=>{const r={...n};return t.expand(e,r)}));let u=!0;"mergeNodes"in n&&(u=n.mergeNodes);const l=n.issuer||new a("_:b"),c={"@default":{}};for(let e=0;e<i.length;++e){const t=o.relabelBlankNodes(i[e],{issuer:new a("_:b"+e+"-")}),r=u||0===e?c:{"@default":{}};if(S(t,r,"@default",l),r!==c)for(const e in r){const t=r[e];if(!(e in c)){c[e]=t;continue}const n=c[e];for(const e in t)e in n||(n[e]=t[e])}}const f=T(c),p=[],h=Object.keys(f).sort();for(let e=0;e<h.length;++e){const t=f[h[e]];x(t)||p.push(t)}return null===r?p:(n.graph=!0,n.skipExpansion=!0,await t.compact(p,r,n))},Object.defineProperty(t,"documentLoader",{get:()=>t._documentLoader,set:e=>t._documentLoader=e}),t.documentLoader=(async e=>{throw new u("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:e})}),t.get=async function(e,r){let n;n="function"==typeof r.documentLoader?r.documentLoader:t.documentLoader;const i=await n(e);try{if(!i.document)throw new u("No remote document found at the given URL.","jsonld.NullRemoteDocument");m(i.document)&&(i.document=JSON.parse(i.document))}catch(e){throw new u("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:e,remoteDoc:i})}return i},t.processContext=async function(e,t,r){return r=R(r,{base:"",contextResolver:new s({sharedCache:j})}),null===t?w(r):(t=o.clone(t),b(t)&&"@context"in t||(t={"@context":t}),_({activeCtx:e,localCtx:t,options:r}))},t.getContextValue=e("./context").getContextValue,t.documentLoaders={},t.documentLoaders.node=e("./documentLoaders/node"),t.documentLoaders.xhr=e("./documentLoaders/xhr"),t.useDocumentLoader=function(e){if(!(e in t.documentLoaders))throw new u('Unknown document loader type: "'+e+'"',"jsonld.UnknownDocumentLoader",{type:e});t.documentLoader=t.documentLoaders[e].apply(t,Array.prototype.slice.call(arguments,1))},t.registerRDFParser=function(e,t){r[e]=t},t.unregisterRDFParser=function(e){delete r[e]},t.registerRDFParser("application/n-quads",c.parse),t.registerRDFParser("application/nquads",c.parse),t.registerRDFParser("rdfa-api",f.parse),t.url=e("./url"),t.util=o,Object.assign(t,o),t.promises=t,t.RequestQueue=e("./RequestQueue"),t.JsonLdProcessor=e("./JsonLdProcessor")(t),F&&void 0===n.JsonLdProcessor&&Object.defineProperty(n,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:t.JsonLdProcessor}),I?t.useDocumentLoader("node"):"undefined"!=typeof XMLHttpRequest&&t.useDocumentLoader("xhr"),t},R=function(){return j(function(){return R()})};j(R),t.exports=R}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./ContextResolver":31,"./JsonLdError":32,"./JsonLdProcessor":33,"./NQuads":34,"./Rdfa":35,"./RequestQueue":36,"./compact":38,"./context":40,"./documentLoaders/node":41,"./documentLoaders/xhr":42,"./expand":43,"./flatten":44,"./frame":45,"./fromRdf":46,"./graphTypes":47,"./nodeMap":49,"./toRdf":50,"./types":51,"./url":52,"./util":53,_process:71,"lru-cache":54,"rdf-canonize":84}],49:[function(e,t,r){"use strict";const{isKeyword:n}=e("./context"),i=e("./graphTypes"),o=e("./types"),s=e("./util"),a=e("./JsonLdError"),u={};t.exports=u,u.createMergedNodeMap=((e,t)=>{const r=(t=t||{}).issuer||new s.IdentifierIssuer("_:b"),n={"@default":{}};return u.createNodeMap(e,n,"@default",r),u.mergeNodeMaps(n)}),u.createNodeMap=((e,t,r,l,c,f)=>{if(o.isArray(e)){for(const n of e)u.createNodeMap(n,t,r,l,void 0,f);return}if(!o.isObject(e))return void(f&&f.push(e));if(i.isValue(e)){if("@type"in e){let t=e["@type"];0===t.indexOf("_:")&&(e["@type"]=t=l.getId(t))}return void(f&&f.push(e))}if(f&&i.isList(e)){const n=[];return u.createNodeMap(e["@list"],t,r,l,c,n),void f.push({"@list":n})}if("@type"in e){const t=e["@type"];for(const e of t)0===e.indexOf("_:")&&l.getId(e)}o.isUndefined(c)&&(c=i.isBlankNode(e)?l.getId(e["@id"]):e["@id"]),f&&f.push({"@id":c});const p=t[r],h=p[c]=p[c]||{};h["@id"]=c;const d=Object.keys(e).sort();for(let o of d){if("@id"===o)continue;if("@reverse"===o){const n={"@id":c},o=e["@reverse"];for(const e in o){const a=o[e];for(const o of a){let a=o["@id"];i.isBlankNode(o)&&(a=l.getId(a)),u.createNodeMap(o,t,r,l,a),s.addValue(p[a],e,n,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if("@graph"===o){c in t||(t[c]={}),u.createNodeMap(e[o],t,c,l);continue}if("@type"!==o&&n(o)){if("@index"===o&&o in h&&(e[o]!==h[o]||e[o]["@id"]!==h[o]["@id"]))throw new a("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:h});h[o]=e[o];continue}const f=e[o];if(0===o.indexOf("_:")&&(o=l.getId(o)),0!==f.length)for(let e of f)if("@type"===o&&(e=0===e.indexOf("_:")?l.getId(e):e),i.isSubject(e)||i.isSubjectReference(e)){const n=i.isBlankNode(e)?l.getId(e["@id"]):e["@id"];s.addValue(h,o,{"@id":n},{propertyIsArray:!0,allowDuplicate:!1}),u.createNodeMap(e,t,r,l,n)}else if(i.isValue(e))s.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1});else if(i.isList(e)){const n=[];u.createNodeMap(e["@list"],t,r,l,c,n),e={"@list":n},s.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1})}else u.createNodeMap(e,t,r,l,c),s.addValue(h,o,e,{propertyIsArray:!0,allowDuplicate:!1});else s.addValue(h,o,[],{propertyIsArray:!0})}}),u.mergeNodeMapGraphs=(e=>{const t={};for(const r of Object.keys(e).sort())for(const i of Object.keys(e[r]).sort()){const o=e[r][i];i in t||(t[i]={"@id":i});const a=t[i];for(const e of Object.keys(o).sort())if(n(e))a[e]=s.clone(o[e]);else for(const t of o[e])s.addValue(a,e,s.clone(t),{propertyIsArray:!0,allowDuplicate:!1})}return t}),u.mergeNodeMaps=(e=>{const t=e["@default"],r=Object.keys(e).sort();for(const n of r){if("@default"===n)continue;const r=e[n];let o=t[n];o?"@graph"in o||(o["@graph"]=[]):t[n]=o={"@id":n,"@graph":[]};const s=o["@graph"];for(const e of Object.keys(r).sort()){const t=r[e];i.isSubjectReference(t)||s.push(t)}}return t})},{"./JsonLdError":32,"./context":40,"./graphTypes":47,"./types":51,"./util":53}],50:[function(e,t,r){"use strict";const{createNodeMap:n}=e("./nodeMap"),{isKeyword:i}=e("./context"),o=e("./graphTypes"),s=e("canonicalize"),a=e("./types"),u=e("./util"),{RDF_FIRST:l,RDF_REST:c,RDF_NIL:f,RDF_TYPE:p,RDF_JSON_LITERAL:h,RDF_LANGSTRING:d,XSD_BOOLEAN:y,XSD_DOUBLE:v,XSD_INTEGER:g,XSD_STRING:b}=e("./constants"),{isAbsolute:m}=e("./url"),x={};function w(e,t,r,n,o){const s=Object.keys(t).sort();for(const a of s){const s=t[a],u=Object.keys(s).sort();for(let t of u){const u=s[t];if("@type"===t)t=p;else if(i(t))continue;for(const i of u){const s={termType:a.startsWith("_:")?"BlankNode":"NamedNode",value:a};if(!m(a))continue;const u={termType:t.startsWith("_:")?"BlankNode":"NamedNode",value:t};if(!m(t))continue;if("BlankNode"===u.termType&&!o.produceGeneralizedRdf)continue;const l=_(i,n,e,r);l&&e.push({subject:s,predicate:u,object:l,graph:r})}}}}function _(e,t,r,n){const i={};if(o.isValue(e)){i.termType="Literal",i.value=void 0,i.datatype={termType:"NamedNode"};let t=e["@value"];const r=e["@type"]||null;"@json"===r?(i.value=s(t),i.datatype.value=h):a.isBoolean(t)?(i.value=t.toString(),i.datatype.value=r||y):a.isDouble(t)||r===v?(a.isDouble(t)||(t=parseFloat(t)),i.value=t.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),i.datatype.value=r||v):a.isNumber(t)?(i.value=t.toFixed(0),i.datatype.value=r||g):"@language"in e?(i.value=t,i.datatype.value=r||d,i.language=e["@language"]):(i.value=t,i.datatype.value=r||b)}else if(o.isList(e)){const o=function(e,t,r,n){const i={termType:"NamedNode",value:l},o={termType:"NamedNode",value:c},s={termType:"NamedNode",value:f},a=e.pop(),u=a?{termType:"BlankNode",value:t.getId()}:s;let p=u;for(const s of e){const e=_(s,t,r,n),a={termType:"BlankNode",value:t.getId()};r.push({subject:p,predicate:i,object:e,graph:n}),r.push({subject:p,predicate:o,object:a,graph:n}),p=a}if(a){const e=_(a,t,r,n);r.push({subject:p,predicate:i,object:e,graph:n}),r.push({subject:p,predicate:o,object:s,graph:n})}return u}(e["@list"],t,r,n);i.termType=o.termType,i.value=o.value}else{const t=a.isObject(e)?e["@id"]:e;i.termType=t.startsWith("_:")?"BlankNode":"NamedNode",i.value=t}return"NamedNode"!==i.termType||m(i.value)?i:null}t.exports=x,x.toRDF=((e,t)=>{const r=new u.IdentifierIssuer("_:b"),i={"@default":{}};n(e,i,"@default",r);const o=[],s=Object.keys(i).sort();for(const e of s){let n;if("@default"===e)n={termType:"DefaultGraph",value:""};else{if(!m(e))continue;(n=e.startsWith("_:")?{termType:"BlankNode"}:{termType:"NamedNode"}).value=e}w(o,i[e],n,r,t)}return o})},{"./constants":39,"./context":40,"./graphTypes":47,"./nodeMap":49,"./types":51,"./url":52,"./util":53,canonicalize:13}],51:[function(e,t,r){"use strict";const n={};t.exports=n,n.isArray=Array.isArray,n.isBoolean=(e=>"boolean"==typeof e||"[object Boolean]"===Object.prototype.toString.call(e)),n.isDouble=(e=>n.isNumber(e)&&-1!==String(e).indexOf(".")),n.isEmptyObject=(e=>n.isObject(e)&&0===Object.keys(e).length),n.isNumber=(e=>"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)),n.isNumeric=(e=>!isNaN(parseFloat(e))&&isFinite(e)),n.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),n.isString=(e=>"string"==typeof e||"[object String]"===Object.prototype.toString.call(e)),n.isUndefined=(e=>void 0===e)},{}],52:[function(e,t,r){"use strict";const n=e("./types"),i={};t.exports=i,i.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}},i.parse=((e,t)=>{const r={},n=i.parsers[t||"full"],o=n.regex.exec(e);let s=n.keys.length;for(;s--;)r[n.keys[s]]=void 0===o[s]?null:o[s];return("https"===r.scheme&&"443"===r.port||"http"===r.scheme&&"80"===r.port)&&(r.href=r.href.replace(":"+r.port,""),r.authority=r.authority.replace(":"+r.port,""),r.port=null),r.normalizedPath=i.removeDotSegments(r.path),r}),i.prependBase=((e,t)=>{if(null===e)return t;if(i.isAbsolute(t))return t;n.isString(e)&&(e=i.parse(e||""));const r=i.parse(t),o={protocol:e.protocol||""};if(null!==r.authority)o.authority=r.authority,o.path=r.path,o.query=r.query;else if(o.authority=e.authority,""===r.path)o.path=e.path,null!==r.query?o.query=r.query:o.query=e.query;else{if(0===r.path.indexOf("/"))o.path=r.path;else{let t=e.path;(t=t.substr(0,t.lastIndexOf("/")+1)).length>0&&"/"!==t.substr(-1)&&(t+="/"),t+=r.path,o.path=t}o.query=r.query}""!==r.path&&(o.path=i.removeDotSegments(o.path));let s=o.protocol;return null!==o.authority&&(s+="//"+o.authority),s+=o.path,null!==o.query&&(s+="?"+o.query),null!==r.fragment&&(s+="#"+r.fragment),""===s&&(s="./"),s}),i.removeBase=((e,t)=>{if(null===e)return t;n.isString(e)&&(e=i.parse(e||""));let r="";if(""!==e.href?r+=(e.protocol||"")+"//"+(e.authority||""):t.indexOf("//")&&(r+="//"),0!==t.indexOf(r))return t;const o=i.parse(t.substr(r.length)),s=e.normalizedPath.split("/"),a=o.normalizedPath.split("/"),u=o.fragment||o.query?0:1;for(;s.length>0&&a.length>u&&s[0]===a[0];)s.shift(),a.shift();let l="";if(s.length>0){s.pop();for(let e=0;e<s.length;++e)l+="../"}return l+=a.join("/"),null!==o.query&&(l+="?"+o.query),null!==o.fragment&&(l+="#"+o.fragment),""===l&&(l="./"),l}),i.removeDotSegments=(e=>{if(0===e.length)return"";const t=e.split("/"),r=[];for(;t.length>0;){const e=t.shift(),n=0===t.length;"."!==e?".."!==e?r.push(e):(r.pop(),n&&r.push("")):n&&r.push("")}return r.length>0&&""!==r[0]&&r.unshift(""),1===r.length&&""===r[0]?"/":r.join("/")});const o=/^([A-Za-z][A-Za-z0-9+-.]*|_):/;i.isAbsolute=(e=>n.isString(e)&&o.test(e)),i.isRelative=(e=>n.isString(e))},{"./types":51}],53:[function(e,t,r){"use strict";const n=e("./graphTypes"),i=e("./types"),o=e("rdf-canonize").IdentifierIssuer,s=e("./JsonLdError"),a=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,u=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,l=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,c={accept:"application/ld+json, application/json"},f={};t.exports=f,f.IdentifierIssuer=o,f.clone=function(e){if(e&&"object"==typeof e){let t;if(i.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=f.clone(e[r])}else if(e instanceof Map){t=new Map;for(const[r,n]of e)t.set(r,f.clone(n))}else if(e instanceof Set){t=new Set;for(const r of e)t.add(f.clone(r))}else if(i.isObject(e)){t={};for(const r in e)t[r]=f.clone(e[r])}else t=e.toString();return t}return e},f.asArray=function(e){return Array.isArray(e)?e:[e]},f.buildHeaders=((e={})=>{if(Object.keys(e).some(e=>"accept"===e.toLowerCase()))throw new RangeError('Accept header may not be specified; only "'+c.accept+'" is supported.');return Object.assign({Accept:c.accept},e)}),f.parseLinkHeader=(e=>{const t={},r=e.match(a);for(let e=0;e<r.length;++e){let n=r[e].match(u);if(!n)continue;const i={target:n[1]},o=n[2];for(;n=l.exec(o);)i[n[1]]=void 0===n[2]?n[3]:n[2];const s=i.rel||"";Array.isArray(t[s])?t[s].push(i):t.hasOwnProperty(s)?t[s]=[t[s],i]:t[s]=i}return t}),f.validateTypeValue=(e=>{if(i.isString(e)||i.isEmptyObject(e))return;let t=!1;if(i.isArray(e)){t=!0;for(let r=0;r<e.length;++r)if(!i.isString(e[r])){t=!1;break}}if(!t)throw new s('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, or an empty object.',"jsonld.SyntaxError",{code:"invalid type value",value:e})}),f.hasProperty=((e,t)=>{if(e.hasOwnProperty(t)){const r=e[t];return!i.isArray(r)||r.length>0}return!1}),f.hasValue=((e,t,r)=>{if(f.hasProperty(e,t)){let o=e[t];const s=n.isList(o);if(i.isArray(o)||s){s&&(o=o["@list"]);for(let e=0;e<o.length;++e)if(f.compareValues(r,o[e]))return!0}else if(!i.isArray(r))return f.compareValues(r,o)}return!1}),f.addValue=((e,t,r,n)=>{if("propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1),"valueIsArray"in n||(n.valueIsArray=!1),"allowDuplicate"in n||(n.allowDuplicate=!0),"prependValue"in n||(n.prependValue=!1),n.valueIsArray)e[t]=r;else if(i.isArray(r)){0===r.length&&n.propertyIsArray&&!e.hasOwnProperty(t)&&(e[t]=[]),n.prependValue&&(r=r.concat(e[t]),e[t]=[]);for(let i=0;i<r.length;++i)f.addValue(e,t,r[i],n)}else if(e.hasOwnProperty(t)){const o=!n.allowDuplicate&&f.hasValue(e,t,r);i.isArray(e[t])||o&&!n.propertyIsArray||(e[t]=[e[t]]),o||(n.prependValue?e[t].unshift(r):e[t].push(r))}else e[t]=n.propertyIsArray?[r]:r}),f.getValues=((e,t)=>[].concat(e[t]||[])),f.removeProperty=((e,t)=>{delete e[t]}),f.removeValue=((e,t,r,n)=>{"propertyIsArray"in(n=n||{})||(n.propertyIsArray=!1);const i=f.getValues(e,t).filter(e=>!f.compareValues(e,r));0===i.length?f.removeProperty(e,t):1!==i.length||n.propertyIsArray?e[t]=i:e[t]=i[0]}),f.relabelBlankNodes=((e,t)=>{return function e(t,r){if(i.isArray(r))for(let n=0;n<r.length;++n)r[n]=e(t,r[n]);else if(n.isList(r))r["@list"]=e(t,r["@list"]);else if(i.isObject(r)){n.isBlankNode(r)&&(r["@id"]=t.getId(r["@id"]));const i=Object.keys(r).sort();for(let n=0;n<i.length;++n){const o=i[n];"@id"!==o&&(r[o]=e(t,r[o]))}}return r}((t=t||{}).issuer||new o("_:b"),e)}),f.compareValues=((e,t)=>e===t||(!(!n.isValue(e)||!n.isValue(t)||e["@value"]!==t["@value"]||e["@type"]!==t["@type"]||e["@language"]!==t["@language"]||e["@index"]!==t["@index"])||!!(i.isObject(e)&&"@id"in e&&i.isObject(t)&&"@id"in t)&&e["@id"]===t["@id"])),f.compareShortestLeast=((e,t)=>e.length<t.length?-1:t.length<e.length?1:e===t?0:e<t?-1:1)},{"./JsonLdError":32,"./graphTypes":47,"./types":51,"rdf-canonize":84}],54:[function(e,t,r){"use strict";const n=e("yallist"),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),u=Symbol("maxAge"),l=Symbol("dispose"),c=Symbol("noDisposeOnSet"),f=Symbol("lruList"),p=Symbol("cache"),h=Symbol("updateAgeOnGet"),d=()=>1;const y=(e,t,r)=>{const n=e[p].get(t);if(n){const t=n.value;if(v(e,t)){if(b(e,n),!e[a])return}else r&&(e[h]&&(n.value.now=Date.now()),e[f].unshiftNode(n));return t.value}},v=(e,t)=>{if(!t||!t.maxAge&&!e[u])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[u]&&r>e[u]},g=e=>{if(e[o]>e[i])for(let t=e[f].tail;e[o]>e[i]&&null!==t;){const r=t.prev;b(e,t),t=r}},b=(e,t)=>{if(t){const r=t.value;e[l]&&e[l](r.key,r.value),e[o]-=r.length,e[p].delete(r.key),e[f].removeNode(t)}};class m{constructor(e,t,r,n,i){this.key=e,this.value=t,this.length=r,this.now=n,this.maxAge=i||0}}const x=(e,t,r,n)=>{let i=r.value;v(e,i)&&(b(e,r),e[a]||(i=void 0)),i&&t.call(n,i.value,i.key,e)};t.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[i]=e.max||1/0;const t=e.length||d;if(this[s]="function"!=typeof t?d:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[u]=e.maxAge||0,this[l]=e.dispose,this[c]=e.noDisposeOnSet||!1,this[h]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[i]=e||1/0,g(this)}get max(){return this[i]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[u]=e,g(this)}get maxAge(){return this[u]}set lengthCalculator(e){"function"!=typeof e&&(e=d),e!==this[s]&&(this[s]=e,this[o]=0,this[f].forEach(e=>{e.length=this[s](e.value,e.key),this[o]+=e.length})),g(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;null!==r;){const n=r.prev;x(this,e,r,t),r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;null!==r;){const n=r.next;x(this,e,r,t),r=n}}keys(){return this[f].toArray().map(e=>e.key)}values(){return this[f].toArray().map(e=>e.value)}reset(){this[l]&&this[f]&&this[f].length&&this[f].forEach(e=>this[l](e.key,e.value)),this[p]=new Map,this[f]=new n,this[o]=0}dump(){return this[f].map(e=>!v(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[f]}set(e,t,r){if((r=r||this[u])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const n=r?Date.now():0,a=this[s](t,e);if(this[p].has(e)){if(a>this[i])return b(this,this[p].get(e)),!1;const s=this[p].get(e).value;return this[l]&&(this[c]||this[l](e,s.value)),s.now=n,s.maxAge=r,s.value=t,this[o]+=a-s.length,s.length=a,this.get(e),g(this),!0}const h=new m(e,t,a,n,r);return h.length>this[i]?(this[l]&&this[l](e,t),!1):(this[o]+=h.length,this[f].unshift(h),this[p].set(e,this[f].head),g(this),!0)}has(e){if(!this[p].has(e))return!1;const t=this[p].get(e).value;return!v(this,t)}get(e){return y(this,e,!0)}peek(e){return y(this,e,!1)}pop(){const e=this[f].tail;return e?(b(this,e),e.value):null}del(e){b(this,this[p].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r],i=n.e||0;if(0===i)this.set(n.k,n.v);else{const e=i-t;e>0&&this.set(n.k,n.v,e)}}}prune(){this[p].forEach((e,t)=>y(this,t,!1))}}},{yallist:56}],55:[function(e,t,r){"use strict";t.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},{}],56:[function(e,t,r){"use strict";function n(e){var t=this;if(t instanceof n||(t=new n),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach(function(e){t.push(e)});else if(arguments.length>0)for(var r=0,i=arguments.length;r<i;r++)t.push(arguments[r]);return t}function i(e,t,r){var n=t===e.head?new a(r,null,t,e):new a(r,t,t.next,e);return null===n.next&&(e.tail=n),null===n.prev&&(e.head=n),e.length++,n}function o(e,t){e.tail=new a(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function s(e,t){e.head=new a(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function a(e,t,r,n){if(!(this instanceof a))return new a(e,t,r,n);this.list=n,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}t.exports=n,n.Node=a,n.create=n,n.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},n.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},n.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},n.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},n.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)s(this,arguments[e]);return this.length},n.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},n.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},n.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;null!==r;n++)e.call(t,r.value,n,this),r=r.next},n.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;null!==r;n--)e.call(t,r.value,n,this),r=r.prev},n.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},n.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},n.prototype.map=function(e,t){t=t||this;for(var r=new n,i=this.head;null!==i;)r.push(e.call(t,i.value,this)),i=i.next;return r},n.prototype.mapReverse=function(e,t){t=t||this;for(var r=new n,i=this.tail;null!==i;)r.push(e.call(t,i.value,this)),i=i.prev;return r},n.prototype.reduce=function(e,t){var r,n=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");n=this.head.next,r=this.head.value}for(var i=0;null!==n;i++)r=e(r,n.value,i),n=n.next;return r},n.prototype.reduceReverse=function(e,t){var r,n=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");n=this.tail.prev,r=this.tail.value}for(var i=this.length-1;null!==n;i--)r=e(r,n.value,i),n=n.prev;return r},n.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},n.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},n.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=0,o=this.head;null!==o&&i<e;i++)o=o.next;for(;null!==o&&i<t;i++,o=o.next)r.push(o.value);return r},n.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new n;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var i=this.length,o=this.tail;null!==o&&i>t;i--)o=o.prev;for(;null!==o&&i>e;i--,o=o.prev)r.push(o.value);return r},n.prototype.splice=function(e,t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,n=this.head;null!==n&&r<e;r++)n=n.next;var o=[];for(r=0;n&&r<t;r++)o.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(r=2;r<arguments.length;r++)n=i(this,n,arguments[r]);return o},n.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var n=r.prev;r.prev=r.next,r.next=n}return this.head=t,this.tail=e,this};try{e("./iterator.js")(n)}catch(e){}},{"./iterator.js":55}],57:[function(e,t,r){var n=e;e=function(){};r=t.exports={Lexer:e("./lib/N3Lexer"),Parser:e("./lib/N3Parser"),Writer:e("./lib/N3Writer"),Store:e("./lib/N3Store"),StreamParser:e("./lib/N3StreamParser"),StreamWriter:e("./lib/N3StreamWriter"),Util:e("./lib/N3Util")};Object.keys(r).forEach(function(e){Object.defineProperty(r,e,{configurable:!0,enumerable:!0,get:function(){return delete r[e],r[e]=n("./lib/N3"+e)}})})},{"./lib/N3Lexer":58,"./lib/N3Parser":59,"./lib/N3Store":60,"./lib/N3StreamParser":61,"./lib/N3StreamWriter":62,"./lib/N3Util":63,"./lib/N3Writer":64}],58:[function(e,t,r){(function(e){(function(){var r=String.fromCharCode,n="function"==typeof e?e:function(e){setTimeout(e,0)},i=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\[uU]|\\(.)/g,o={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},s=/[\x00-\x20<>\\"\{\}\|\^\`]/;function a(e){if(!(this instanceof a))return new a(e);if((e=e||{}).lineMode){this._tripleQuotedString=this._number=this._boolean=/$0^/;var t=this;this._tokenize=this.tokenize,this.tokenize=function(e,r){this._tokenize(e,function(e,n){!e&&/^(?:IRI|blank|literal|langcode|typeIRI|\.|eof)$/.test(n.type)?r&&r(e,n):r&&r(e||t._syntaxError(n.type,r=null))})}}this._n3Mode=!1!==e.n3,this._comments=!!e.comments}a.prototype={_iri:/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,_unescapedIri:/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,_unescapedString:/^"[^"\\\r\n]+"/,_singleQuotedString:/^"(?:[^"\\\r\n]|\\.)*"(?=[^"])|^'(?:[^'\\\r\n]|\\.)*'(?=[^'])/,_tripleQuotedString:/^""("[^"\\]*(?:(?:\\.|"(?!""))[^"\\]*)*")""|^''('[^'\\]*(?:(?:\\.|'(?!''))[^'\\]*)*')''/,_langcode:/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,_prefix:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,_prefixed:/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<]))/,_variable:/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<])/,_blank:/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<]))/,_number:/^[\-+]?(?:\d+\.?\d*([eE](?:[\-\+])?\d+)|\d*\.?\d+)(?=\.?[,;:\s#()\[\]\{\}"'<])/,_boolean:/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<])/,_keyword:/^@[a-z]+(?=[\s#<:])/i,_sparqlKeyword:/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,_shortPredicates:/^a(?=\s+|<)/,_newline:/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,_comment:/#([^\n\r]*)/,_whitespace:/^[ \t]+/,_endOfFile:/^(?:#[^\n\r]*)?$/,_tokenizeToEnd:function(e,t){for(var r=this._input,n=this._comments;;){for(var i,o;i=this._newline.exec(r);)n&&(o=this._comment.exec(i[0]))&&e(null,{line:this._line,type:"comment",value:o[1],prefix:""}),r=r.substr(i[0].length,r.length),this._line++;if((i=this._whitespace.exec(r))&&(r=r.substr(i[0].length,r.length)),this._endOfFile.test(r))return t&&(n&&(o=this._comment.exec(r))&&e(null,{line:this._line,type:"comment",value:o[1],prefix:""}),e(r=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=r;var a,u=this._line,l="",c="",f="",p=r[0],h=null,d=0,y=!1;switch(p){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(d=1,l="^");break}if(this._previousMarker="^^","<"!==(r=r.substr(2))[0]){y=!0;break}case"<":if(h=this._unescapedIri.exec(r))l="IRI",c=h[1];else if(h=this._iri.exec(r)){if(null===(a=this._unescape(h[1]))||s.test(a))return g(this);l="IRI",c=a}else this._n3Mode&&r.length>1&&"="===r[1]&&(l="inverse",d=2,c="http://www.w3.org/2000/10/swap/log#implies");break;case"_":((h=this._blank.exec(r))||t&&(h=this._blank.exec(r+" ")))&&(l="blank",f="_",c=h[1]);break;case'"':case"'":if(h=this._unescapedString.exec(r))l="literal",c=h[0];else if(h=this._singleQuotedString.exec(r)){if(null===(a=this._unescape(h[0])))return g(this);l="literal",c=a.replace(/^'|'$/g,'"')}else if(h=this._tripleQuotedString.exec(r)){if(a=h[1]||h[2],this._line+=a.split(/\r\n|\r|\n/).length-1,null===(a=this._unescape(a)))return g(this);l="literal",c=a.replace(/^'|'$/g,'"')}break;case"?":this._n3Mode&&(h=this._variable.exec(r))&&(l="var",c=h[0]);break;case"@":"literal"===this._previousMarker&&(h=this._langcode.exec(r))?(l="langcode",c=h[1]):(h=this._keyword.exec(r))&&(l=h[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){l=".",d=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(r)||t&&(h=this._number.exec(r+" ")))&&(l="literal",c='"'+h[0]+'"^^http://www.w3.org/2001/XMLSchema#'+(h[1]?"double":/^[+\-]?\d+$/.test(h[0])?"integer":"decimal"));break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(r))?l=h[0].toUpperCase():y=!0;break;case"f":case"t":(h=this._boolean.exec(r))?(l="literal",c='"'+h[0]+'"^^http://www.w3.org/2001/XMLSchema#boolean'):y=!0;break;case"a":(h=this._shortPredicates.exec(r))?(l="abbreviation",c="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"):y=!0;break;case"=":this._n3Mode&&r.length>1&&(l="abbreviation",">"!==r[1]?(d=1,c="http://www.w3.org/2002/07/owl#sameAs"):(d=2,c="http://www.w3.org/2000/10/swap/log#implies"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":d=1,l=p;break;default:y=!0}if(y&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(h=this._prefix.exec(r))?((h=this._prefixed.exec(r))||t&&(h=this._prefixed.exec(r+" ")))&&(l="prefixed",f=h[1]||"",c=this._unescape(h[2])):(l="prefix",c=h[1]||"")),"^^"===this._previousMarker)switch(l){case"prefixed":l="type";break;case"IRI":l="typeIRI";break;default:l=""}if(!l)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?g(this):this._input=r;var v={line:u,type:l,value:c,prefix:f};e(null,v),this.previousToken=v,this._previousMarker=l,r=r.substr(d||h[0].length,r.length)}function g(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}},_unescape:function(e){try{return e.replace(i,function(e,t,n,i){var s;if(t){if(s=parseInt(t,16),isNaN(s))throw new Error;return r(s)}if(n){if(s=parseInt(n,16),isNaN(s))throw new Error;return s<=65535?r(s):r(55296+(s-=65536)/1024,56320+(1023&s))}var a=o[i];if(!a)throw new Error;return a})}catch(e){return null}},_syntaxError:function(e){this._input=null;var t=new Error('Unexpected "'+e+'" on line '+this._line+".");return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t},tokenize:function(e,t){var r=this;if(this._line=1,"string"==typeof e){if(this._input=e,"function"!=typeof t){var i,o=[];if(this._tokenizeToEnd(function(e,t){e?i=e:o.push(t)},!0),i)throw i;return o}n(function(){r._tokenizeToEnd(t,!0)})}else this._input="","function"==typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",function(e){null!==r._input&&(r._input+=e,r._tokenizeToEnd(t,!1))}),e.on("end",function(){null!==r._input&&r._tokenizeToEnd(t,!0)}),e.on("error",t)}},t.exports=a}).call(this)}).call(this,e("timers").setImmediate)},{timers:123}],59:[function(e,t,r){var n=e("./N3Lexer"),i="http://www.w3.org/1999/02/22-rdf-syntax-ns#",o=i+"nil",s=i+"first",a=i+"rest",u=/^[a-z][a-z0-9+.-]*:/i,l=/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i,c=/(?:^|\/)\.\.?(?:$|[\/#?])/,f=0,p=0;function h(e){if(!(this instanceof h))return new h(e);this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.documentIRI);var t="string"==typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r="turtle"===t,i="trig"===t,o=/triple/.test(t),s=/quad/.test(t),a=this._n3Mode=/n3/.test(t),u=o||s;(this._supportsNamedGraphs=!(r||a))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||o||a),u&&(this._base="",this._resolveIRI=function(e){return this._error("Disallowed relative IRI",e),this._callback=d,this._subject=null}),this._blankNodePrefix="string"!=typeof e.blankNodePrefix?"":"_:"+e.blankNodePrefix.replace(/^_:/,""),this._lexer=e.lexer||new n({lineMode:u,n3:a}),this._explicitQuantifiers=!!e.explicitQuantifiers}function d(){}h._resetBlankNodeIds=function(){f=p=0},h.prototype={_setBase:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(l),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base=null},_saveContext:function(e,t,r,n,i){var o=this._n3Mode;this._contextStack.push({subject:r,predicate:n,object:i,graph:t,type:e,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph+".",this._quantified=Object.create(this._quantified))},_restoreContext:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)},_readInTopContext:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}},_readEntity:function(e,t){var r;switch(e.type){case"IRI":case"typeIRI":r=null===this._base||u.test(e.value)?e.value:this._resolveIRI(e);break;case"type":case"blank":case"prefixed":var n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'+e.prefix+':"',e);r=n+e.value;break;case"var":return e.value;default:return this._error("Expected entity but got "+e.type,e)}return!t&&this._n3Mode&&r in this._quantified&&(r=this._quantified[r]),r},_readSubject:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject="_:b"+p++,null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,o,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph="_:b"+p++,null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate="http://www.w3.org/2000/10/swap/reify#forSome",this._quantifiedPrefix="_:b",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate="http://www.w3.org/2000/10/swap/reify#forAll",this._quantifiedPrefix="?b-",this._readQuantifierList):this._error('Unexpected "@forAll"',e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph},_readPredicate:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=e.value;break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected "+t,e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject},_readObject:function(e){switch(e.type){case"literal":return this._object=e.value,this._readDataTypeOrLang;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject="_:b"+p++),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,o),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph="_:b"+p++),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()},_readPredicateOrNamedGraph:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)},_readGraph:function(e){return"{"!==e.type?this._error("Expected graph but got "+e.type,e):(this._graph=this._subject,this._subject=null,this._readSubject)},_readBlankNodeHead:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))},_readBlankNodeTail:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._triple(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()},_readPredicateAfterBlank:function(e){return"."!==e.type||this._contextStack.length?this._readPredicate(e):(this._subject=null,this._readPunctuation(e))},_readListItem:function(e){var t=null,r=null,n=this._subject,i=this._contextStack,u=i[i.length-1],l=this._readListItem,c=!0;switch(e.type){case"[":this._saveContext("blank",this._graph,r="_:b"+p++,s,this._subject=t="_:b"+p++),l=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r="_:b"+p++,s,o),this._subject=null;break;case")":if(this._restoreContext(),0!==i.length&&"list"===i[i.length-1].type&&this._triple(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(l=this._readPredicate,this._subject===o)return l}else if(l=this._getContextEndReader(),this._object===o)return l;r=o;break;case"literal":t=e.value,c=!1,l=this._readListItemDataTypeOrLang;break;default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r="_:b"+p++),null===n?null===u.predicate?u.subject=r:u.object=r:this._triple(n,a,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,s,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);c?this._triple(r,s,t,this._graph):this._object=t}return l},_readDataTypeOrLang:function(e){return this._completeLiteral(e,!1)},_readListItemDataTypeOrLang:function(e){return this._completeLiteral(e,!0)},_completeLiteral:function(e,t){var r=!1;switch(e.type){case"type":case"typeIRI":var n=this._readEntity(e);if(void 0===n)return;r=!0,this._object+="^^"+n;break;case"langcode":r=!0,this._object+="@"+e.value.toLowerCase()}return t&&this._triple(this._subject,s,this._object,this._graph),r?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(e))},_readFormulaTail:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._triple(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())},_readPunctuation:function(e){var t,r=this._subject,n=this._graph,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'+this._object+'"',e)}if(null!==r){var o=this._predicate,s=this._object;i?this._triple(s,o,r,n):this._triple(r,o,s,n)}return t},_readBlankNodePunctuation:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'+this._object+'"',e)}return this._triple(this._subject,this._predicate,this._object,this._graph),t},_readQuadPunctuation:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext},_readPrefix:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)},_readPrefixIRI:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'+this._prefix+':"',e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation},_readBaseIRI:function(e){return"IRI"!==e.type?this._error("Expected IRI to follow base declaration",e):(this._setBase(null===this._base||u.test(e.value)?e.value:this._resolveIRI(e)),this._readDeclarationPunctuation)},_readNamedGraphLabel:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}},_readNamedGraphBlankLabel:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject="_:b"+p++,this._readGraph)},_readDeclarationPunctuation:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext},_readQuantifierList:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected "+e.type,e)}return this._explicitQuantifiers?(null===this._subject?this._triple(this._graph||"",this._predicate,this._subject="_:b"+p++,"urn:n3:quantifiers"):this._triple(this._subject,a,this._subject="_:b"+p++,"urn:n3:quantifiers"),this._triple(this._subject,s,t,"urn:n3:quantifiers")):this._quantified[t]=this._quantifiedPrefix+p++,this._readQuantifierPunctuation},_readQuantifierPunctuation:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._triple(this._subject,a,o,"urn:n3:quantifiers"),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))},_getPathReader:function(e){return this._afterPath=e,this._readPath},_readPath:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){var n=this._subject;this._restoreContext(),this._triple(this._subject,s,n,this._graph)}return this._afterPath(e)}},_readForwardPath:function(e){var t,r,n="_:b"+p++;if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._triple(t,r,n,this._graph),this._readPath},_readBackwardPath:function(e){var t,r,n="_:b"+p++;if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(r=this._subject,this._subject=n):(r=this._object,this._object=n),this._triple(n,t,r,this._graph),this._readPath},_getContextEndReader:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail}},_triple:function(e,t,r,n){this._callback(null,{subject:e,predicate:t,object:r,graph:n||""})},_error:function(e,t){var r=new Error(e+" on line "+t.line+".");r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=d},_resolveIRI:function(e){var t=e.value;switch(t[0]){case void 0:return this._base;case"#":return this._base+t;case"?":return this._base.replace(/(?:\?.*)?$/,t);case"/":return("/"===t[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(t);default:return this._removeDotSegments(this._basePath+t)}},_removeDotSegments:function(e){if(!c.test(e))return e;for(var t="",r=e.length,n=-1,i=-1,o=0,s="/";n<r;){switch(s){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<r&&"/"!==e[i];)n=i;break;case"?":case"#":n=r;break;case"/":if("."===e[n+1])switch(s=e[++n+1]){case"/":t+=e.substring(o,n-1),o=n+1;break;case void 0:case"?":case"#":return t+e.substring(o,n)+e.substr(n+1);case".":if(void 0===(s=e[++n+1])||"/"===s||"?"===s||"#"===s){if((o=(t+=e.substring(o,n-2)).lastIndexOf("/"))>=i&&(t=t.substr(0,o)),"/"!==s)return t+"/"+e.substr(n+1);o=n+1}}}s=e[++n]}return t+e.substring(o)},parse:function(e,t,r){var n=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix||"_:b"+f+++"_",this._prefixCallback=r||d,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every(function(e){return n._readCallback=n._readCallback(e)}),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,function(e,t){null!==e?(n._callback(e),n._callback=d):n._readCallback&&(n._readCallback=n._readCallback(t))})}},t.exports=h},{"./N3Lexer":58}],60:[function(e,t,r){var n=e("./N3Util").expandPrefixedName;function i(e,t){if(!(this instanceof i))return new i(e,t);this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,t||!e||e[0]||(t=e,e=null),t=t||{},this._prefixes=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),e&&this.addTriples(e)}function o(e){return"string"==typeof e||e instanceof String}i.prototype={get size(){var e=this._size;if(null!==e)return e;e=0;var t,r,n=this._graphs;for(var i in n)for(var o in t=n[i].subjects)for(var s in r=t[o])e+=Object.keys(r[s]).length;return this._size=e},_addToIndex:function(e,t,r,n){var i=e[t]||(e[t]={}),o=i[r]||(i[r]={}),s=n in o;return s||(o[n]=null),!s},_removeFromIndex:function(e,t,r,n){var i,o=e[t],s=o[r];for(i in delete s[n],s)return;for(i in delete o[r],o)return;delete e[t]},_findInIndex:function(e,t,r,n,i,o,s,a,u,l){var c,f,p,h=!t+!r+!n>1?Object.keys(this._ids):this._entities;for(var d in t&&((c=e,e={})[t]=c[t]),e){var y=h[d];if(f=e[d])for(var v in r&&((c=f,f={})[r]=c[r]),f){var g=h[v];if(p=f[v])for(var b=(n?n in p?[n]:[]:Object.keys(p)),m=b.length-1;m>=0;m--){var x={subject:"",predicate:"",object:"",graph:a};if(x[i]=y,x[o]=g,x[s]=h[b[m]],l)l.push(x);else if(u(x))return!0}}}return l},_loop:function(e,t){for(var r in e)t(r)},_loopByKey0:function(e,t,r){var n,i;if(n=e[t])for(i in n)r(i)},_loopByKey1:function(e,t,r){var n;for(n in e)e[n][t]&&r(n)},_loopBy2Keys:function(e,t,r,n){var i,o,s;if((i=e[t])&&(o=i[r]))for(s in o)n(s)},_countInIndex:function(e,t,r,n){var i,o,s,a=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var l in r&&((i=o,o={})[r]=i[r]),o)(s=o[l])&&(n?n in s&&a++:a+=Object.keys(s).length);return a},_getGraphs:function(e){if(!o(e))return this._graphs;var t={};return t[e]=this._graphs[e],t},_uniqueEntities:function(e){var t=Object.create(null),r=this._entities;return function(n){n in t||(t[n]=!0,e(r[n]))}},addTriple:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),n=n||"";var i=this._graphs[n];i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,s=this._entities;e=o[e]||(o[s[++this._id]=e]=this._id),t=o[t]||(o[s[++this._id]=t]=this._id),r=o[r]||(o[s[++this._id]=r]=this._id);var a=this._addToIndex(i.subjects,e,t,r);return this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,a},addTriples:function(e){for(var t=e.length-1;t>=0;t--)this.addTriple(e[t])},addPrefix:function(e,t){this._prefixes[e]=t},addPrefixes:function(e){for(var t in e)this.addPrefix(t,e[t])},removeTriple:function(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),n=n||"";var i,o,s,a=this._ids,u=this._graphs;if(!((e=a[e])&&(t=a[t])&&(r=a[r])&&(i=u[n])&&(o=i.subjects[e])&&(s=o[t])&&r in s))return!1;for(e in this._removeFromIndex(i.subjects,e,t,r),this._removeFromIndex(i.predicates,t,r,e),this._removeFromIndex(i.objects,r,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete u[n],!0},removeTriples:function(e){for(var t=e.length-1;t>=0;t--)this.removeTriple(e[t])},getTriples:function(e,t,r,i){var o=this._prefixes;return this.getTriplesByIRI(n(e,o),n(t,o),n(r,o),n(i,o))},getTriplesByIRI:function(e,t,r,n){var i,s,a,u,l=[],c=this._getGraphs(n),f=this._ids;if(o(e)&&!(s=f[e])||o(t)&&!(a=f[t])||o(r)&&!(u=f[r]))return l;for(var p in c)(i=c[p])&&(s?u?this._findInIndex(i.objects,u,s,a,"object","subject","predicate",p,null,l):this._findInIndex(i.subjects,s,a,null,"subject","predicate","object",p,null,l):a?this._findInIndex(i.predicates,a,u,null,"predicate","object","subject",p,null,l):u?this._findInIndex(i.objects,u,null,null,"object","subject","predicate",p,null,l):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",p,null,l));return l},countTriples:function(e,t,r,i){var o=this._prefixes;return this.countTriplesByIRI(n(e,o),n(t,o),n(r,o),n(i,o))},countTriplesByIRI:function(e,t,r,n){var i,s,a,u,l=0,c=this._getGraphs(n),f=this._ids;if(o(e)&&!(s=f[e])||o(t)&&!(a=f[t])||o(r)&&!(u=f[r]))return 0;for(var p in c)(i=c[p])&&(l+=e?r?this._countInIndex(i.objects,u,s,a):this._countInIndex(i.subjects,s,a,u):t?this._countInIndex(i.predicates,a,u,s):this._countInIndex(i.objects,u,s,a));return l},forEach:function(e,t,r,i,o){var s=this._prefixes;this.forEachByIRI(e,n(t,s),n(r,s),n(i,s),n(o,s))},forEachByIRI:function(e,t,r,n,i){this.someByIRI(function(t){return e(t),!1},t,r,n,i)},every:function(e,t,r,i,o){var s=this._prefixes;return this.everyByIRI(e,n(t,s),n(r,s),n(i,s),n(o,s))},everyByIRI:function(e,t,r,n,i){var o=!1,s=!this.someByIRI(function(t){return o=!0,!e(t)},t,r,n,i);return o&&s},some:function(e,t,r,i,o){var s=this._prefixes;return this.someByIRI(e,n(t,s),n(r,s),n(i,s),n(o,s))},someByIRI:function(e,t,r,n,i){var s,a,u,l,c=this._getGraphs(i),f=this._ids;if(o(t)&&!(a=f[t])||o(r)&&!(u=f[r])||o(n)&&!(l=f[n]))return!1;for(var p in c)if(s=c[p])if(a){if(l){if(this._findInIndex(s.objects,l,a,u,"object","subject","predicate",p,e,null))return!0}else if(this._findInIndex(s.subjects,a,u,null,"subject","predicate","object",p,e,null))return!0}else if(u){if(this._findInIndex(s.predicates,u,l,null,"predicate","object","subject",p,e,null))return!0}else if(l){if(this._findInIndex(s.objects,l,null,null,"object","subject","predicate",p,e,null))return!0}else if(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",p,e,null))return!0;return!1},getSubjects:function(e,t,r){var i=this._prefixes;return this.getSubjectsByIRI(n(e,i),n(t,i),n(r,i))},getSubjectsByIRI:function(e,t,r){var n=[];return this.forSubjectsByIRI(function(e){n.push(e)},e,t,r),n},forSubjects:function(e,t,r,i){var o=this._prefixes;this.forSubjectsByIRI(e,n(t,o),n(r,o),n(i,o))},forSubjectsByIRI:function(e,t,r,n){var i,s,a,u=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(o(t)&&!(s=u[t])||o(r)&&!(a=u[r])))for(n in l)(i=l[n])&&(s?a?this._loopBy2Keys(i.predicates,s,a,e):this._loopByKey1(i.subjects,s,e):a?this._loopByKey0(i.objects,a,e):this._loop(i.subjects,e))},getPredicates:function(e,t,r){var i=this._prefixes;return this.getPredicatesByIRI(n(e,i),n(t,i),n(r,i))},getPredicatesByIRI:function(e,t,r){var n=[];return this.forPredicatesByIRI(function(e){n.push(e)},e,t,r),n},forPredicates:function(e,t,r,i){var o=this._prefixes;this.forPredicatesByIRI(e,n(t,o),n(r,o),n(i,o))},forPredicatesByIRI:function(e,t,r,n){var i,s,a,u=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(o(t)&&!(s=u[t])||o(r)&&!(a=u[r])))for(n in l)(i=l[n])&&(s?a?this._loopBy2Keys(i.objects,a,s,e):this._loopByKey0(i.subjects,s,e):a?this._loopByKey1(i.predicates,a,e):this._loop(i.predicates,e))},getObjects:function(e,t,r){var i=this._prefixes;return this.getObjectsByIRI(n(e,i),n(t,i),n(r,i))},getObjectsByIRI:function(e,t,r){var n=[];return this.forObjectsByIRI(function(e){n.push(e)},e,t,r),n},forObjects:function(e,t,r,i){var o=this._prefixes;this.forObjectsByIRI(e,n(t,o),n(r,o),n(i,o))},forObjectsByIRI:function(e,t,r,n){var i,s,a,u=this._ids,l=this._getGraphs(n);if(e=this._uniqueEntities(e),!(o(t)&&!(s=u[t])||o(r)&&!(a=u[r])))for(n in l)(i=l[n])&&(s?a?this._loopBy2Keys(i.subjects,s,a,e):this._loopByKey1(i.objects,s,e):a?this._loopByKey0(i.predicates,a,e):this._loop(i.objects,e))},getGraphs:function(e,t,r){var i=this._prefixes;return this.getGraphsByIRI(n(e,i),n(t,i),n(r,i))},getGraphsByIRI:function(e,t,r){var n=[];return this.forGraphsByIRI(function(e){n.push(e)},e,t,r),n},forGraphs:function(e,t,r,i){var o=this._prefixes;this.forGraphsByIRI(e,n(t,o),n(r,o),n(i,o))},forGraphsByIRI:function(e,t,r,n){for(var i in this._graphs)this.someByIRI(function(t){return e(t.graph),!0},t,r,n,i)},createBlankNode:function(e){var t,r;if(e)for(t=e="_:"+e,r=1;this._ids[t];)t=e+r++;else do{t="_:b"+this._blankNodeIndex++}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,t}},t.exports=i},{"./N3Util":63}],61:[function(e,t,r){var n=e("stream").Transform,i=e("util"),o=e("./N3Parser.js");function s(e){if(!(this instanceof s))return new s(e);n.call(this,{decodeStrings:!0}),this._readableState.objectMode=!0;var t,r,i=this;new o(e).parse({on:function(e,n){switch(e){case"data":t=n;break;case"end":r=n}}},function(e,t){e&&i.emit("error",e)||t&&i.push(t)},function(e,t){i.emit("prefix",e,t)}),this._transform=function(e,r,n){t(e),n()},this._flush=function(e){r(),e()}}i.inherits(s,n),t.exports=s},{"./N3Parser.js":59,stream:87,util:8}],62:[function(e,t,r){var n=e("stream").Transform,i=e("util"),o=e("./N3Writer.js");function s(e){if(!(this instanceof s))return new s(e);n.call(this,{encoding:"utf8"}),this._writableState.objectMode=!0;var t=this,r=new o({write:function(e,r,n){t.push(e),n&&n()},end:function(e){t.push(null),e&&e()}},e);this._transform=function(e,t,n){r.addTriple(e,n)},this._flush=function(e){r.end(e)}}i.inherits(s,n),t.exports=s},{"./N3Writer.js":64,stream:87,util:8}],63:[function(e,t,r){var n="http://www.w3.org/2001/XMLSchema#",i=n+"double",o={isIRI:function(e){if("string"!=typeof e)return!1;if(0===e.length)return!0;var t=e[0];return'"'!==t&&"_"!==t},isLiteral:function(e){return"string"==typeof e&&'"'===e[0]},isBlank:function(e){return"string"==typeof e&&"_:"===e.substr(0,2)},isDefaultGraph:function(e){return!e},inDefaultGraph:function(e){return!e.graph},getLiteralValue:function(e){var t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]},getLiteralType:function(e){var t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")},getLiteralLanguage:function(e){var t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""},isPrefixedName:function(e){return"string"==typeof e&&/^[^:\/"']*:[^:\/"']+$/.test(e)},expandPrefixedName:function(e,t){var r,n,i,o=/(?:^|"\^\^)([^:\/#"'\^_]*):[^\/]*$/.exec(e);return o&&(n=t[r=o[1]],i=o.index),void 0===n?e:0===i?n+e.substr(r.length+1):e.substr(0,i+3)+n+e.substr(i+r.length+4)},createIRI:function(e){return e&&'"'===e[0]?o.getLiteralValue(e):e},createLiteral:function(e,t){if(!t)switch(typeof e){case"boolean":t="http://www.w3.org/2001/XMLSchema#boolean";break;case"number":isFinite(e)?t=e%1==0?"http://www.w3.org/2001/XMLSchema#integer":i:(t=i,isNaN(e)||(e=e>0?"INF":"-INF"));break;default:return'"'+e+'"'}return'"'+e+(/^[a-z]+(-[a-z0-9]+)*$/i.test(t)?'"@'+t.toLowerCase():'"^^'+t)},prefix:function(e){return o.prefixes({"":e})("")},prefixes:function(e){var t=Object.create(null);for(var r in e)n(r,e[r]);function n(e,r){if(r||!(e in t)){var n=Object.create(null);r=r||"",t[e]=function(e){return n[e]||(n[e]=r+e)}}return t[e]}return n}};t.exports=o},{}],64:[function(e,t,r){var n=/^"([^]*)"(?:\^\^(.+)|@([a-z]+(?:-[a-z0-9]+)*))?$/i,i=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,o=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,s={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function a(e,t){if(!(this instanceof a))return new a(e,t);if(e&&"function"!=typeof e.write&&(t=e,e=null),t=t||{},e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{var r="";this._outputStream={write:function(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?this._writeTriple=this._writeTripleLine:(this._graph="",this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes))}function u(e){var t=s[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}a.prototype={_write:function(e,t){this._outputStream.write(e,"utf8",t)},_writeTriple:function(e,t,r,n,i){try{this._graph!==n&&(this._write((null===this._subject?"":this._graph?"\n}\n":".\n")+(n?this._encodeIriOrBlankNode(n)+" {\n":"")),this._subject=null,this._graph="["!==n[0]?n:"]"),this._subject===e?this._predicate===t?this._write(", "+this._encodeObject(r),i):this._write(";\n    "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i):this._write((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)+" "+this._encodePredicate(this._predicate=t)+" "+this._encodeObject(r),i)}catch(e){i&&i(e)}},_writeTripleLine:function(e,t,r,n,i){delete this._prefixMatch;try{this._write(this.tripleToString(e,t,r,n),i)}catch(e){i&&i(e)}},tripleToString:function(e,t,r,n){return this._encodeIriOrBlankNode(e)+" "+this._encodeIriOrBlankNode(t)+" "+this._encodeObject(r)+(n?" "+this._encodeIriOrBlankNode(n)+".\n":".\n")},triplesToString:function(e){return e.map(function(e){return this.tripleToString(e.subject,e.predicate,e.object,e.graph)},this).join("")},_encodeIriOrBlankNode:function(e){var t=e[0];if("["===t||"("===t||"_"===t&&":"===e[1])return e;i.test(e)&&(e=e.replace(o,u));var r=this._prefixRegex.exec(e);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:e:"<"+e+">"},_encodeLiteral:function(e,t,r){return i.test(e)&&(e=e.replace(o,u)),r?'"'+e+'"@'+r:t?'"'+e+'"^^'+this._encodeIriOrBlankNode(t):'"'+e+'"'},_encodeSubject:function(e){if('"'===e[0])throw new Error("A literal as subject is not allowed: "+e);return"["===e[0]&&(this._subject="]"),this._encodeIriOrBlankNode(e)},_encodePredicate:function(e){if('"'===e[0])throw new Error("A literal as predicate is not allowed: "+e);return"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"===e?"a":this._encodeIriOrBlankNode(e)},_encodeObject:function(e){if('"'!==e[0])return this._encodeIriOrBlankNode(e);var t=n.exec(e);if(!t)throw new Error("Invalid literal: "+e);return this._encodeLiteral(t[1],t[2],t[3])},_blockedWrite:function(){throw new Error("Cannot write because the writer has been closed.")},addTriple:function(e,t,r,n,i){void 0===r?this._writeTriple(e.subject,e.predicate,e.object,e.graph||"",t):"string"!=typeof n?this._writeTriple(e,t,r,"",n):this._writeTriple(e,t,r,n,i)},addTriples:function(e){for(var t=0;t<e.length;t++)this.addTriple(e[t])},addPrefix:function(e,t,r){var n={};n[e]=t,this.addPrefixes(n,r)},addPrefixes:function(e,t){var r=this._prefixIRIs,n=!1;for(var i in e){var o=e[i];/[#\/]$/.test(o)&&r[o]!==(i+=":")&&(n=!0,r[o]=i,null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null,this._graph=""),this._write("@prefix "+i+" <"+o+">.\n"))}if(n){var s="",a="";for(var u in r)s+=s?"|"+u:u,a+=(a?"|":"")+r[u];s=s.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:"+a+")[^/]*$|^("+s+")([a-zA-Z][\\-_a-zA-Z0-9]*)$")}this._write(n?"\n":"",t)},blank:function(e,t){var r,n,i=e;switch(void 0===e?i=[]:"string"==typeof e?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return"[]";case 1:if("["!==(r=i[0]).object[0])return"[ "+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object)+" ]";default:for(var o="[",s=0;s<n;s++)(r=i[s]).predicate===e?o+=", "+this._encodeObject(r.object):(o+=(s?";\n  ":"\n  ")+this._encodePredicate(r.predicate)+" "+this._encodeObject(r.object),e=r.predicate);return o+"\n]"}},list:function(e){for(var t=e&&e.length||0,r=new Array(t),n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return"("+r.join(" ")+")"},_prefixRegex:/$0^/,end:function(e){null!==this._subject&&(this._write(this._graph?"\n}\n":".\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(r,n){t=null,e(r,n)};if(this._endStream)try{return this._outputStream.end(t)}catch(e){}t&&t()}},t.exports=a},{}],65:[function(e,t,r){(function(e){(function(){var r={};t.exports=r;var n={};r.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,o=t.length,s=t.charAt(0),a=[0];for(i=0;i<e.length;++i){for(var u=0,l=e[i];u<a.length;++u)l+=a[u]<<8,a[u]=l%o,l=l/o|0;for(;l>0;)a.push(l%o),l=l/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=s;for(i=a.length-1;i>=0;--i)n+=t[a[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var s=0,a=e.at(r);s<o.length;++s)a+=o[s]<<8,o[s]=a%n,a=a/n|0;for(;a>0;)o.push(a%n),a=a/n|0}var u="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)u+=i;for(r=o.length-1;r>=0;--r)u+=t[o[r]];return u}(e,t);if(r){var c=new RegExp(".{1,"+r+"}","g");n=n.match(c).join("\r\n")}return n},r.decode=function(t,r){if("string"!=typeof t)throw new TypeError('"input" must be a string.');if("string"!=typeof r)throw new TypeError('"alphabet" must be a string.');var i=n[r];if(!i){i=n[r]=[];for(var o=0;o<r.length;++o)i[r.charCodeAt(o)]=o}t=t.replace(/\s/g,"");var s=r.length,a=r.charAt(0),u=[0];for(o=0;o<t.length;o++){var l=i[t.charCodeAt(o)];if(void 0===l)return;for(var c=0,f=l;c<u.length;++c)f+=u[c]*s,u[c]=255&f,f>>=8;for(;f>0;)u.push(255&f),f>>=8}for(var p=0;t[p]===a&&p<t.length-1;++p)u.push(0);return void 0!==e?e.from(u.reverse()):new Uint8Array(u.reverse())}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:4}],66:[function(e,t,r){t.exports={options:{usePureJavaScript:!1}}},{}],67:[function(e,t,r){var n=e("./forge");t.exports=n.md=n.md||{},n.md.algorithms=n.md.algorithms||{}},{"./forge":66}],68:[function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha1=n.sha1||{};n.md.sha1=n.md.algorithms.sha1=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),s=!0);var e=null,t=n.util.createBuffer(),r=new Array(80),i={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=n.util.encodeUtf8(o));var u=o.length;i.messageLength+=u,u=[u/4294967296>>>0,u>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=u[1],u[1]=u[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,u[0]=u[1]/4294967296>>>0;return t.putBytes(o),a(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(t.bytes());var u,l=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-l));for(var c=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)c+=(u=8*i.fullMessageLength[f+1])/4294967296>>>0,s.putInt32(c>>>0),c=u>>>0;s.putInt32(c);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};a(p,r,s);var h=n.util.createBuffer();return h.putInt32(p.h0),h.putInt32(p.h1),h.putInt32(p.h2),h.putInt32(p.h3),h.putInt32(p.h4),h},i};var o=null,s=!1;function a(e,t,r){for(var n,i,o,s,a,u,l,c=r.length();c>=64;){for(i=e.h0,o=e.h1,s=e.h2,a=e.h3,u=e.h4,l=0;l<16;++l)n=r.getInt32(),t[l]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<20;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(i<<5|i>>>27)+(a^o&(s^a))+u+1518500249+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<32;++l)n=(n=t[l-3]^t[l-8]^t[l-14]^t[l-16])<<1|n>>>31,t[l]=n,n=(i<<5|i>>>27)+(o^s^a)+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<40;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o^s^a)+u+1859775393+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<60;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o&s|a&(o^s))+u+2400959708+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;for(;l<80;++l)n=(n=t[l-6]^t[l-16]^t[l-28]^t[l-32])<<2|n>>>30,t[l]=n,n=(i<<5|i>>>27)+(o^s^a)+u+3395469782+n,u=a,a=s,s=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+s|0,e.h3=e.h3+a|0,e.h4=e.h4+u|0,c-=64}}},{"./forge":66,"./md":67,"./util":70}],69:[function(e,t,r){var n=e("./forge");e("./md"),e("./util");var i=t.exports=n.sha256=n.sha256||{};n.md.sha256=n.md.algorithms.sha256=i,i.create=function(){s||(o=String.fromCharCode(128),o+=n.util.fillString(String.fromCharCode(0),64),a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=!0);var e=null,t=n.util.createBuffer(),r=new Array(64),i={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){i.messageLength=0,i.fullMessageLength=i.messageLength64=[];for(var r=i.messageLengthSize/4,o=0;o<r;++o)i.fullMessageLength.push(0);return t=n.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},i}};return i.start(),i.update=function(o,s){"utf8"===s&&(o=n.util.encodeUtf8(o));var a=o.length;i.messageLength+=a,a=[a/4294967296>>>0,a>>>0];for(var l=i.fullMessageLength.length-1;l>=0;--l)i.fullMessageLength[l]+=a[1],a[1]=a[0]+(i.fullMessageLength[l]/4294967296>>>0),i.fullMessageLength[l]=i.fullMessageLength[l]>>>0,a[0]=a[1]/4294967296>>>0;return t.putBytes(o),u(e,r,t),(t.read>2048||0===t.length())&&t.compact(),i},i.digest=function(){var s=n.util.createBuffer();s.putBytes(t.bytes());var a,l=i.fullMessageLength[i.fullMessageLength.length-1]+i.messageLengthSize&i.blockLength-1;s.putBytes(o.substr(0,i.blockLength-l));for(var c=8*i.fullMessageLength[0],f=0;f<i.fullMessageLength.length-1;++f)c+=(a=8*i.fullMessageLength[f+1])/4294967296>>>0,s.putInt32(c>>>0),c=a>>>0;s.putInt32(c);var p={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};u(p,r,s);var h=n.util.createBuffer();return h.putInt32(p.h0),h.putInt32(p.h1),h.putInt32(p.h2),h.putInt32(p.h3),h.putInt32(p.h4),h.putInt32(p.h5),h.putInt32(p.h6),h.putInt32(p.h7),h},i};var o=null,s=!1,a=null;function u(e,t,r){for(var n,i,o,s,u,l,c,f,p,h,d,y,v,g=r.length();g>=64;){for(u=0;u<16;++u)t[u]=r.getInt32();for(;u<64;++u)n=((n=t[u-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,i=((i=t[u-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3,t[u]=n+t[u-7]+i+t[u-16]|0;for(l=e.h0,c=e.h1,f=e.h2,p=e.h3,h=e.h4,d=e.h5,y=e.h6,v=e.h7,u=0;u<64;++u)o=(l>>>2|l<<30)^(l>>>13|l<<19)^(l>>>22|l<<10),s=l&c|f&(l^c),n=v+((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(y^h&(d^y))+a[u]+t[u],v=y,y=d,d=h,h=p+n>>>0,p=f,f=c,c=l,l=n+(i=o+s)>>>0;e.h0=e.h0+l|0,e.h1=e.h1+c|0,e.h2=e.h2+f|0,e.h3=e.h3+p|0,e.h4=e.h4+h|0,e.h5=e.h5+d|0,e.h6=e.h6+y|0,e.h7=e.h7+v|0,g-=64}}},{"./forge":66,"./md":67,"./util":70}],70:[function(e,t,r){(function(r,n,i,o,s,a,u,l){(function(){var o=e("./forge"),s=e("./baseN"),a=t.exports=o.util=o.util||{};function u(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function c(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(a.isArrayBuffer(e)||a.isArrayBufferView(e))if(void 0!==i&&e instanceof i)this.data=e.toString("binary");else{var t=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,t)}catch(e){for(var r=0;r<t.length;++r)this.putByte(t[r])}}else(e instanceof c||"object"==typeof e&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if(void 0!==r&&r.nextTick&&!r.browser)return a.nextTick=r.nextTick,void(a.setImmediate="function"==typeof l?l:a.nextTick);if("function"==typeof l)return a.setImmediate=function(){return l.apply(void 0,arguments)},void(a.nextTick=function(e){return l(e)});if(a.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",t=[];a.setImmediate=function(r){t.push(r),1===t.length&&window.postMessage(e,"*")},window.addEventListener("message",function(r){if(r.source===window&&r.data===e){r.stopPropagation();var n=t.slice();t.length=0,n.forEach(function(e){e()})}},!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,o=document.createElement("div");t=[];new MutationObserver(function(){var e=t.slice();t.length=0,e.forEach(function(e){e()})}).observe(o,{attributes:!0});var s=a.setImmediate;a.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),s(e)):(t.push(e),1===t.length&&o.setAttribute("a",i=!i))}}a.nextTick=a.setImmediate}(),a.isNodejs=void 0!==r&&r.versions&&r.versions.node,a.globalScope=a.isNodejs?n:"undefined"==typeof self?window:self,a.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},a.isArrayBufferView=function(e){return e&&a.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},a.ByteBuffer=c,a.ByteStringBuffer=c;a.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},a.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},a.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},a.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},a.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},a.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},a.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(a.encodeUtf8(e))},a.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},a.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},a.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},a.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},a.ByteStringBuffer.prototype.putInt=function(e,t){u(t);var r="";do{t-=8,r+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(r)},a.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},a.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},a.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},a.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},a.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},a.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},a.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},a.ByteStringBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},a.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},a.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},a.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},a.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},a.ByteStringBuffer.prototype.copy=function(){var e=a.createBuffer(this.data);return e.read=this.read,e},a.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},a.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},a.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},a.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},a.ByteStringBuffer.prototype.toString=function(){return a.decodeUtf8(this.bytes())},a.DataBuffer=function(e,t){t=t||{},this.read=t.readOffset||0,this.growSize=t.growSize||1024;var r=a.isArrayBuffer(e),n=a.isArrayBufferView(e);if(r||n)return this.data=r?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in t?t.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in t&&(this.write=t.writeOffset)},a.DataBuffer.prototype.length=function(){return this.write-this.read},a.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},a.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},a.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},a.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},a.DataBuffer.prototype.putBytes=function(e,t){if(a.isArrayBufferView(e)){var r=(n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-n.byteOffset;return this.accommodate(r),new Uint8Array(this.data.buffer,this.write).set(n),this.write+=r,this}if(a.isArrayBuffer(e)){var n=new Uint8Array(e);return this.accommodate(n.byteLength),new Uint8Array(this.data.buffer).set(n,this.write),this.write+=n.byteLength,this}if(e instanceof a.DataBuffer||"object"==typeof e&&"number"==typeof e.read&&"number"==typeof e.write&&a.isArrayBufferView(e.data)){n=new Uint8Array(e.data.byteLength,e.read,e.length());return this.accommodate(n.byteLength),new Uint8Array(e.data.byteLength,this.write).set(n),this.write+=n.byteLength,this}if(e instanceof a.ByteStringBuffer&&(e=e.data,t="binary"),t=t||"binary","string"==typeof e){var i;if("hex"===t)return this.accommodate(Math.ceil(e.length/2)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.hex.decode(e,i,this.write),this;if("base64"===t)return this.accommodate(3*Math.ceil(e.length/4)),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.base64.decode(e,i,this.write),this;if("utf8"===t&&(e=a.encodeUtf8(e),t="binary"),"binary"===t||"raw"===t)return this.accommodate(e.length),i=new Uint8Array(this.data.buffer,this.write),this.write+=a.binary.raw.decode(i),this;if("utf16"===t)return this.accommodate(2*e.length),i=new Uint16Array(this.data.buffer,this.write),this.write+=a.text.utf16.encode(i),this;throw new Error("Invalid encoding: "+t)}throw Error("Invalid parameter: "+e)},a.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},a.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},a.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},a.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},a.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},a.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},a.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},a.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},a.DataBuffer.prototype.putInt=function(e,t){u(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},a.DataBuffer.prototype.putSignedInt=function(e,t){return u(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},a.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},a.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},a.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},a.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},a.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},a.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},a.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},a.DataBuffer.prototype.getInt=function(e){u(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},a.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},a.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},a.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},a.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},a.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},a.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},a.DataBuffer.prototype.copy=function(){return new a.DataBuffer(this)},a.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},a.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},a.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},a.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},a.DataBuffer.prototype.toString=function(e){var t=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return a.binary.raw.encode(t);if("hex"===e)return a.binary.hex.encode(t);if("base64"===e)return a.binary.base64.encode(t);if("utf8"===e)return a.text.utf8.decode(t);if("utf16"===e)return a.text.utf16.decode(t);throw new Error("Invalid encoding: "+e)},a.createBuffer=function(e,t){return t=t||"raw",void 0!==e&&"utf8"===t&&(e=a.encodeUtf8(e)),new a.ByteBuffer(e)},a.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},a.xorBytes=function(e,t,r){for(var n="",i="",o="",s=0,a=0;r>0;--r,++s)i=e.charCodeAt(s)^t.charCodeAt(s),a>=10&&(n+=o,o="",a=0),o+=String.fromCharCode(i),++a;return n+=o},a.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},a.bytesToHex=function(e){return a.createBuffer(e).toHex()},a.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",p=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";a.encode64=function(e,t){for(var r,n,i,o="",s="",a=0;a<e.length;)r=e.charCodeAt(a++),n=e.charCodeAt(a++),i=e.charCodeAt(a++),o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+=o},a.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,o="",s=0;s<e.length;)t=p[e.charCodeAt(s++)-43],r=p[e.charCodeAt(s++)-43],n=p[e.charCodeAt(s++)-43],i=p[e.charCodeAt(s++)-43],o+=String.fromCharCode(t<<2|r>>4),64!==n&&(o+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(o+=String.fromCharCode((3&n)<<6|i)));return o},a.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},a.decodeUtf8=function(e){return decodeURIComponent(escape(e))},a.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:s.encode,decode:s.decode}},a.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},a.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},a.binary.hex.encode=a.bytesToHex,a.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=r=r||0;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},a.binary.base64.encode=function(e,t){for(var r,n,i,o="",s="",a=0;a<e.byteLength;)r=e[a++],n=e[a++],i=e[a++],o+=f.charAt(r>>2),o+=f.charAt((3&r)<<4|n>>4),isNaN(n)?o+="==":(o+=f.charAt((15&n)<<2|i>>6),o+=isNaN(i)?"=":f.charAt(63&i)),t&&o.length>t&&(s+=o.substr(0,t)+"\r\n",o=o.substr(t));return s+=o},a.binary.base64.decode=function(e,t,r){var n,i,o,s,a=t;a||(a=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,l=r=r||0;u<e.length;)n=p[e.charCodeAt(u++)-43],i=p[e.charCodeAt(u++)-43],o=p[e.charCodeAt(u++)-43],s=p[e.charCodeAt(u++)-43],a[l++]=n<<2|i>>4,64!==o&&(a[l++]=(15&i)<<4|o>>2,64!==s&&(a[l++]=(3&o)<<6|s));return t?l-r:a.subarray(0,l)},a.binary.base58.encode=function(e,t){return a.binary.baseN.encode(e,h,t)},a.binary.base58.decode=function(e,t){return a.binary.baseN.decode(e,h,t)},a.text={utf8:{},utf16:{}},a.text.utf8.encode=function(e,t,r){e=a.encodeUtf8(e);var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},a.text.utf8.decode=function(e){return a.decodeUtf8(String.fromCharCode.apply(null,e))},a.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,s=r,a=0;a<e.length;++a)i[s++]=e.charCodeAt(a),o+=2;return t?o-r:n},a.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},a.deflate=function(e,t,r){if(t=a.decode64(e.deflate(a.encode64(t)).rval),r){var n=2;32&t.charCodeAt(1)&&(n=6),t=t.substring(n,t.length-4)}return t},a.inflate=function(e,t,r){var n=e.inflate(a.encode64(t)).rval;return null===n?null:a.decode64(n)};var d=function(e,t,r){if(!e)throw new Error("WebStorage not available.");var n;if(null===r?n=e.removeItem(t):(r=a.encode64(JSON.stringify(r)),n=e.setItem(t,r)),void 0!==n&&!0!==n.rval){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}},y=function(e,t){if(!e)throw new Error("WebStorage not available.");var r=e.getItem(t);if(e.init)if(null===r.rval){if(r.error){var n=new Error(r.error.message);throw n.id=r.error.id,n.name=r.error.name,n}r=null}else r=r.rval;return null!==r&&(r=JSON.parse(a.decode64(r))),r},v=function(e,t,r,n){var i=y(e,t);null===i&&(i={}),i[r]=n,d(e,t,i)},g=function(e,t,r){var n=y(e,t);return null!==n&&(n=r in n?n[r]:null),n},b=function(e,t,r){var n=y(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),d(e,t,n)}},m=function(e,t){d(e,t,null)},x=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,s=null;for(var a in r){n=r[a];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){s=e}if(o)break}if(!o)throw s;return i};a.setItem=function(e,t,r,n,i){x(v,arguments,i)},a.getItem=function(e,t,r,n){return x(g,arguments,n)},a.removeItem=function(e,t,r,n){x(b,arguments,n)},a.clearItems=function(e,t,r){x(m,arguments,r)},a.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?80!==n.port&&"http"===n.scheme?n.fullHost+=":"+n.port:443!==n.port&&"https"===n.scheme&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var w=null;a.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,s=r[n].indexOf("=");s>0?(i=r[n].substring(0,s),o=r[n].substring(s+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===w&&(w="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=w):t=r(e),t},a.parseFragment=function(e){var t=e,r="",n=e.indexOf("?");n>0&&(t=e.substring(0,n),r=e.substring(n+1));var i=t.split("/");return i.length>0&&""===i[0]&&i.shift(),{pathString:t,queryString:r,path:i,query:""===r?{}:a.getQueryVariables(r)}},a.makeRequest=function(e){var t=a.parseFragment(e),r={path:t.pathString,query:t.queryString,getPath:function(e){return void 0===e?t.path:t.path[e]},getQuery:function(e,r){var n;return void 0===e?n=t.query:(n=t.query[e])&&void 0!==r&&(n=n[r]),n},getQueryLast:function(e,t){var n=r.getQuery(e);return n?n[n.length-1]:t}};return r},a.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},a.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},a.format=function(e){for(var t,r,n=/%./g,i=0,o=[],s=0;t=n.exec(e);){(r=e.substring(s,n.lastIndex-2)).length>0&&o.push(r),s=n.lastIndex;var a=t[0][1];switch(a){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+a+"?>")}}return o.push(e.substring(s)),o.join("")},a.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,s=void 0===r?",":r,a=void 0===n?".":n,u=i<0?"-":"",l=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",c=l.length>3?l.length%3:0;return u+(c?l.substr(0,c)+a:"")+l.substr(c).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?s+Math.abs(i-l).toFixed(o).slice(2):"")},a.formatSize=function(e){return e=e>=1073741824?a.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?a.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?a.formatNumber(e/1024,0)+" KiB":a.formatNumber(e,0)+" bytes"},a.bytesFromIP=function(e){return-1!==e.indexOf(".")?a.bytesFromIPv4(e):-1!==e.indexOf(":")?a.bytesFromIPv6(e):null},a.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var t=a.createBuffer(),r=0;r<e.length;++r){var n=parseInt(e[r],10);if(isNaN(n))return null;t.putByte(n)}return t.getBytes()},a.bytesFromIPv6=function(e){for(var t=0,r=2*(8-(e=e.split(":").filter(function(e){return 0===e.length&&++t,!0})).length+t),n=a.createBuffer(),i=0;i<8;++i)if(e[i]&&0!==e[i].length){var o=a.hexToBytes(e[i]);o.length<2&&n.putByte(0),n.putBytes(o)}else n.fillWithByte(0,r),r=0;return n.getBytes()},a.bytesToIP=function(e){return 4===e.length?a.bytesToIPv4(e):16===e.length?a.bytesToIPv6(e):null},a.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},a.bytesToIPv6=function(e){if(16!==e.length)return null;for(var t=[],r=[],n=0,i=0;i<e.length;i+=2){for(var o=a.bytesToHex(e[i]+e[i+1]);"0"===o[0]&&"0"!==o;)o=o.substr(1);if("0"===o){var s=r[r.length-1],u=t.length;s&&u===s.end+1?(s.end=u,s.end-s.start>r[n].end-r[n].start&&(n=r.length-1)):r.push({start:u,end:u})}t.push(o)}if(r.length>0){var l=r[n];l.end-l.start>0&&(t.splice(l.start,l.end-l.start+1,""),0===l.start&&t.unshift(""),7===l.end&&t.push(""))}return t.join(":")},a.estimateCores=function(e,t){if("function"==typeof e&&(t=e,e={}),e=e||{},"cores"in a&&!e.update)return t(null,a.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return a.cores=navigator.hardwareConcurrency,t(null,a.cores);if("undefined"==typeof Worker)return a.cores=1,t(null,a.cores);if("undefined"==typeof Blob)return a.cores=2,t(null,a.cores);var r=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",function(e){for(var t=Date.now(),r=t+4;Date.now()<r;);self.postMessage({st:t,et:r})})}.toString(),")()"],{type:"application/javascript"}));!function e(n,i,o){if(0===i){var s=Math.floor(n.reduce(function(e,t){return e+t},0)/n.length);return a.cores=Math.max(1,s),URL.revokeObjectURL(r),t(null,a.cores)}!function(e,t){for(var n=[],i=[],o=0;o<e;++o){var s=new Worker(r);s.addEventListener("message",function(r){if(i.push(r.data),i.length===e){for(var o=0;o<e;++o)n[o].terminate();t(null,i)}}),n.push(s)}for(var o=0;o<e;++o)n[o].postMessage(o)}(o,function(t,r){n.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],s=0;s<e;++s)if(n!==s){var a=t[s];(i.st>a.st&&i.st<a.et||a.st>i.st&&a.st<i.et)&&o.push(s)}return r.reduce(function(e,t){return Math.max(e,t.length)},0)}(o,r)),e(n,i-1,o)})}([],5,16)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{"./baseN":65,"./forge":66,_process:71,buffer:4,timers:123}],71:[function(e,t,r){var n,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],f=!1,p=-1;function h(){f&&l&&(f=!1,l.length?c=l.concat(c):p=-1,c.length&&d())}function d(){if(!f){var e=u(h);f=!0;for(var t=c.length;t;){for(l=c,c=[];++p<t;)l&&l[p].run();p=-1,t=c.length}l=null,f=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function y(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new y(e,t)),1!==c.length||f||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],72:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,o){t=t||"&",r=r||"=";var s={};if("string"!=typeof e||0===e.length)return s;var a=/\+/g;e=e.split(t);var u=1e3;o&&"number"==typeof o.maxKeys&&(u=o.maxKeys);var l=e.length;u>0&&l>u&&(l=u);for(var c=0;c<l;++c){var f,p,h,d,y=e[c].replace(a,"%20"),v=y.indexOf(r);v>=0?(f=y.substr(0,v),p=y.substr(v+1)):(f=y,p=""),h=decodeURIComponent(f),d=decodeURIComponent(p),n(s,h)?i(s[h])?s[h].push(d):s[h]=[s[h],d]:s[h]=d}return s};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],73:[function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?o(s(e),function(s){var a=encodeURIComponent(n(s))+r;return i(e[s])?o(e[s],function(e){return a+encodeURIComponent(n(e))}).join(t):a+encodeURIComponent(n(e[s]))}).join(t):a?encodeURIComponent(n(a))+r+encodeURIComponent(n(e)):""};var i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r}var s=Object.keys||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.push(r);return t}},{}],74:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode"),r.encode=r.stringify=e("./encode")},{"./decode":72,"./encode":73}],75:[function(e,t,r){"use strict";const n=e("./util");t.exports=class{constructor({maxCallStackDepth:e=500,maxTotalCallStackDepth:t=4294967295,timeSlice:r=10}={}){this.schedule={},this.schedule.MAX_DEPTH=e,this.schedule.MAX_TOTAL_DEPTH=t,this.schedule.depth=0,this.schedule.totalDepth=0,this.schedule.timeSlice=r}doWork(e,t){const r=this.schedule;if(r.totalDepth>=r.MAX_TOTAL_DEPTH)return t(new Error("Maximum total call stack depth exceeded; canonicalization aborting."));!function i(){if(r.depth===r.MAX_DEPTH)return r.depth=0,r.running=!1,n.nextTick(i);const o=Date.now();if(r.running||(r.start=Date.now(),r.deadline=r.start+r.timeSlice),o<r.deadline)return r.running=!0,r.depth++,r.totalDepth++,e((e,n)=>{r.depth--,r.totalDepth--,t(e,n)});r.depth=0,r.running=!1,n.setImmediate(i)}()}forEach(e,t,r){const n=this;let i,o,s=0;if(Array.isArray(e))o=e.length,i=(()=>s!==o&&(i.value=e[s++],i.key=s,!0));else{const t=Object.keys(e);o=t.length,i=(()=>s!==o&&(i.key=t[s++],i.value=e[i.key],!0))}!function e(o){return o?r(o):i()?n.doWork(()=>t(i.value,i.key,e)):void r()}()}waterfall(e,t){const r=this;r.forEach(e,(e,t,n)=>r.doWork(e,n),t)}whilst(e,t,r){const n=this;!function i(o){return o?r(o):e()?void n.doWork(t,i):r()}()}}},{"./util":85}],76:[function(e,t,r){"use strict";const n=e("./util");t.exports=class e{constructor(e){this.prefix=e,this.counter=0,this.existing={}}clone(){const t=new e(this.prefix);return t.counter=this.counter,t.existing=n.clone(this.existing),t}getId(e){if(e&&e in this.existing)return this.existing[e];const t=this.prefix+this.counter;return this.counter+=1,e&&(this.existing[e]=t),t}hasId(e){return e in this.existing}}},{"./util":85}],77:[function(e,t,r){"use strict";const n=e("node-forge/lib/forge");e("node-forge/lib/md"),e("node-forge/lib/sha1"),e("node-forge/lib/sha256"),t.exports=class{constructor(e){this.md=n.md[e].create()}update(e){this.md.update(e,"utf8")}digest(){return this.md.digest().toHex()}}},{"node-forge/lib/forge":66,"node-forge/lib/md":67,"node-forge/lib/sha1":68,"node-forge/lib/sha256":69}],78:[function(e,t,r){"use strict";const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",i="http://www.w3.org/2001/XMLSchema#string",o={};function s(e,t){for(const r in e)if(e[r].termType!==t[r].termType||e[r].value!==t[r].value)return!1;return"Literal"!==e.object.termType||e.object.datatype.termType===t.object.datatype.termType&&e.object.datatype.value===t.object.datatype.value&&e.object.language===t.object.language}o.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,o.empty=new RegExp("^[ \\t]*$"),o.quad=new RegExp('^[ \\t]*(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]+(?:<([^:]+:[^>]*)>)[ \\t]+(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?)|(?:"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"(?:(?:\\^\\^(?:<([^:]+:[^>]*)>))|(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*)))?))[ \\t]*(?:\\.|(?:(?:(?:<([^:]+:[^>]*)>)|(_:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9])(?:(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀.])*(?:[A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�_0-9-·̀-ͯ‿-⁀]))?))[ \\t]*\\.))[ \\t]*$'),t.exports=class e{static parse(e){const t=[],r={},a=e.split(o.eoln);let l=0;for(const e of a){if(l++,o.empty.test(e))continue;const a=e.match(o.quad);if(null===a)throw new Error("N-Quads parse error on line "+l+".");const c={};if(void 0!==a[1]?c.subject={termType:"NamedNode",value:a[1]}:c.subject={termType:"BlankNode",value:a[2]},c.predicate={termType:"NamedNode",value:a[3]},void 0!==a[4]?c.object={termType:"NamedNode",value:a[4]}:void 0!==a[5]?c.object={termType:"BlankNode",value:a[5]}:(c.object={termType:"Literal",value:void 0,datatype:{termType:"NamedNode"}},void 0!==a[7]?c.object.datatype.value=a[7]:void 0!==a[8]?(c.object.datatype.value=n,c.object.language=a[8]):c.object.datatype.value=i,c.object.value=a[6].replace(u,function(e,t,r,n){if(t)switch(t){case"t":return"\t";case"b":return"\b";case"n":return"\n";case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(r)return String.fromCharCode(parseInt(r,16));if(n)throw new Error("Unsupported U escape")})),void 0!==a[9]?c.graph={termType:"NamedNode",value:a[9]}:void 0!==a[10]?c.graph={termType:"BlankNode",value:a[10]}:c.graph={termType:"DefaultGraph",value:""},c.graph.value in r){let e=!0;const n=r[c.graph.value];for(const t of n)if(s(t,c)){e=!1;break}e&&(n.push(c),t.push(c))}else r[c.graph.value]=[c],t.push(c)}return t}static serialize(t){Array.isArray(t)||(t=e.legacyDatasetToQuads(t));const r=[];for(const n of t)r.push(e.serializeQuad(n));return r.sort().join("")}static serializeQuad(e){const t=e.subject,r=e.predicate,o=e.object,s=e.graph;let u="";return[t,r].forEach(e=>{"NamedNode"===e.termType?u+="<"+e.value+">":u+=e.value,u+=" "}),"NamedNode"===o.termType?u+="<"+o.value+">":"BlankNode"===o.termType?u+=o.value:(u+='"'+function(e){return e.replace(a,function(e){switch(e){case'"':return'\\"';case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r"}})}(o.value)+'"',o.datatype.value===n?o.language&&(u+="@"+o.language):o.datatype.value!==i&&(u+="^^<"+o.datatype.value+">")),"NamedNode"===s.termType?u+=" <"+s.value+">":"BlankNode"===s.termType&&(u+=" "+s.value),u+=" .\n"}static legacyDatasetToQuads(e){const t=[],r={"blank node":"BlankNode",IRI:"NamedNode",literal:"Literal"};for(const o in e){e[o].forEach(e=>{const s={};for(const t in e){const o=e[t],a={termType:r[o.type],value:o.value};"Literal"===a.termType&&(a.datatype={termType:"NamedNode"},"datatype"in o&&(a.datatype.value=o.datatype),"language"in o?("datatype"in o||(a.datatype.value=n),a.language=o.language):"datatype"in o||(a.datatype.value=i)),s[t]=a}s.graph="@default"===o?{termType:"DefaultGraph",value:""}:{termType:o.startsWith("_:")?"BlankNode":"NamedNode",value:o},t.push(s)})}return t}};const a=/["\\\n\r]/g;const u=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g},{}],79:[function(e,t,r){"use strict";t.exports=class{constructor(e){this.list=e.sort(),this.done=!1,this.left={};for(let t=0;t<e.length;++t)this.left[e[t]]=!0}hasNext(){return!this.done}next(){const e=this.list.slice();let t=null,r=0;const n=this.list.length;for(let e=0;e<n;++e){const i=this.list[e],o=this.left[i];(null===t||i>t)&&(o&&e>0&&i>this.list[e-1]||!o&&e<n-1&&i>this.list[e+1])&&(t=i,r=e)}if(null===t)this.done=!0;else{const e=this.left[t]?r-1:r+1;this.list[r]=this.list[e],this.list[e]=t;for(let e=0;e<n;++e)this.list[e]>t&&(this.left[this.list[e]]=!this.left[this.list[e]])}return e}}},{}],80:[function(e,t,r){"use strict";const n=e("./AsyncAlgorithm"),i=e("./IdentifierIssuer"),o=e("./MessageDigest"),s=e("./Permutator"),a=e("./NQuads"),u=e("./util"),l={subject:"s",object:"o",graph:"g"};t.exports=class extends n{constructor(e){super(e=e||{}),this.name="URDNA2015",this.options=Object.assign({},e),this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new i("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e,t){const r=this;let n;r.schedule.start=Date.now(),r.quads=e;const o={};r.waterfall([t=>{r.forEach(e,(e,t,n)=>{r.forEachComponent(e,t=>{if("BlankNode"!==t.termType)return;const n=t.value;n in r.blankNodeInfo?r.blankNodeInfo[n].quads.push(e):(o[n]=!0,r.blankNodeInfo[n]={quads:[e]})}),n()},t)},e=>{let t=!0;r.whilst(()=>t,e=>{t=!1,r.hashToBlankNodes={},r.waterfall([e=>{r.forEach(o,(e,t,n)=>{r.hashFirstDegreeQuads(t,(e,i)=>{if(e)return n(e);i in r.hashToBlankNodes?r.hashToBlankNodes[i].push(t):r.hashToBlankNodes[i]=[t],n()})},e)},e=>{const n=Object.keys(r.hashToBlankNodes).sort();r.forEach(n,(e,n,i)=>{const s=r.hashToBlankNodes[e];if(s.length>1)return i();const a=s[0];r.canonicalIssuer.getId(a),delete o[a],delete r.hashToBlankNodes[e],t=!0,i()},e)}],e)},e)},e=>{const t=Object.keys(r.hashToBlankNodes).sort();r.forEach(t,(e,t,n)=>{const o=[],s=r.hashToBlankNodes[e];r.waterfall([e=>{r.forEach(s,(e,t,n)=>{if(r.canonicalIssuer.hasId(e))return n();const s=new i("_:b");s.getId(e),r.hashNDegreeQuads(e,s,(e,t)=>{if(e)return n(e);o.push(t),n()})},e)},e=>{o.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0),r.forEach(o,(e,t,n)=>{for(const t in e.issuer.existing)r.canonicalIssuer.getId(t);n()},e)}],n)},e)},e=>{const t=[];r.waterfall([e=>{r.forEach(r.quads,(e,n,i)=>{r.forEachComponent(e,e=>{"BlankNode"!==e.termType||e.value.startsWith(r.canonicalIssuer.prefix)||(e.value=r.canonicalIssuer.getId(e.value))}),t.push(a.serializeQuad(e)),i()},e)},e=>(t.sort(),n=t.join(""),e())],e)}],e=>t(e,n))}hashFirstDegreeQuads(e,t){const r=this,n=r.blankNodeInfo[e];if("hash"in n)return t(null,n.hash);const i=[],s=n.quads;r.forEach(s,(t,n,o)=>{const s={predicate:t.predicate};r.forEachComponent(t,(t,n)=>{s[n]=r.modifyFirstDegreeComponent(e,t,n)}),i.push(a.serializeQuad(s)),o()},e=>{if(e)return t(e);i.sort();const s=new o(r.hashAlgorithm);for(let e=0;e<i.length;++e)s.update(i[e]);n.hash=s.digest(),t(null,n.hash)})}hashRelatedBlankNode(e,t,r,n,i){const s=this;let a;s.waterfall([t=>s.canonicalIssuer.hasId(e)?(a=s.canonicalIssuer.getId(e),t()):r.hasId(e)?(a=r.getId(e),t()):void s.hashFirstDegreeQuads(e,(e,r)=>{if(e)return t(e);a=r,t()})],e=>{if(e)return i(e);const r=new o(s.hashAlgorithm);return r.update(n),"g"!==n&&r.update(s.getRelatedPredicate(t)),r.update(a),i(null,r.digest())})}hashNDegreeQuads(e,t,r){const n=this;let i;const a=new o(n.hashAlgorithm);n.waterfall([r=>n.createHashToRelated(e,t,(e,t)=>{if(e)return r(e);i=t,r()}),e=>{const r=Object.keys(i).sort();n.forEach(r,(e,r,o)=>{a.update(e);let u,l="";const c=new s(i[e]);n.whilst(()=>c.hasNext(),e=>{const r=c.next();let i=t.clone(),o="";const s=[];n.waterfall([t=>{n.forEach(r,(t,r,a)=>{if(n.canonicalIssuer.hasId(t)?o+=n.canonicalIssuer.getId(t):(i.hasId(t)||s.push(t),o+=i.getId(t)),0!==l.length&&o>l)return e();a()},t)},t=>{n.forEach(s,(t,r,s)=>{n.hashNDegreeQuads(t,i,(r,n)=>r?s(r):(o+=i.getId(t),o+="<"+n.hash+">",i=n.issuer,0!==l.length&&o>l?e():void s()))},t)},e=>{(0===l.length||o<l)&&(l=o,u=i),e()}],e)},e=>{if(e)return o(e);a.update(l),t=u,o()})},e)}],e=>{r(e,{hash:a.digest(),issuer:t})})}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=u.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,(r,o,s)=>{n.forEach(r,(o,s,a)=>{if("predicate"===s||"BlankNode"!==o.termType||o.value===e)return a();const u=o.value,c=l[s];n.hashRelatedBlankNode(u,r,t,c,(e,t)=>{if(e)return a(e);t in i?i[t].push(u):i[t]=[u],a()})},s)},e=>r(e,i))}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}}},{"./AsyncAlgorithm":75,"./IdentifierIssuer":76,"./MessageDigest":77,"./NQuads":78,"./Permutator":79,"./util":85}],81:[function(e,t,r){"use strict";const n=e("./IdentifierIssuer"),i=e("./MessageDigest"),o=e("./Permutator"),s=e("./NQuads"),a=e("./util"),u={subject:"s",object:"o",graph:"g"};t.exports=class{constructor(){this.name="URDNA2015",this.blankNodeInfo={},this.hashToBlankNodes={},this.canonicalIssuer=new n("_:c14n"),this.hashAlgorithm="sha256",this.quads}main(e){const t=this;t.quads=e;const r={};for(const n of e)t.forEachComponent(n,e=>{if("BlankNode"!==e.termType)return;const i=e.value;i in t.blankNodeInfo?t.blankNodeInfo[i].quads.push(n):(r[i]=!0,t.blankNodeInfo[i]={quads:[n]})});let i=!0;for(;i;){i=!1,t.hashToBlankNodes={};for(const e in r){const r=t.hashFirstDegreeQuads(e);r in t.hashToBlankNodes?t.hashToBlankNodes[r].push(e):t.hashToBlankNodes[r]=[e]}const e=Object.keys(t.hashToBlankNodes).sort();for(let n=0;n<e.length;++n){const o=e[n],s=t.hashToBlankNodes[o];if(s.length>1)continue;const a=s[0];t.canonicalIssuer.getId(a),delete r[a],delete t.hashToBlankNodes[o],i=!0}}const o=Object.keys(t.hashToBlankNodes).sort();for(let e=0;e<o.length;++e){const r=[],i=o[e],s=t.hashToBlankNodes[i];for(let e=0;e<s.length;++e){const i=s[e];if(t.canonicalIssuer.hasId(i))continue;const o=new n("_:b");o.getId(i);const a=t.hashNDegreeQuads(i,o);r.push(a)}r.sort((e,t)=>e.hash<t.hash?-1:e.hash>t.hash?1:0);for(let e=0;e<r.length;++e){const n=r[e];for(const e in n.issuer.existing)t.canonicalIssuer.getId(e)}}const a=[];for(let e=0;e<t.quads.length;++e){const r=t.quads[e];t.forEachComponent(r,e=>{"BlankNode"!==e.termType||e.value.startsWith(t.canonicalIssuer.prefix)||(e.value=t.canonicalIssuer.getId(e.value))}),a.push(s.serializeQuad(r))}return a.sort(),a.join("")}hashFirstDegreeQuads(e){const t=this,r=t.blankNodeInfo[e];if("hash"in r)return r.hash;const n=[],o=r.quads;for(let r=0;r<o.length;++r){const i=o[r],a={predicate:i.predicate};t.forEachComponent(i,(r,n)=>{a[n]=t.modifyFirstDegreeComponent(e,r,n)}),n.push(s.serializeQuad(a))}n.sort();const a=new i(t.hashAlgorithm);for(let e=0;e<n.length;++e)a.update(n[e]);return r.hash=a.digest(),r.hash}hashRelatedBlankNode(e,t,r,n){const o=this;let s;s=o.canonicalIssuer.hasId(e)?o.canonicalIssuer.getId(e):r.hasId(e)?r.getId(e):o.hashFirstDegreeQuads(e);const a=new i(o.hashAlgorithm);return a.update(n),"g"!==n&&a.update(o.getRelatedPredicate(t)),a.update(s),a.digest()}hashNDegreeQuads(e,t){const r=this,n=new i(r.hashAlgorithm),s=r.createHashToRelated(e,t),a=Object.keys(s).sort();for(let e=0;e<a.length;++e){const i=a[e];n.update(i);let u,l="";const c=new o(s[i]);for(;c.hasNext();){const e=c.next();let n=t.clone(),i="";const o=[];let s=!1;for(let t=0;t<e.length;++t){const a=e[t];if(r.canonicalIssuer.hasId(a)?i+=r.canonicalIssuer.getId(a):(n.hasId(a)||o.push(a),i+=n.getId(a)),0!==l.length&&i>l){s=!0;break}}if(!s){for(let e=0;e<o.length;++e){const t=o[e],a=r.hashNDegreeQuads(t,n);if(i+=n.getId(t),i+="<"+a.hash+">",n=a.issuer,0!==l.length&&i>l){s=!0;break}}s||(0===l.length||i<l)&&(l=i,u=n)}}n.update(l),t=u}return{hash:n.digest(),issuer:t}}modifyFirstDegreeComponent(e,t){return"BlankNode"!==t.termType?t:((t=a.clone(t)).value=t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return"<"+e.predicate.value+">"}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];for(const i in s){const o=s[i];if("predicate"===i||"BlankNode"!==o.termType||o.value===e)continue;const a=o.value,l=u[i],c=r.hashRelatedBlankNode(a,s,t,l);c in n?n[c].push(a):n[c]=[a]}}return n}forEachComponent(e,t){for(const r in e)"predicate"!==r&&t(e[r],r,e)}}},{"./IdentifierIssuer":76,"./MessageDigest":77,"./NQuads":78,"./Permutator":79,"./util":85}],82:[function(e,t,r){"use strict";const n=e("./URDNA2015"),i=e("./util");t.exports=class extends n{constructor(e){super(e),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t,r){const n=this,i={},o=n.blankNodeInfo[e].quads;n.forEach(o,(r,o,s)=>{let a,u;if("BlankNode"===r.subject.termType&&r.subject.value!==e)u=r.subject.value,a="p";else{if("BlankNode"!==r.object.termType||r.object.value===e)return s();u=r.object.value,a="r"}n.hashRelatedBlankNode(u,r,t,a,(e,t)=>{if(e)return s(e);t in i?i[t].push(u):i[t]=[u],s()})},e=>r(e,i))}}},{"./URDNA2015":80,"./util":85}],83:[function(e,t,r){"use strict";const n=e("./URDNA2015Sync"),i=e("./util");t.exports=class extends n{constructor(){super(),this.name="URGNA2012",this.hashAlgorithm="sha1"}modifyFirstDegreeComponent(e,t,r){return"BlankNode"!==t.termType?t:((t=i.clone(t)).value="name"===r?"_:g":t.value===e?"_:a":"_:z",t)}getRelatedPredicate(e){return e.predicate.value}createHashToRelated(e,t){const r=this,n={},i=r.blankNodeInfo[e].quads;for(let o=0;o<i.length;++o){const s=i[o];let a,u;if("BlankNode"===s.subject.termType&&s.subject.value!==e)u=s.subject.value,a="p";else{if("BlankNode"!==s.object.termType||s.object.value===e)continue;u=s.object.value,a="r"}const l=r.hashRelatedBlankNode(u,s,t,a);l in n?n[l].push(u):n[l]=[u]}return n}}},{"./URDNA2015Sync":81,"./util":85}],84:[function(e,t,r){"use strict";const n=e("./util"),i=e("./URDNA2015"),o=e("./URGNA2012"),s=e("./URDNA2015Sync"),a=e("./URGNA2012Sync");let u;try{u=e("rdf-canonize-native")}catch(e){}const l={};t.exports=l,l.NQuads=e("./NQuads"),l.IdentifierIssuer=e("./IdentifierIssuer"),l._rdfCanonizeNative=function(e){return e&&(u=e),u},l.canonize=n.callbackify(async function(e,t){let r;const n=new Promise((e,t)=>{r=((r,n)=>{if(r)return t(r);e(n)})});if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(!u)throw new Error("rdf-canonize-native not available");u.canonize(e,t,r)}else if("URDNA2015"===t.algorithm)new i(t).main(e,r);else{if("URGNA2012"!==t.algorithm)throw"algorithm"in t?new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.");new o(t).main(e,r)}return n}),l.canonizeSync=function(e,t){if(Array.isArray(e)||(e=l.NQuads.legacyDatasetToQuads(e)),t.useNative){if(u)return u.canonizeSync(e,t);throw new Error("rdf-canonize-native not available")}if("URDNA2015"===t.algorithm)return new s(t).main(e);if("URGNA2012"===t.algorithm)return new a(t).main(e);if(!("algorithm"in t))throw new Error("No RDF Dataset Canonicalization algorithm specified.");throw new Error("Invalid RDF Dataset Canonicalization algorithm: "+t.algorithm)}},{"./IdentifierIssuer":76,"./NQuads":78,"./URDNA2015":80,"./URDNA2015Sync":81,"./URGNA2012":82,"./URGNA2012Sync":83,"./util":85,"rdf-canonize-native":4}],85:[function(e,t,r){(function(e,r){(function(){"use strict";const n={};t.exports=n;const i="function"==typeof r&&r,o=i?e=>i(e):e=>setTimeout(e,0);function s(t,r,n){try{return t(r,n)}catch(t){e.nextTick(()=>{throw t})}}"object"==typeof e&&"function"==typeof e.nextTick?n.nextTick=e.nextTick:n.nextTick=o,n.setImmediate=i?o:n.nextTick,n.clone=function(e){if(e&&"object"==typeof e){let t;if(Array.isArray(e)){t=[];for(let r=0;r<e.length;++r)t[r]=n.clone(e[r])}else if(n.isObject(e)){t={};for(const r in e)t[r]=n.clone(e[r])}else t=e.toString();return t}return e},n.isObject=(e=>"[object Object]"===Object.prototype.toString.call(e)),n.isUndefined=(e=>void 0===e),n.callbackify=(e=>(async function(...t){const r=t[t.length-1];let n;"function"==typeof r&&t.pop();try{n=await e.apply(null,t)}catch(e){if("function"==typeof r)return s(r,e);throw e}return"function"==typeof r?s(r,null,n):n}))}).call(this)}).call(this,e("_process"),e("timers").setImmediate)},{_process:71,timers:123}],86:[function(e,t,r){var n=e("buffer"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,r),r.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"==typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},{buffer:9}],87:[function(e,t,r){t.exports=i;var n=e("events").EventEmitter;function i(){n.call(this)}e("inherits")(i,n),i.Readable=e("readable-stream/lib/_stream_readable.js"),i.Writable=e("readable-stream/lib/_stream_writable.js"),i.Duplex=e("readable-stream/lib/_stream_duplex.js"),i.Transform=e("readable-stream/lib/_stream_transform.js"),i.PassThrough=e("readable-stream/lib/_stream_passthrough.js"),i.finished=e("readable-stream/lib/internal/streams/end-of-stream.js"),i.pipeline=e("readable-stream/lib/internal/streams/pipeline.js"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function l(e){if(c(),0===n.listenerCount(this,"error"))throw e}function c(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",l),e.removeListener("error",l),r.removeListener("end",c),r.removeListener("close",c),e.removeListener("close",c)}return r.on("error",l),e.on("error",l),r.on("end",c),r.on("close",c),e.on("close",c),e.emit("pipe",r),e}},{events:15,inherits:26,"readable-stream/lib/_stream_duplex.js":89,"readable-stream/lib/_stream_passthrough.js":90,"readable-stream/lib/_stream_readable.js":91,"readable-stream/lib/_stream_transform.js":92,"readable-stream/lib/_stream_writable.js":93,"readable-stream/lib/internal/streams/end-of-stream.js":97,"readable-stream/lib/internal/streams/pipeline.js":99}],88:[function(e,t,r){"use strict";var n={};function i(e,t,r){r||(r=Error);var i=function(e){var r,n;function i(r,n,i){return e.call(this,function(e,r,n){return"string"==typeof t?t:t(e,r,n)}(r,n,i))||this}return n=e,(r=i).prototype=Object.create(n.prototype),r.prototype.constructor=r,r.__proto__=n,i}(r);i.prototype.name=r.name,i.prototype.code=e,n[e]=i}function o(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map(function(e){return String(e)}),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}i("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError),i("ERR_INVALID_ARG_TYPE",function(e,t,r){var n,i,s,a;if("string"==typeof t&&(i="not ",t.substr(!s||s<0?0:+s,i.length)===i)?(n="must not be",t=t.replace(/^not /,"")):n="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(n," ").concat(o(t,"type"));else{var u=function(e,t,r){return"number"!=typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(n," ").concat(o(t,"type"))}return a+=". Received type ".concat(typeof r)},TypeError),i("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),i("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"}),i("ERR_STREAM_PREMATURE_CLOSE","Premature close"),i("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"}),i("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),i("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),i("ERR_STREAM_WRITE_AFTER_END","write after end"),i("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),i("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError),i("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),t.exports.codes=n},{}],89:[function(e,t,r){(function(r){(function(){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};t.exports=l;var i=e("./_stream_readable"),o=e("./_stream_writable");e("inherits")(l,i);for(var s=n(o.prototype),a=0;a<s.length;a++){var u=s[a];l.prototype[u]||(l.prototype[u]=o.prototype[u])}function l(e){if(!(this instanceof l))return new l(e);i.call(this,e),o.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",c)))}function c(){this._writableState.ended||r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":91,"./_stream_writable":93,_process:71,inherits:26}],90:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_transform");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}e("inherits")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":92,inherits:26}],91:[function(e,t,r){(function(r,n){(function(){"use strict";var i;t.exports=E,E.ReadableState=A;e("events").EventEmitter;var o=function(e,t){return e.listeners(t).length},s=e("./internal/streams/stream"),a=e("buffer").Buffer,u=n.Uint8Array||function(){};var l,c=e("util");l=c&&c.debuglog?c.debuglog("stream"):function(){};var f,p,h,d=e("./internal/streams/buffer_list"),y=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,g=e("../errors").codes,b=g.ERR_INVALID_ARG_TYPE,m=g.ERR_STREAM_PUSH_AFTER_EOF,x=g.ERR_METHOD_NOT_IMPLEMENTED,w=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(E,s);var _=y.errorOrDestroy,k=["error","close","destroy","pause","resume"];function A(t,r,n){i=i||e("./_stream_duplex"),t=t||{},"boolean"!=typeof n&&(n=r instanceof i),this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode),this.highWaterMark=v(this,t,"readableHighWaterMark",n),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(f||(f=e("string_decoder/").StringDecoder),this.decoder=new f(t.encoding),this.encoding=t.encoding)}function E(t){if(i=i||e("./_stream_duplex"),!(this instanceof E))return new E(t);var r=this instanceof i;this._readableState=new A(t,this,r),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function S(e,t,r,n,i){l("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?F(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,j(e)))}(e,s);else if(i||(o=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof u||"string"==typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),o)_(e,o);else if(s.objectMode||t&&t.length>0)if("string"==typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)s.endEmitted?_(e,new w):C(e,s,t,!0);else if(s.ended)_(e,new m);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?C(e,s,t,!1):R(e,s)):C(e,s,t,!1)}else n||(s.reading=!1,R(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function C(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&F(e)),R(e,t)}Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),E.prototype.destroy=y.destroy,E.prototype._undestroy=y.undestroy,E.prototype._destroy=function(e,t){t(e)},E.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),S(this,e,t,!1,r)},E.prototype.unshift=function(e){return S(this,e,null,!0,!1)},E.prototype.isPaused=function(){return!1===this._readableState.flowing},E.prototype.setEncoding=function(t){f||(f=e("string_decoder/").StringDecoder);var r=new f(t);this._readableState.decoder=r,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=r.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var T=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=T?e=T:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function F(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(j,e))}function j(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,P(e)}function R(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(l("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function O(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function L(e){l("readable nexttick read 0"),e.read(0)}function B(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),P(e),t.flowing&&!t.reading&&e.read(0)}function P(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function D(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function Q(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(M,t,e))}function M(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function U(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}E.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?Q(this):F(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&Q(this),null;var n,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(r,t))),null===(n=e>0?D(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&Q(this)),null!==n&&this.emit("data",n),n},E.prototype._read=function(e){_(this,new x("_read()"))},E.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var s=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:v;function a(t,r){l("onunpipe"),t===n&&r&&!1===r.hasUnpiped&&(r.hasUnpiped=!0,l("cleanup"),e.removeListener("close",d),e.removeListener("finish",y),e.removeListener("drain",c),e.removeListener("error",h),e.removeListener("unpipe",a),n.removeListener("end",u),n.removeListener("end",v),n.removeListener("data",p),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c())}function u(){l("onend"),e.end()}i.endEmitted?r.nextTick(s):n.once("end",s),e.on("unpipe",a);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,P(e))}}(n);e.on("drain",c);var f=!1;function p(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==U(i.pipes,e))&&!f&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function h(t){l("onerror",t),v(),e.removeListener("error",h),0===o(e,"error")&&_(e,t)}function d(){e.removeListener("finish",y),v()}function y(){l("onfinish"),e.removeListener("close",d),v()}function v(){l("unpipe"),n.unpipe(e)}return n.on("data",p),function(e,t,r){if("function"==typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",h),e.once("close",d),e.once("finish",y),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},E.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r),this);if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=U(t.pipes,e);return-1===s?this:(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r),this)},E.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?F(this):i.reading||r.nextTick(L,this))),n},E.prototype.addListener=E.prototype.on,E.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(O,this),n},E.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(O,this),t},E.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(B,e,t))}(this,e)),e.paused=!1,this},E.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},E.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",function(){if(l("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)}),e.on("data",function(i){(l("wrapped data"),r.decoder&&(i=r.decoder.write(i)),r.objectMode&&null==i)||(r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause()))}),e)void 0===this[i]&&"function"==typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<k.length;o++)e.on(k[o],this.emit.bind(this,k[o]));return this._read=function(t){l("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"==typeof Symbol&&(E.prototype[Symbol.asyncIterator]=function(){return void 0===p&&(p=e("./internal/streams/async_iterator")),p(this)}),Object.defineProperty(E.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(E.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(E.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),E._fromList=D,Object.defineProperty(E.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(E.from=function(t,r){return void 0===h&&(h=e("./internal/streams/from")),h(E,t,r)})}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":88,"./_stream_duplex":89,"./internal/streams/async_iterator":94,"./internal/streams/buffer_list":95,"./internal/streams/destroy":96,"./internal/streams/from":98,"./internal/streams/state":100,"./internal/streams/stream":101,_process:71,buffer:9,events:15,inherits:26,"string_decoder/":102,util:4}],92:[function(e,t,r){"use strict";t.exports=c;var n=e("../errors").codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=e("./_stream_duplex");function l(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function c(e){if(!(this instanceof c))return new c(e);u.call(this,e),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!=typeof this._flush||this._readableState.destroyed?p(this,null,null):this._flush(function(t,r){p(e,t,r)})}function p(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}e("inherits")(c,u),c.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},c.prototype._transform=function(e,t,r){r(new i("_transform()"))},c.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},c.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},c.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,function(e){t(e)})}},{"../errors":88,"./_stream_duplex":89,inherits:26}],93:[function(e,t,r){(function(r,n){(function(){"use strict";function i(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}var o;t.exports=E,E.WritableState=A;var s={deprecate:e("util-deprecate")},a=e("./internal/streams/stream"),u=e("buffer").Buffer,l=n.Uint8Array||function(){};var c,f=e("./internal/streams/destroy"),p=e("./internal/streams/state").getHighWaterMark,h=e("../errors").codes,d=h.ERR_INVALID_ARG_TYPE,y=h.ERR_METHOD_NOT_IMPLEMENTED,v=h.ERR_MULTIPLE_CALLBACK,g=h.ERR_STREAM_CANNOT_PIPE,b=h.ERR_STREAM_DESTROYED,m=h.ERR_STREAM_NULL_VALUES,x=h.ERR_STREAM_WRITE_AFTER_END,w=h.ERR_UNKNOWN_ENCODING,_=f.errorOrDestroy;function k(){}function A(t,n,s){o=o||e("./_stream_duplex"),t=t||{},"boolean"!=typeof s&&(s=n instanceof o),this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode),this.highWaterMark=p(this,t,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===t.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!=typeof o)throw new v;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(j,e,t),e._writableState.errorEmitted=!0,_(e,i)):(o(i),e._writableState.errorEmitted=!0,_(e,i),j(e,t))}(e,n,i,t,o);else{var s=I(n)||e.destroyed;s||n.corked||n.bufferProcessing||!n.bufferedRequest||T(e,n),i?r.nextTick(C,e,n,s,o):C(e,n,s,o)}}(n,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==t.emitClose,this.autoDestroy=!!t.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function E(t){var r=this instanceof(o=o||e("./_stream_duplex"));if(!r&&!c.call(E,this))return new E(t);this._writableState=new A(t,this,r),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),a.call(this)}function S(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function C(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),j(e,t)}function T(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,o=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)o[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;o.allBuffers=u,S(e,t,!0,t.length,o,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new i(t),t.bufferedRequestCount=0}else{for(;r;){var l=r.chunk,c=r.encoding,f=r.callback;if(S(e,t,!1,t.objectMode?1:l.length,l,c,f),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function I(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function F(e,t){e._final(function(r){t.pendingcb--,r&&_(e,r),t.prefinished=!0,e.emit("prefinish"),j(e,t)})}function j(e,t){var n=I(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!=typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(F,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}e("inherits")(E,a),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(c=Function.prototype[Symbol.hasInstance],Object.defineProperty(E,Symbol.hasInstance,{value:function(e){return!!c.call(this,e)||this===E&&(e&&e._writableState instanceof A)}})):c=function(e){return e instanceof this},E.prototype.pipe=function(){_(this,new g)},E.prototype.write=function(e,t,n){var i,o=this._writableState,s=!1,a=!o.objectMode&&(i=e,u.isBuffer(i)||i instanceof l);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"==typeof t&&(n=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!=typeof n&&(n=k),o.ending?function(e,t){var n=new x;_(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o;return null===n?o=new m:"string"==typeof n||t.objectMode||(o=new d("chunk",["string","Buffer"],n)),!o||(_(e,o),r.nextTick(i,o),!1)}(this,o,e,n))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=u.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;l||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else S(e,t,!1,a,n,i,o);return l}(this,o,a,e,t,n)),s},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||T(this,e))},E.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new w(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(E.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(E.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),E.prototype._write=function(e,t,r){r(new y("_write()"))},E.prototype._writev=null,E.prototype.end=function(e,t,n){var i=this._writableState;return"function"==typeof e?(n=e,e=null,t=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,j(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(E.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(E.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),E.prototype.destroy=f.destroy,E.prototype._undestroy=f.undestroy,E.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":88,"./_stream_duplex":89,"./internal/streams/destroy":96,"./internal/streams/state":100,"./internal/streams/stream":101,_process:71,buffer:9,inherits:26,"util-deprecate":126}],94:[function(e,t,r){(function(r){(function(){"use strict";var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=e("./end-of-stream"),s=Symbol("lastResolve"),a=Symbol("lastReject"),u=Symbol("error"),l=Symbol("ended"),c=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function h(e,t){return{value:e,done:t}}function d(e){var t=e[s];if(null!==t){var r=e[p].read();null!==r&&(e[c]=null,e[s]=null,e[a]=null,t(h(r,!1)))}}var y=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((i(n={get stream(){return this[p]},next:function(){var e=this,t=this[u];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(h(void 0,!0));if(this[p].destroyed)return new Promise(function(t,n){r.nextTick(function(){e[u]?n(e[u]):t(h(void 0,!0))})});var n,i=this[c];if(i)n=new Promise(function(e,t){return function(r,n){e.then(function(){t[l]?r(h(void 0,!0)):t[f](r,n)},n)}}(i,this));else{var o=this[p].read();if(null!==o)return Promise.resolve(h(o,!1));n=new Promise(this[f])}return this[c]=n,n}},Symbol.asyncIterator,function(){return this}),i(n,"return",function(){var e=this;return new Promise(function(t,r){e[p].destroy(null,function(e){e?r(e):t(h(void 0,!0))})})}),n),y);t.exports=function(e){var t,n=Object.create(v,(i(t={},p,{value:e,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,l,{value:e._readableState.endEmitted,writable:!0}),i(t,f,{value:function(e,t){var r=n[p].read();r?(n[c]=null,n[s]=null,n[a]=null,e(h(r,!1))):(n[s]=e,n[a]=t)},writable:!0}),t));return n[c]=null,o(e,function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[a];return null!==t&&(n[c]=null,n[s]=null,n[a]=null,t(e)),void(n[u]=e)}var r=n[s];null!==r&&(n[c]=null,n[s]=null,n[a]=null,r(h(void 0,!0))),n[l]=!0}),e.on("readable",function(e){r.nextTick(d,e)}.bind(null,n)),n}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":97,_process:71}],95:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=e("buffer").Buffer,a=e("util").inspect,u=a&&a.custom||"inspect";t.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,l;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return s.alloc(0);for(var t,r,n,i=s.allocUnsafe(e>>>0),o=this.head,a=0;o;)t=o.data,r=i,n=a,s.prototype.copy.call(t,r,n),a+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=s.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return a(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach(function(t){i(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),l&&o(t,l),e}()},{buffer:9,util:4}],96:[function(e,t,r){(function(e){(function(){"use strict";function r(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}t.exports={destroy:function(t,o){var s=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(o?o(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,e.nextTick(i,this,t)):e.nextTick(i,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!o&&t?s._writableState?s._writableState.errorEmitted?e.nextTick(n,s):(s._writableState.errorEmitted=!0,e.nextTick(r,s,t)):e.nextTick(r,s,t):o?(e.nextTick(n,s),o(t)):e.nextTick(n,s)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}}).call(this)}).call(this,e("_process"))},{_process:71}],97:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function i(){}t.exports=function e(t,r,o){if("function"==typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||c()},l=t._writableState&&t._writableState.finished,c=function(){a=!1,l=!0,s||o.call(t)},f=t._readableState&&t._readableState.endEmitted,p=function(){s=!1,f=!0,a||o.call(t)},h=function(e){o.call(t,e)},d=function(){var e;return s&&!f?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!l?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},y=function(){t.req.on("finish",c)};return function(e){return e.setHeader&&"function"==typeof e.abort}(t)?(t.on("complete",c),t.on("abort",d),t.req?y():t.on("request",y)):a&&!t._writableState&&(t.on("end",u),t.on("close",u)),t.on("end",p),t.on("finish",c),!1!==r.error&&t.on("error",h),t.on("close",d),function(){t.removeListener("complete",c),t.removeListener("abort",d),t.removeListener("request",y),t.req&&t.req.removeListener("finish",c),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",c),t.removeListener("end",p),t.removeListener("error",h),t.removeListener("close",d)}}},{"../../../errors":88}],98:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],99:[function(e,t,r){"use strict";var n;var i=e("../../../errors").codes,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e){e()}function l(e,t){return e.pipe(t)}t.exports=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var c,f=function(e){return e.length?"function"!=typeof e[e.length-1]?a:e.pop():a}(r);if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new o("streams");var p=r.map(function(t,i){var o=i<r.length-1;return function(t,r,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;t.on("close",function(){a=!0}),void 0===n&&(n=e("./end-of-stream")),n(t,{readable:r,writable:i},function(e){if(e)return o(e);a=!0,o()});var u=!1;return function(e){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"==typeof e.abort}(t)?t.abort():"function"==typeof t.destroy?t.destroy():void o(e||new s("pipe"))}}(t,o,i>0,function(e){c||(c=e),e&&p.forEach(u),o||(p.forEach(u),f(c))})});return r.reduce(l)}},{"../../../errors":88,"./end-of-stream":97}],100:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;t.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},{"../../../errors":88}],101:[function(e,t,r){t.exports=e("events").EventEmitter},{events:15}],102:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=l,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=c,this.end=f,t=3;break;default:return this.write=p,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t,r){if(128!=(192&t[0]))return e.lastNeed=0,"�";if(e.lastNeed>1&&t.length>1){if(128!=(192&t[1]))return e.lastNeed=1,"�";if(e.lastNeed>2&&t.length>2&&128!=(192&t[2]))return e.lastNeed=2,"�"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2==0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function c(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function p(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}r.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"�":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=s(t[n]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":86}],103:[function(e,t,r){(function(t){(function(){var n=e("./lib/request"),i=e("./lib/response"),o=e("xtend"),s=e("builtin-status-codes"),a=e("url"),u=r;u.request=function(e,r){e="string"==typeof e?a.parse(e):o(e);var i=-1===t.location.protocol.search(/^https?:$/)?"http:":"",s=e.protocol||i,u=e.hostname||e.host,l=e.port,c=e.path||"/";u&&-1!==u.indexOf(":")&&(u="["+u+"]"),e.url=(u?s+"//"+u:"")+(l?":"+l:"")+c,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new n(e);return r&&f.on("response",r),f},u.get=function(e,t){var r=u.request(e,t);return r.end(),r},u.ClientRequest=n,u.IncomingMessage=i.IncomingMessage,u.Agent=function(){},u.Agent.defaultMaxSockets=4,u.globalAgent=new u.Agent,u.STATUS_CODES=s,u.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":105,"./lib/response":106,"builtin-status-codes":10,url:124,xtend:128}],104:[function(e,t,r){(function(e){(function(){var t;function n(){if(void 0!==t)return t;if(e.XMLHttpRequest){t=new e.XMLHttpRequest;try{t.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else t=null;return t}function i(e){var t=n();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function o(e){return"function"==typeof e}r.fetch=o(e.fetch)&&o(e.ReadableStream),r.writableStream=o(e.WritableStream),r.abortController=o(e.AbortController),r.arraybuffer=r.fetch||i("arraybuffer"),r.msstream=!r.fetch&&i("ms-stream"),r.mozchunkedarraybuffer=!r.fetch&&i("moz-chunked-arraybuffer"),r.overrideMimeType=r.fetch||!!n()&&o(n().overrideMimeType),t=null}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],105:[function(e,t,r){(function(r,n,i){(function(){var o=e("./capability"),s=e("inherits"),a=e("./response"),u=e("readable-stream"),l=a.IncomingMessage,c=a.readyStates;var f=t.exports=function(e){var t,r=this;u.Writable.call(r),r._opts=e,r._body=[],r._headers={},e.auth&&r.setHeader("Authorization","Basic "+i.from(e.auth).toString("base64")),Object.keys(e.headers).forEach(function(t){r.setHeader(t,e.headers[t])});var n=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!o.abortController)n=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!o.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}r._mode=function(e,t){return o.fetch&&t?"fetch":o.mozchunkedarraybuffer?"moz-chunked-arraybuffer":o.msstream?"ms-stream":o.arraybuffer&&e?"arraybuffer":"text"}(t,n),r._fetchTimer=null,r._socketTimeout=null,r._socketTimer=null,r.on("finish",function(){r._onFinish()})};s(f,u.Writable),f.prototype.setHeader=function(e,t){var r=e.toLowerCase();-1===p.indexOf(r)&&(this._headers[r]={name:e,value:t})},f.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},f.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},f.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts;"timeout"in t&&0!==t.timeout&&e.setTimeout(t.timeout);var i=e._headers,s=null;"GET"!==t.method&&"HEAD"!==t.method&&(s=new Blob(e._body,{type:(i["content-type"]||{}).value||""}));var a=[];if(Object.keys(i).forEach(function(e){var t=i[e].name,r=i[e].value;Array.isArray(r)?r.forEach(function(e){a.push([t,e])}):a.push([t,r])}),"fetch"===e._mode){var u=null;if(o.abortController){var l=new AbortController;u=l.signal,e._fetchAbortController=l,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=n.setTimeout(function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()},t.requestTimeout))}n.fetch(e._opts.url,{method:e._opts.method,headers:a,body:s||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:u}).then(function(t){e._fetchResponse=t,e._resetTimers(!1),e._connect()},function(t){e._resetTimers(!0),e._destroyed||e.emit("error",t)})}else{var f=e._xhr=new n.XMLHttpRequest;try{f.open(e._opts.method,e._opts.url,!0)}catch(t){return void r.nextTick(function(){e.emit("error",t)})}"responseType"in f&&(f.responseType=e._mode),"withCredentials"in f&&(f.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in f&&f.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(f.timeout=t.requestTimeout,f.ontimeout=function(){e.emit("requestTimeout")}),a.forEach(function(e){f.setRequestHeader(e[0],e[1])}),e._response=null,f.onreadystatechange=function(){switch(f.readyState){case c.LOADING:case c.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(f.onprogress=function(){e._onXHRProgress()}),f.onerror=function(){e._destroyed||(e._resetTimers(!0),e.emit("error",new Error("XHR error")))};try{f.send(s)}catch(t){return void r.nextTick(function(){e.emit("error",t)})}}}},f.prototype._onXHRProgress=function(){this._resetTimers(!1),function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}}(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress(this._resetTimers.bind(this)))},f.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._resetTimers.bind(e)),e._response.on("error",function(t){e.emit("error",t)}),e.emit("response",e._response))},f.prototype._write=function(e,t,r){this._body.push(e),r()},f.prototype._resetTimers=function(e){var t=this;n.clearTimeout(t._socketTimer),t._socketTimer=null,e?(n.clearTimeout(t._fetchTimer),t._fetchTimer=null):t._socketTimeout&&(t._socketTimer=n.setTimeout(function(){t.emit("timeout")},t._socketTimeout))},f.prototype.abort=f.prototype.destroy=function(e){this._destroyed=!0,this._resetTimers(!0),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort(),e&&this.emit("error",e)},f.prototype.end=function(e,t,r){"function"==typeof e&&(r=e,e=void 0),u.Writable.prototype.end.call(this,e,t,r)},f.prototype.setTimeout=function(e,t){t&&this.once("timeout",t),this._socketTimeout=e,this._resetTimers(!1)},f.prototype.flushHeaders=function(){},f.prototype.setNoDelay=function(){},f.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":104,"./response":106,_process:71,buffer:9,inherits:26,"readable-stream":121}],106:[function(e,t,r){(function(t,n,i){(function(){var o=e("./capability"),s=e("inherits"),a=e("readable-stream"),u=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=r.IncomingMessage=function(e,r,n,s){var u=this;if(a.Readable.call(u),u._mode=n,u.headers={},u.rawHeaders=[],u.trailers={},u.rawTrailers=[],u.on("end",function(){t.nextTick(function(){u.emit("close")})}),"fetch"===n){if(u._fetchResponse=r,u.url=r.url,u.statusCode=r.status,u.statusMessage=r.statusText,r.headers.forEach(function(e,t){u.headers[t.toLowerCase()]=e,u.rawHeaders.push(t,e)}),o.writableStream){var l=new WritableStream({write:function(e){return s(!1),new Promise(function(t,r){u._destroyed?r():u.push(i.from(e))?t():u._resumeFetch=t})},close:function(){s(!0),u._destroyed||u.push(null)},abort:function(e){s(!0),u._destroyed||u.emit("error",e)}});try{return void r.body.pipeTo(l).catch(function(e){s(!0),u._destroyed||u.emit("error",e)})}catch(e){}}var c=r.body.getReader();!function e(){c.read().then(function(t){u._destroyed||(s(t.done),t.done?u.push(null):(u.push(i.from(t.value)),e()))}).catch(function(e){s(!0),u._destroyed||u.emit("error",e)})}()}else{if(u._xhr=e,u._pos=0,u.url=e.responseURL,u.statusCode=e.status,u.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();"set-cookie"===r?(void 0===u.headers[r]&&(u.headers[r]=[]),u.headers[r].push(t[2])):void 0!==u.headers[r]?u.headers[r]+=", "+t[2]:u.headers[r]=t[2],u.rawHeaders.push(t[1],t[2])}}),u._charset="x-user-defined",!o.overrideMimeType){var f=u.rawHeaders["mime-type"];if(f){var p=f.match(/;\s*charset=([^;])(;|$)/);p&&(u._charset=p[1].toLowerCase())}u._charset||(u._charset="utf-8")}}};s(l,a.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(e){var t=this,r=t._xhr,o=null;switch(t._mode){case"text":if((o=r.responseText).length>t._pos){var s=o.substr(t._pos);if("x-user-defined"===t._charset){for(var a=i.alloc(s.length),l=0;l<s.length;l++)a[l]=255&s.charCodeAt(l);t.push(a)}else t.push(s,t._charset);t._pos=o.length}break;case"arraybuffer":if(r.readyState!==u.DONE||!r.response)break;o=r.response,t.push(i.from(new Uint8Array(o)));break;case"moz-chunked-arraybuffer":if(o=r.response,r.readyState!==u.LOADING||!o)break;t.push(i.from(new Uint8Array(o)));break;case"ms-stream":if(o=r.response,r.readyState!==u.LOADING)break;var c=new n.MSStreamReader;c.onprogress=function(){c.result.byteLength>t._pos&&(t.push(i.from(new Uint8Array(c.result.slice(t._pos)))),t._pos=c.result.byteLength)},c.onload=function(){e(!0),t.push(null)},c.readAsArrayBuffer(o)}t._xhr.readyState===u.DONE&&"ms-stream"!==t._mode&&(e(!0),t.push(null))}}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{"./capability":104,_process:71,buffer:9,inherits:26,"readable-stream":121}],107:[function(e,t,r){arguments[4][88][0].apply(r,arguments)},{dup:88}],108:[function(e,t,r){arguments[4][89][0].apply(r,arguments)},{"./_stream_readable":110,"./_stream_writable":112,_process:71,dup:89,inherits:26}],109:[function(e,t,r){arguments[4][90][0].apply(r,arguments)},{"./_stream_transform":111,dup:90,inherits:26}],110:[function(e,t,r){arguments[4][91][0].apply(r,arguments)},{"../errors":107,"./_stream_duplex":108,"./internal/streams/async_iterator":113,"./internal/streams/buffer_list":114,"./internal/streams/destroy":115,"./internal/streams/from":117,"./internal/streams/state":119,"./internal/streams/stream":120,_process:71,buffer:9,dup:91,events:15,inherits:26,"string_decoder/":122,util:4}],111:[function(e,t,r){arguments[4][92][0].apply(r,arguments)},{"../errors":107,"./_stream_duplex":108,dup:92,inherits:26}],112:[function(e,t,r){arguments[4][93][0].apply(r,arguments)},{"../errors":107,"./_stream_duplex":108,"./internal/streams/destroy":115,"./internal/streams/state":119,"./internal/streams/stream":120,_process:71,buffer:9,dup:93,inherits:26,"util-deprecate":126}],113:[function(e,t,r){arguments[4][94][0].apply(r,arguments)},{"./end-of-stream":116,_process:71,dup:94}],114:[function(e,t,r){arguments[4][95][0].apply(r,arguments)},{buffer:9,dup:95,util:4}],115:[function(e,t,r){arguments[4][96][0].apply(r,arguments)},{_process:71,dup:96}],116:[function(e,t,r){arguments[4][97][0].apply(r,arguments)},{"../../../errors":107,dup:97}],117:[function(e,t,r){arguments[4][98][0].apply(r,arguments)},{dup:98}],118:[function(e,t,r){arguments[4][99][0].apply(r,arguments)},{"../../../errors":107,"./end-of-stream":116,dup:99}],119:[function(e,t,r){arguments[4][100][0].apply(r,arguments)},{"../../../errors":107,dup:100}],120:[function(e,t,r){arguments[4][101][0].apply(r,arguments)},{dup:101,events:15}],121:[function(e,t,r){(r=t.exports=e("./lib/_stream_readable.js")).Stream=r,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js"),r.finished=e("./lib/internal/streams/end-of-stream.js"),r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":108,"./lib/_stream_passthrough.js":109,"./lib/_stream_readable.js":110,"./lib/_stream_transform.js":111,"./lib/_stream_writable.js":112,"./lib/internal/streams/end-of-stream.js":116,"./lib/internal/streams/pipeline.js":118}],122:[function(e,t,r){arguments[4][102][0].apply(r,arguments)},{dup:102,"safe-buffer":86}],123:[function(e,t,r){(function(t,n){(function(){var i=e("process/browser.js").nextTick,o=Function.prototype.apply,s=Array.prototype.slice,a={},u=0;function l(e,t){this._id=e,this._clearFn=t}r.setTimeout=function(){return new l(o.call(setTimeout,window,arguments),clearTimeout)},r.setInterval=function(){return new l(o.call(setInterval,window,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(e){e.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},r.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},r.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},r.setImmediate="function"==typeof t?t:function(e){var t=u++,n=!(arguments.length<2)&&s.call(arguments,1);return a[t]=!0,i(function(){a[t]&&(n?e.apply(null,n):e.call(null),r.clearImmediate(t))}),t},r.clearImmediate="function"==typeof n?n:function(e){delete a[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":71,timers:123}],124:[function(e,t,r){"use strict";var n=e("punycode"),i=e("./util");function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}r.parse=m,r.resolve=function(e,t){return m(e,!1,!0).resolve(t)},r.resolveObject=function(e,t){return e?m(e,!1,!0).resolveObject(t):t},r.format=function(e){i.isString(e)&&(e=m(e));return e instanceof o?e.format():o.prototype.format.call(e)},r.Url=o;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),f=["%","/","?",";","#"].concat(c),p=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,y={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=e("querystring");function m(e,t,r){if(e&&i.isObject(e)&&e instanceof o)return e;var n=new o;return n.parse(e,t,r),n}o.prototype.parse=function(e,t,r){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),a=-1!==o&&o<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var m=e=l.join(a);if(m=m.trim(),!r&&1===e.split("#").length){var x=u.exec(m);if(x)return this.path=m,this.href=m,this.pathname=x[1],x[2]?(this.search=x[2],this.query=t?b.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var w=s.exec(m);if(w){var _=(w=w[0]).toLowerCase();this.protocol=_,m=m.substr(w.length)}if(r||w||m.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===m.substr(0,2);!k||w&&v[w]||(m=m.substr(2),this.slashes=!0)}if(!v[w]&&(k||w&&!g[w])){for(var A,E,S=-1,C=0;C<p.length;C++){-1!==(T=m.indexOf(p[C]))&&(-1===S||T<S)&&(S=T)}-1!==(E=-1===S?m.lastIndexOf("@"):m.lastIndexOf("@",S))&&(A=m.slice(0,E),m=m.slice(E+1),this.auth=decodeURIComponent(A)),S=-1;for(C=0;C<f.length;C++){var T;-1!==(T=m.indexOf(f[C]))&&(-1===S||T<S)&&(S=T)}-1===S&&(S=m.length),this.host=m.slice(0,S),m=m.slice(S),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var F=this.hostname.split(/\./),j=(C=0,F.length);C<j;C++){var R=F[C];if(R&&!R.match(h)){for(var N="",O=0,L=R.length;O<L;O++)R.charCodeAt(O)>127?N+="x":N+=R[O];if(!N.match(h)){var B=F.slice(0,C),P=F.slice(C+1),D=R.match(d);D&&(B.push(D[1]),P.unshift(D[2])),P.length&&(m="/"+P.join(".")+m),this.hostname=B.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=n.toASCII(this.hostname));var Q=this.port?":"+this.port:"",M=this.hostname||"";this.host=M+Q,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==m[0]&&(m="/"+m))}if(!y[_])for(C=0,j=c.length;C<j;C++){var U=c[C];if(-1!==m.indexOf(U)){var G=encodeURIComponent(U);G===U&&(G=escape(U)),m=m.split(U).join(G)}}var q=m.indexOf("#");-1!==q&&(this.hash=m.substr(q),m=m.slice(0,q));var z=m.indexOf("?");if(-1!==z?(this.search=m.substr(z),this.query=m.substr(z+1),t&&(this.query=b.parse(this.query)),m=m.slice(0,z)):t&&(this.search="",this.query={}),m&&(this.pathname=m),g[_]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Q=this.pathname||"";var V=this.search||"";this.path=Q+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,s="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=b.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+o+(r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+n},o.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var r=new o,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];r[a]=this[a]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),l=0;l<u.length;l++){var c=u[l];"protocol"!==c&&(r[c]=e[c])}return g[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!g[e.protocol]){for(var f=Object.keys(e),p=0;p<f.length;p++){var h=f[p];r[h]=e[h]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||v[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var y=r.pathname||"",b=r.search||"";r.path=y+b}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var m=r.pathname&&"/"===r.pathname.charAt(0),x=e.host||e.pathname&&"/"===e.pathname.charAt(0),w=x||m||r.host&&e.pathname,_=w,k=r.pathname&&r.pathname.split("/")||[],A=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!g[r.protocol]);if(A&&(r.hostname="",r.port=null,r.host&&(""===k[0]?k[0]=r.host:k.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),w=w&&(""===d[0]||""===k[0])),x)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,k=d;else if(d.length)k||(k=[]),k.pop(),k=k.concat(d),r.search=e.search,r.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(A)r.hostname=r.host=k.shift(),(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift());return r.search=e.search,r.query=e.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!k.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=k.slice(-1)[0],S=(r.host||e.host||k.length>1)&&("."===E||".."===E)||""===E,C=0,T=k.length;T>=0;T--)"."===(E=k[T])?k.splice(T,1):".."===E?(k.splice(T,1),C++):C&&(k.splice(T,1),C--);if(!w&&!_)for(;C--;C)k.unshift("..");!w||""===k[0]||k[0]&&"/"===k[0].charAt(0)||k.unshift(""),S&&"/"!==k.join("/").substr(-1)&&k.push("");var I,F=""===k[0]||k[0]&&"/"===k[0].charAt(0);A&&(r.hostname=r.host=F?"":k.length?k.shift():"",(I=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=I.shift(),r.host=r.hostname=I.shift()));return(w=w||r.host&&k.length)&&!F&&k.unshift(""),k.length?r.pathname=k.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":125,punycode:5,querystring:74}],125:[function(e,t,r){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],126:[function(e,t,r){(function(e){(function(){function r(t){try{if(!e.localStorage)return!1}catch(e){return!1}var r=e.localStorage[t];return null!=r&&"true"===String(r).toLowerCase()}t.exports=function(e,t){if(r("noDeprecation"))return e;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(t);r("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)}}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],127:[function(e,t,r){(function(r){(function(){"use strict";var n=e("for-each"),i=e("available-typed-arrays"),o=e("call-bind/callBound"),s=o("Object.prototype.toString"),a=e("has-tostringtag/shams")(),u="undefined"==typeof globalThis?r:globalThis,l=i(),c=o("String.prototype.slice"),f={},p=e("es-abstract/helpers/getOwnPropertyDescriptor"),h=Object.getPrototypeOf;a&&p&&h&&n(l,function(e){if("function"==typeof u[e]){var t=new u[e];if(Symbol.toStringTag in t){var r=h(t),n=p(r,Symbol.toStringTag);if(!n){var i=h(r);n=p(i,Symbol.toStringTag)}f[e]=n.get}}});var d=e("is-typed-array");t.exports=function(e){return!!d(e)&&(a&&Symbol.toStringTag in e?function(e){var t=!1;return n(f,function(r,n){if(!t)try{var i=r.call(e);i===n&&(t=i)}catch(e){}}),t}(e):c(s(e),8,-1))}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":1,"call-bind/callBound":11,"es-abstract/helpers/getOwnPropertyDescriptor":14,"for-each":16,"has-tostringtag/shams":22,"is-typed-array":30}],128:[function(e,t,r){t.exports=function(){for(var e={},t=0;t<arguments.length;t++){var r=arguments[t];for(var i in r)n.call(r,i)&&(e[i]=r[i])}return e};var n=Object.prototype.hasOwnProperty},{}],129:[function(e,t,r){var n=e("./parser"),i=e("./utils"),o=i;function s(e,t){this.name="NonSupportedSparqlFeatureError",this.feature=e,this.message=t||"SPARQL feature "+e+" non supported"}function a(e){this.name=ParserError,this.message=e||"Error parsing SPARQL query"}s.prototype=new Error,s.constructor=s,a.prototype=new Error,a.constructor=a,AbstractQueryTree=function(){},AbstractQueryTree.prototype.parseQueryString=function(e){return n.parse(e)},AbstractQueryTree.prototype.parseExecutableUnit=function(e){if("select"===e.kind)return this.parseSelect(e);if("ask"===e.kind)return this.parseSelect(e);if("modify"===e.kind)return this.parseSelect(e);if("construct"===e.kind)return this.parseSelect(e);if("insertdata"===e.kind)return this.parseInsertData(e);if("deletedata"===e.kind)return this.parseInsertData(e);if("load"===e.kind)return e;if("clear"===e.kind)return e;if("drop"===e.kind)return e;if("create"===e.kind)return e;throw new Error("unknown executable unit: "+e.kind)},AbstractQueryTree.prototype.parseSelect=function(e){if(null==e)return console.log("error parsing query"),null;return e.pattern=this.build(e.pattern,{freshCounter:0}),e},AbstractQueryTree.prototype.parseInsertData=function(e){return null==e?(console.log("error parsing query"),null):e},AbstractQueryTree.prototype.build=function(e,t){if("groupgraphpattern"===e.token)return this._buildGroupGraphPattern(e,t);if("basicgraphpattern"===e.token){var r={kind:"BGP",value:e.triplesContext};return r=AbstractQueryTree.translatePathExpressionsInBGP(r,t)}if("graphunionpattern"===e.token)return{kind:"UNION",value:[this.build(e.value[0],t),this.build(e.value[1],t)]};if("graphgraphpattern"===e.token)return{kind:"GRAPH",value:this.build(e.value,t),graph:e.graph};throw null!=e.token?new s(e.token,"Non implemented SPARQL graph pattern: '"+e.token+"'"):new a("Error parsing graph pattern: '"+JSON.stringify(e)+"'")},AbstractQueryTree.translatePathExpressionsInBGP=function(e,t){for(var r,n,i,s=[],a=0;a<e.value.length;a++)if(e.value[a].predicate&&"path"===e.value[a].predicate.token){r=e.value[a],n=e.value.slice(a+1);var u=AbstractQueryTree.translatePathExpression(r,t),l=null;if("BGP"!==u.kind){if("ZERO_OR_MORE_PATH"===u.kind||"ONE_OR_MORE_PATH"===u.kind){if(i=s.length>0?{kind:"JOIN",lvalue:{kind:"BGP",value:s},rvalue:u}:u,"ZERO_OR_MORE_PATH"===u.kind)if("var"===u.y.token&&0===u.y.value.indexOf("fresh:")&&"var"===u.x.token&&0===u.x.value.indexOf("fresh:"))for(var c=0;c<e.value.length;c++)e.value[c].object&&"var"===e.value[c].object.token&&e.value[c].object.value===u.x.value&&((l=o.clone(e.value[c],!0)).object=u.y);else if("var"===u.y.token&&0===u.y.value.indexOf("fresh:"))for(c=0;c<e.value.length;c++)e.value[c].subject&&"var"===e.value[c].subject.token&&e.value[c].subject.value===u.y.value&&((l=o.clone(e.value[c],!0)).subject=u.x);if(n.length>0){var f=AbstractQueryTree.translatePathExpressionsInBGP({kind:"BGP",value:n},t);return null!=l?{kind:"UNION",value:[{kind:"JOIN",lvalue:i,rvalue:f},{kind:"BGP",value:s.concat([l]).concat(n)}]}:{kind:"JOIN",lvalue:i,rvalue:f}}return i}return u}s=s.concat(u.value)}else s.push(e.value[a]);return e.value=s,e},AbstractQueryTree.translatePathExpression=function(e,t){if("element"===e.predicate.kind)return"+"===e.predicate.modifier?(e.predicate.modifier=null,{kind:"ONE_OR_MORE_PATH",path:AbstractQueryTree.translatePathExpression(e,t),x:e.subject,y:e.object}):"*"===e.predicate.modifier?(e.predicate.modifier=null,{kind:"ZERO_OR_MORE_PATH",path:AbstractQueryTree.translatePathExpression(e,t),x:e.subject,y:e.object}):(e.predicate=e.predicate.value,{kind:"BGP",value:[e]});if("sequence"===e.predicate.kind){for(var r,n,i=e.subject,a=e.object,u=e.graph,l=[],c=0;c<e.predicate.value.length;c++)c!=e.predicate.value.length-1?(r={token:"var",value:"fresh:"+t.freshCounter},t.freshCounter++):r=a,n={subject:i,predicate:e.predicate.value[c],object:r},null!=u&&(n.graph=o.clone(u,!0)),l.push(n),c!=e.predicate.value.length-1&&(i=o.clone(r,!0));var f={kind:"BGP",value:l};return AbstractQueryTree.translatePathExpressionsInBGP(f,t)}throw new s("Non supported path expression "+e.predicate.kind)},AbstractQueryTree.prototype._buildGroupGraphPattern=function(e,t){for(var r=e.filters||[],n=e.binds||[],i={kind:"EMPTY_PATTERN"},o=0;o<e.patterns.length;o++){var s=e.patterns[o];if("optionalgraphpattern"===s.token){i="FILTER"===(a=this.build(s.value,t)).kind?{kind:"LEFT_JOIN",lvalue:i,rvalue:a.value,filter:a.filter}:{kind:"LEFT_JOIN",lvalue:i,rvalue:a,filter:!0}}else{var a=this.build(s,t);i="EMPTY_PATTERN"==i.kind?a:{kind:"JOIN",lvalue:i,rvalue:a}}}if(i.binds=n,0!=r.length){if("EMPTY_PATTERN"===i.kind)return{kind:"FILTER",filter:r,value:i};if("LEFT_JOIN"===i.kind&&!0===i.filter)return{kind:"FILTER",filter:r,value:i};if("LEFT_JOIN"===i.kind)return{kind:"FILTER",filter:r,value:i};if("JOIN"===i.kind)return{kind:"FILTER",filter:r,value:i};if("UNION"===i.kind)return{kind:"FILTER",filter:r,value:i};if("GRAPH"===i.kind)return{kind:"FILTER",filter:r,value:i};if("BGP"===i.kind)return{kind:"FILTER",filter:r,value:i};throw new Error("Unknow kind of algebra expression: "+i.kind)}return i},AbstractQueryTree.prototype.collectBasicTriples=function(e,t){if(null==t&&(t=[]),"select"===e.kind)t=this.collectBasicTriples(e.pattern,t);else if("BGP"===e.kind)t=t.concat(e.value);else if("ZERO_OR_MORE_PATH"===e.kind)t=this.collectBasicTriples(e.path);else if("UNION"===e.kind)t=this.collectBasicTriples(e.value[0],t),t=this.collectBasicTriples(e.value[1],t);else if("GRAPH"===e.kind)t=this.collectBasicTriples(e.value,t);else if("LEFT_JOIN"===e.kind||"JOIN"===e.kind)t=this.collectBasicTriples(e.lvalue,t),t=this.collectBasicTriples(e.rvalue,t);else if("FILTER"===e.kind)t=this.collectBasicTriples(e.value,t);else if("construct"===e.kind)t=this.collectBasicTriples(e.pattern,t);else if("EMPTY_PATTERN"!==e.kind)throw"Unknown pattern: "+e.kind;return t},AbstractQueryTree.prototype.bind=function(e,t){if(null!=e.graph&&e.graph.token&&"var"===e.graph.token&&null!=t[e.graph.value]&&(e.graph=t[e.graph.value]),null!=e.filter){for(var r=[],n=0;n<e.filter.length;n++)e.filter[n].value=this._bindFilter(e.filter[n].value,t),r.push(e.filter[n]);e.filter=r}if("select"===e.kind)e.pattern=this.bind(e.pattern,t);else if("BGP"===e.kind)e.value=this._bindTripleContext(e.value,t);else if("ZERO_OR_MORE_PATH"===e.kind)e.path=this._bindTripleContext(e.path,t),e.x&&"var"===e.x.token&&null!=t[e.x.value]&&(e.x=t[e.x.value]),e.y&&"var"===e.y.token&&null!=t[e.y.value]&&(e.y=t[e.y.value]);else if("UNION"===e.kind)e.value[0]=this.bind(e.value[0],t),e.value[1]=this.bind(e.value[1],t);else if("GRAPH"===e.kind)e.value=this.bind(e.value,t);else if("LEFT_JOIN"===e.kind||"JOIN"===e.kind)e.lvalue=this.bind(e.lvalue,t),e.rvalue=this.bind(e.rvalue,t);else if("FILTER"===e.kind){var i=this;e.value=this.bind(e.value,t),e.filter=e.filter.map(function(e){return{token:"filter",value:i._bindFilter(e.value,t)}})}else if("EMPTY_PATTERN"!==e.kind)throw"Unknown pattern: "+e.kind;return e},AbstractQueryTree.prototype._bindTripleContext=function(e,t){for(var r=0;r<e.length;r++)for(var n in delete e[r].graph,delete e[r].variables,e[r]){var i=e[r][n];"var"===i.token&&null!=t[i.value]&&(e[r][n]=t[i.value])}return e},AbstractQueryTree.prototype._bindFilter=function(e,t){if(null!=e.expressionType){var r=e.expressionType;if("relationalexpression"==r)e.op1=this._bindFilter(e.op1,t),e.op2=this._bindFilter(e.op2,t);else if("conditionalor"==r||"conditionaland"==r)for(var n=0;n<e.operands.length;n++)e.operands[n]=this._bindFilter(e.operands[n],t);else if("additiveexpression"==r){e.summand=this._bindFilter(e.summand,t);for(n=0;n<e.summands.length;n++)e.summands[n].expression=this._bindFilter(e.summands[n].expression,t)}else if("builtincall"==r)for(n=0;n<e.args.length;n++)e.args[n]=this._bindFilter(e.args[n],t);else if("multiplicativeexpression"==r){e.factor=this._bindFilter(e.factor,t);for(n=0;n<e.factors.length;n++)e.factors[n].expression=this._bindFilter(e.factors[n].expression,t)}else if("unaryexpression"==r)e.expression=this._bindFilter(e.expression,t);else if("irireforfunction"==r)for(n=0;n<e.factors.args;n++)e.args[n]=this._bindFilter(e.args[n],t);else if("atomic"==r&&"var"==e.primaryexpression&&null!=t[e.value.value]){var i=t[e.value.value];"uri"===i.token?e.primaryexpression="iri":e.primaryexpression="literal",e.value=i}}return e},AbstractQueryTree.prototype.replace=function(e,t,r,n){if(null!=e.graph&&e.graph.token&&e.graph.token===t.token&&e.graph.value==t.value&&(e.graph=o.clone(r,!0)),null!=e.filter){for(var i=[],s=0;s<e.filter.length;s++)e.filter[s].value=this._replaceFilter(e.filter[s].value,t,r,n),i.push(e.filter[s]);e.filter=i}if("select"===e.kind)e.pattern=this.replace(e.pattern,t,r,n);else if("BGP"===e.kind)e.value=this._replaceTripleContext(e.value,t,r,n);else if("ZERO_OR_MORE_PATH"===e.kind)e.path=this._replaceTripleContext(e.path,t,r,n),e.x&&e.x.token===t.token&&e.value===t.value&&(e.x=o.clone(r,!0)),e.y&&e.y.token===t.token&&e.value===t.value&&(e.y=o.clone(r,!0));else if("UNION"===e.kind)e.value[0]=this.replace(e.value[0],t,r,n),e.value[1]=this.replace(e.value[1],t,r,n);else if("GRAPH"===e.kind)e.value=this.replace(e.value,t,r);else if("LEFT_JOIN"===e.kind||"JOIN"===e.kind)e.lvalue=this.replace(e.lvalue,t,r,n),e.rvalue=this.replace(e.rvalue,t,r,n);else if("FILTER"===e.kind)e.value=this._replaceFilter(e.value,t,r,n);else if("EMPTY_PATTERN"!==e.kind)throw"Unknown pattern: "+e.kind;return e},AbstractQueryTree.prototype._replaceTripleContext=function(e,t,r,n){for(var o=0;o<e.length;o++)for(var s in e[o]){var a=e[o][s];"var"===a.token&&"var"===t.token&&a.value===t.value?e[o][s]=r:"blank"===a.token&&"blank"===t.token&&a.value===t.value?e[o][s]=r:"literal"!==a.token&&"uri"!==a.token||"literal"!==t.token&&"uri"!==t.token||a.token!==t.token||i.lexicalFormTerm(a,n)[a.token]!==i.lexicalFormTerm(t,n)[a.token]||(e[o][s]=r)}return e},AbstractQueryTree.prototype._replaceFilter=function(e,t,r,n){if(null!=e.expressionType){var i=e.expressionType;if("relationalexpression"==i)e.op1=this._replaceFilter(e.op1,t,r,n),e.op2=this._replaceFilter(e.op2,t,r,n);else if("conditionalor"==i||"conditionaland"==i)for(var o=0;o<e.operands.length;o++)e.operands[o]=this._replaceFilter(e.operands[o],t,r,n);else if("additiveexpression"==i){e.summand=this._replaceFilter(e.summand,t,r,n);for(o=0;o<e.summands.length;o++)e.summands[o].expression=this._replaceFilter(e.summands[o].expression,t,r,n)}else if("builtincall"==i)for(o=0;o<e.args.length;o++)e.args[o]=this._replaceFilter(e.args[o],t,r,n);else if("multiplicativeexpression"==i){e.factor=this._replaceFilter(e.factor,t,r,n);for(o=0;o<e.factors.length;o++)e.factors[o].expression=this._replaceFilter(e.factors[o].expression,t,r,n)}else if("unaryexpression"==i)e.expression=this._replaceFilter(e.expression,t,r,n);else if("irireforfunction"==i)for(o=0;o<e.factors.args;o++)e.args[o]=this._replaceFilter(e.args[o],t,r,n);else if("atomic"==i){var s=null;e.primaryexpression==t.token&&e.value==t.value?s=r.value:"iri"==e.primaryexpression&&"uri"==t.token&&e.value==t.value&&(s=r.value),null!=s&&("uri"===r.token?e.primaryexpression="iri":e.primaryexpression=r.token,e.value=s)}}return e},AbstractQueryTree.prototype.treeWithUnion=function(e){if(null==e)return!1;if(null==e.kind)return!1;if("select"===e.kind)return this.treeWithUnion(e.pattern);if("BGP"===e.kind)return this.treeWithUnion(e.value);if("ZERO_OR_MORE_PATH"===e.kind)return!1;if("UNION"===e.kind){if(null==e.value[0].value||null==e.value[0].value.variables||null==e.value[1].value||null==e.value[1].value.variables)return!0;if(e.value[0].variables.join("/")===e.values[1].variables.join("/"))return!!this.treeWithUnion(e.value[0])||this.treeWithUnion(e.value[1])}else{if("GRAPH"===e.kind)return!1;if("LEFT_JOIN"!==e.kind&&"JOIN"!==e.kind)return"FILTER"!==e.kind&&(e.kind,!1);if(this.treeWithUnion(e.lvalue))return!0;this.treeWithUnion(e.rvalue)}},t.exports={AbstractQueryTree:AbstractQueryTree,NonSupportedSparqlFeatureError:s,SparqlParserError:a}},{"./parser":135,"./utils":147}],130:[function(e,t,r){"use strict";var n=e("./utils"),i=n,o=n.nextTick,s=function(e,t){if(0!=arguments.length){this.order=e,this.root=this._allocateNode(),this.root.isLeaf=!0,this.root.level=0;var r=this;this._diskWrite(this.root,function(e){r.root=e,r._updateRootNode(r.root,function(e){r.comparator=function(e,t){return e<t?-1:e>t?1:0},r.merger=null,null!=t&&t(r)})})}};s.prototype._allocateNode=function(){return new a},s.prototype._diskWrite=function(e,t){o(function(){t(e)})},s.prototype._diskRead=function(e,t){o(function(){t(e)})},s.prototype._diskDelete=function(e,t){o(function(){t()})},s.prototype._updateRootNode=function(e,t){t(e)},s.prototype.search=function(e,t,r){var n=this.root;this.__search(this,e,n,t,r)},s.prototype.__search=function(e,t,r,n,i){for(var o=0;o<r.numberActives&&1===e.comparator(t,r.keys[o].key);)o++;o<r.numberActives&&0===e.comparator(r.keys[o].key,t)?n(null!=i&&1==i||r.keys[o].data):!0===r.isLeaf?n(null):e._diskRead(r.children[o],function(r){e.__search(e,t,r,n,i)})},s.prototype.walk=function(e,t){this.__walk(this,this.root,e,t)},s.prototype.__walk=function(e,t,r,n){var o=t.numberActives,s=0;if(t.isLeaf){for(s=0;s<t.numberActives;s++)r(t.keys[s]);return n()}i.whilst(function(){return s<o},function(n){e._diskRead(t.children[s],function(i){e.__walk(e,i,r,function(){e._diskRead(t.keys[s],function(e){r(e),s++,n()})})})},function(){e._diskRead(t.children[o],function(t){e.__walk(e,t,r,function(){n()})})})},s.prototype.walkNodes=function(e){this.__walkNodes(this,root,e,function(){})},s.prototype.__walkNodes=function(e,t,r,n){if(t.isLeaf)return r(t),n();r(t);var o=t.numberActives,s=0;i.whilst(function(){return s<o},function(n){e._diskRead(t.children[s],function(t){e.__walkNodes(e,t,r,function(){s++,n()})})},function(){e._diskRead(t.children[o],function(t){e.__walkNodes(e,t,r,function(){})})})},s.prototype._splitChild=function(e,t,r,n){var i=this._allocateNode();i.isLeaf=r.isLeaf,i.level=r.level,i.numberActives=this.order-1;var o=r.keys[this.order-1];r.keys[this.order-1]=null;for(var s=0;s<this.order-1;s++)i.keys[s]=r.keys[s+this.order],r.keys[s+this.order]=null,r.isLeaf||(i.children[s]=r.children[s+this.order],r.children[s+this.order]=null);for(r.isLeaf||(i.children[s]=r.children[s+this.order],r.children[s+this.order]=null),r.numberActives=this.order-1,s=e.numberActives+1;s>t+1;s--)e.children[s]=e.children[s-1];for(e.children[t+1]=i,s=e.numberActives;s>t;s--)e.keys[s]=e.keys[s-1];e.keys[t]=o,e.numberActives++;var a=this;this._diskWrite(i,function(i){a._diskWrite(e,function(e){e.children[t+1]=i,a._diskWrite(r,function(t){return n(e)})})})},s.prototype.insert=function(e,t,r){if(this.root.numberActives===2*this.order-1){var n=this._allocateNode();n.isLeaf=!1,n.level=this.root.level+1,n.numberActives=0,n.children[0]=this.root;var i=this;this._splitChild(n,0,this.root,function(o){n=o,i.root=n,i._updateRootNode(n,function(n){i._insertNonFull(n,e,t,r)})})}else this._insertNonFull(this.root,e,t,r)},s.prototype._insertNonFull=function(e,t,r,n){var i=e.numberActives-1;this.__insertNonFull(this,e,i,t,r,n)},s.prototype.__insertNonFull=function(e,t,r,n,i,o){if(t.isLeaf){for(;r>=0&&-1===e.comparator(n,t.keys[r].key);)t.keys[r+1]=t.keys[r],r--;r>=0&&0===e.comparator(n,t.keys[r].key)?t.keys[r]={key:n,data:i}:(t.keys[r+1]={key:n,data:i},t.numberActives++),e._diskWrite(t,function(e){return o(e)})}else{for(;r>=0&&-1===e.comparator(n,t.keys[r].key);)r--;r++;var s=e;e._diskRead(t.children[r],function(a){a.numberActives===2*s.order-1?s._splitChild(t,r,a,function(){1===s.comparator(n,t.keys[r].key)&&r++,s._diskRead(t.children[r],function(t){r=t.numberActives-1,s.__insertNonFull(e,t,r,n,i,o)})}):s._diskRead(t.children[r],function(t){r=t.numberActives-1,s.__insertNonFull(e,t,r,n,i,o)})})}},s.prototype.delete=function(e,t){var r=this.root;s.prototype.__deleteSearchNode(this,e,r,t)},s.prototype.__deleteSearchNode=function(e,t,r,n){var i=0;if(0===r.numberActives)return n(!1);for(;i<r.numberActives&&1===e.comparator(t,r.keys[i].key);)i++;var o=i;if(i<r.numberActives&&0===e.comparator(t,r.keys[i].key))return e.__deleteNodeFound(e,o,t,r,n);if(!0===r.isLeaf)return n(!1);var s=r;e._diskRead(r.children[i],function(r){if(null===r)return n(!1);var a=!1,u=!1,l=null,c=null;o===s.numberActives?(u=!0,c=s.children[o-1],l=s.children[o-1]):0===o?(a=!0,l=s.children[1],c=s.children[1]):(c=s.children[o-1],l=s.children[o+1]),e._diskRead(c,function(o){e._diskRead(l,function(l){!0===u&&(l=null),!0===a&&(o=null),r.numberActives===e.order-1&&null!=s?null!=l&&l.numberActives>e.order-1?e._moveKey(s,i,-1,function(i){e.__deleteSearchNode(e,t,r,n)}):null!=o&&o.numberActives>e.order-1?e._moveKey(s,i,1,function(i){e.__deleteSearchNode(e,t,r,n)}):null!=o&&o.numberActives===e.order-1?e._mergeSiblings(s,i,-1,function(r){e.__deleteSearchNode(e,t,r,n)}):null!=l&&l.numberActives===e.order-1&&e._mergeSiblings(s,i,1,function(r){e.__deleteSearchNode(e,t,r,n)}):e.__deleteSearchNode(e,t,r,n)})})})},s.prototype.__deleteNodeFound=function(e,t,r,n,i){return n.isLeaf&&n.numberActives>e.order-1?(e._deleteKeyFromNode(n,t,function(){i(!0)}),!0):n.isLeaf&&n===e.root?(e._deleteKeyFromNode(n,t,function(){i(!0)}),!0):(!1===n.isLeaf&&e._diskRead(n.children[t],function(o){o.numberActives>e.order-1?e._getMaxKeyPos(e,o,function(s){r=s.node.keys[s.index],n.keys[t]=r,e._diskWrite(n,function(t){t=o,r=r.key,e.__deleteSearchNode(e,r,t,i)})}):e._diskRead(n.children[t+1],function(s){s.numberActives>e.order-1?e._getMinKeyPos(e,s,function(o){r=o.node.keys[o.index],n.keys[t]=r,e._diskWrite(n,function(t){t=s,r=r.key,e.__deleteSearchNode(e,r,t,i)})}):o.numberActives===e.order-1&&s.numberActives===e.order-1&&e._mergeNodes(o,n.keys[t],s,function(o){n.children[t]=o;for(var s=++t;s<n.numberActives;s++)n.children[s]=n.children[s+1],n.keys[s-1]=n.keys[s];n.children[s]=null,n.keys[s-1]=null,n.numberActives--,0===n.numberActives&&e.root===n&&(e.root=o),e._diskWrite(n,function(t){e.__deleteSearchNode(e,r,o,i)})})})}),void(n.isLeaf&&n.numberActives>e.order-1&&e._deleteKeyFromNode(n,t,function(t){e.__deleteSearchNode(e,r,t,i)})))},s.prototype._moveKey=function(e,t,r,n){1===r&&t--;var i=this;i._diskRead(e.children[t],function(o){i._diskRead(e.children[t+1],function(s){if(-1==r){o.keys[o.numberActives]=e.keys[t],o.children[o.numberActives+1]=s.children[0],s.children[0]=null,o.numberActives++,e.keys[t]=s.keys[0];for(var a=1;a<s.numberActives;a++)s.keys[a-1]=s.keys[a],s.children[a-1]=s.children[a];s.children[s.numberActives-1]=s.children[s.numberActives],s.numberActives--}else{s.children[s.numberActives+1]=s.children[s.numberActives];for(a=s.numberActives;a>0;a--)s.children[a]=s.children[a-1],s.keys[a]=s.keys[a-1];s.keys[0]=null,s.children[0]=null,s.children[0]=o.children[o.numberActives],s.keys[0]=e.keys[t],s.numberActives++,o.children[o.numberActives]=null,e.keys[t]=o.keys[o.numberActives-1],o.keys[o.numberActives-1]=null,o.numberActives--}i._diskWrite(o,function(t){i._diskWrite(s,function(t){i._diskWrite(e,function(e){return n(e)})})})})})},s.prototype._mergeSiblings=function(e,t,r,n){var i,o,s,a;t===e.numberActives?(t--,s=e.children[e.numberActives-1],a=e.children[e.numberActives]):(s=e.children[t],a=e.children[t+1]);var u=this;u._diskRead(s,function(r){u._diskRead(a,function(s){var a=u._allocateNode();for(a.isLeaf=r.isLeaf,a.level=r.level,o=0;o<u.order-1;o++)a.keys[o]=r.keys[o],a.children[o]=r.children[o];for(a.keys[u.order-1]=e.keys[t],a.children[u.order-1]=r.children[u.order-1],o=0;o<u.order-1;o++)a.keys[o+u.order]=s.keys[o],a.children[o+u.order]=s.children[o];for(a.children[2*u.order-1]=s.children[u.order-1],e.children[t]=a,o=t;o<e.numberActives;o++)e.keys[o]=e.keys[o+1],e.children[o+1]=e.children[o+2];for(a.numberActives=r.numberActives+s.numberActives+1,e.numberActives--,i=e.numberActives;i<2*u.order-1;i++)e.keys[i]=null;0===e.numberActives&&u.root===e&&(u.root=a,a.level?a.isLeaf=!1:a.isLeaf=!0),u._diskWrite(a,function(t){u._diskWrite(e,function(e){u._diskDelete(r,function(){u._diskDelete(s,function(){if(u.root!==t)return n(t);u._updateRootNode(u.root,function(){return n(t)})})})})})})})},s.prototype._deleteKeyFromNode=function(e,t,r){var n,i=2*this.order-1;if(e.numberActives<i&&(i=e.numberActives),!1===e.isLeaf)return!1;e.keys[t];for(n=t;n<i-1;n++)e.keys[n]=e.keys[n+1];e.keys.pop(),e.numberActives--,this._diskWrite(e,function(e){return r(e)})},s.prototype._mergeNodes=function(e,t,r,n){var i,o;for((i=this._allocateNode()).isLeaf=!0,o=0;o<e.numberActives;o++)i.keys[o]=e.keys[o],i.children[o]=e.children[o];for(i.children[e.numberActives]=e.children[e.numberActives],i.keys[e.numberActives]=t,o=0;o<r.numberActives;o++)i.keys[o+e.numberActives+1]=r.keys[o],i.children[o+e.numberActives+1]=r.children[o];i.children[2*this.order-1]=r.children[r.numberActives],i.numberActives=e.numberActives+r.numberActives+1,i.isLeaf=e.isLeaf,i.level=e.level;var s=this;this._diskWrite(i,function(t){s._diskDelete(e,function(){s._diskDelete(r,function(){return n(t)})})})},s.prototype.audit=function(e){var t=[],r=[],n=this,i=function(i){for(var o=0;o<r.length;o++)if(0===n.comparator(r[o],i)){var s=" !!! duplicated key "+i;!0===e&&console.log(s),t.push(s)}},o=null;n=this;return this.walkNodes(function(s){!0===e&&(console.log("--- Node at "+s.level+" level"),console.log(" - leaf? "+s.isLeaf),console.log(" - num actives? "+s.numberActives),console.log(" - keys: "));for(var a=s.numberActives;a<s.keys.length;a++)null!=s.keys[a]&&!0===e&&(console.log(" * warning : redundant key data"),t.push(" * warning : redundant key data"));for(a=s.numberActives+1;a<s.children.length;a++)null!=s.children[a]&&!0===e&&(console.log(" * warning : redundant children data"),t.push(" * warning : redundant key data"));if(!1===s.isLeaf)for(a=0;a<s.numberActives;a++){var u=this._diskRead(s.children[a]).keys[this._diskRead(s.children[a]).numberActives-1].key,l=this._diskRead(s.children[a+1]).keys[0].key;if(!0===e&&console.log("   "+s.keys[a].key+"("+u+","+l+")"),-1===n.comparator(s.keys[a].key,u)){var c=" !!! value max left "+u+" > key "+s.keys[a].key;!0===e&&console.log(c),t.push(c)}if(1===n.comparator(s.keys[a].key,l)){c=" !!! value min right "+l+" < key "+s.keys[a].key;!0===e&&console.log(c),t.push(c)}i(s.keys[a].key),r.push(s.keys[a].key)}else{if(null===o)o=s.level;else if(o!=s.level){c=" !!! Leaf node with wrong level value";!0===e&&console.log(c),t.push(c)}for(a=0;a<s.numberActives;a++)!0===e&&console.log(" "+s.keys[a].key),i(s.keys[a].key),r.push(s.keys[a].key)}if(s!=n.root){if(s.numberActives>2*n.order-1){if(!0===e)c=" !!!! MAX num keys restriction violated ";console.log(c),t.push(c)}if(s.numberActives<n.order-1){if(!0===e)c=" !!!! MIN num keys restriction violated ";console.log(c),t.push(c)}}}),t},s.prototype._getMaxKeyPos=function(e,t,r){var n={};return null===t?r(null):!0===t.isLeaf?(n.node=t,n.index=t.numberActives-1,r(n)):(n.node=t,n.index=t.numberActives-1,void e._diskRead(t.children[t.numberActives],function(t){return e._getMaxKeyPos(e,t,r)}))},s.prototype._getMinKeyPos=function(e,t,r){var n={};if(null===t&&r(null),!0===t.isLeaf)return n.node=t,n.index=0,r(n);n.node=t,n.index=0,e._diskRead(t.children[0],function(t){return e._getMinKeyPos(e,t,r)})};var a=function(){this.numberActives=0,this.isLeaf=null,this.keys=[],this.children=[],this.level=0};t.exports={Tree:s,Node:a}},{"./utils":147}],131:[function(e,t,r){var n=e("./utils"),i=e("./utils"),o=(e("./quad_index").QuadIndex,e("./quad_index").Pattern),s=e("./rdf_model"),a=e("./abstract_query_tree").AbstractQueryTree;Callbacks={},Callbacks.ANYTHING={token:"var",value:"_"},Callbacks.added="added",Callbacks.deleted="deleted",Callbacks.eventsFlushed="eventsFlushed",Callbacks.CallbacksBackend=function(){this.aqt=new a,this.engine=arguments[0],this.indexMap={},this.observersMap={},this.queriesIndexMap={},this.emptyNotificationsMap={},this.queriesList=[],this.pendingQueries=[],this.matchedQueries=[],this.updateInProgress=null,this.indices=["SPOG","GP","OGS","POG","GSP","OS"],this.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]},this.callbackCounter=0,this.callbacksMap={},this.callbacksInverseMap={},this.queryCounter=0,this.queriesMap={},this.queriesCallbacksMap={},this.queriesInverseMap={};for(var e=0;e<this.indices.length;e++){var t=this.indices[e];this.indexMap[t]={},this.queriesIndexMap[t]={}}},Callbacks.CallbacksBackend.prototype.startGraphModification=function(){!0!==this.ongoingModification&&(this.pendingQueries=[].concat(this.queriesList),this.matchedQueries=[],null==this.updateInProgress&&(this.updateInProgress={},this.updateInProgress[Callbacks.added]=[],this.updateInProgress[Callbacks.deleted]=[]))},Callbacks.CallbacksBackend.prototype.nextGraphModification=function(e,t){this.updateInProgress[e].push(t)},Callbacks.CallbacksBackend.prototype.endGraphModification=function(e){if(!0!==this.ongoingModification){var t=this;if(null!=this.updateInProgress){var r=t.updateInProgress;t.updateInProgress=null,this.sendNotification(Callbacks.deleted,r[Callbacks.deleted],function(){t.sendNotification(Callbacks.added,r[Callbacks.added],function(){t.sendEmptyNotification(Callbacks.eventsFlushed,null,function(){t.dispatchQueries(function(){e(!0)})})})})}else e(!0)}else e(!0)},Callbacks.CallbacksBackend.prototype.cancelGraphModification=function(){!0!==this.ongoingModification&&(this.updateInProgress=null)},Callbacks.CallbacksBackend.prototype.sendNotification=function(e,t,r){for(var n={},i=0;i<t.length;i++){var o=t[i];for(var s in this.indexMap){var a=this.indexMap[s],u=this.componentOrders[s];this._searchCallbacksInIndex(a,u,e,o,n),0!=this.pendingQueries.length&&(a=this.queriesIndexMap[s],this._searchQueriesInIndex(a,u,o))}}this.dispatchNotifications(n),null!=r&&r(!0)},Callbacks.CallbacksBackend.prototype.sendEmptyNotification=function(e,t,r){for(var n=this.emptyNotificationsMap[e]||[],i=0;i<n.length;i++)n[i](e,t);r()},Callbacks.CallbacksBackend.prototype.dispatchNotifications=function(e){for(var t in e){var r=this.callbacksMap[t],n=e[t][Callbacks.deleted];if(null!=n)try{r(Callbacks.deleted,n)}catch(e){}for(var i in e[t])if(i!=Callbacks.deleted)try{r(i,e[t][i])}catch(e){}}},Callbacks.CallbacksBackend.prototype._searchCallbacksInIndex=function(e,t,r,n,i){for(var o=n[1],s=(n=n[0],0);s<t.length+1;s++){for(var a=e._||[],u=[],l=0;l<a.length;l++){var c=a[l];null!=this.callbacksMap[c]&&(i[c]=i[c]||{},i[c][r]=i[c][r]||[],i[c][r].push(n),u.push(c))}e._=u;var f=t[s];if(null==e[""+o[f]])break;e=e[""+o[f]]}},Callbacks.CallbacksBackend.prototype.subscribeEmpty=function(e,t){var r=this.emptyNotificationsMap[e]||[];r.push(t),this.emptyNotificationsMap[e]=r},Callbacks.CallbacksBackend.prototype.unsubscribeEmpty=function(e,t){var r=this.emptyNotificationsMap[e];null!=r&&(r=n.reject(r,function(e){return e===t})),this.emptyNotificationsMap[e]=r},Callbacks.CallbacksBackend.prototype.subscribe=function(e,t,r,n,i,s){var a=this._tokenizeComponents(e,t,r,n),u={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,u);var l=this;this.engine.normalizeQuad(a,u,!0,function(e){for(var t=new o(e),r=l._indexForPattern(t),n=l.componentOrders[r],a=l.indexMap[r],u=0;u<n.length;u++){var c=e[n[u]];if("_"===c){null==a._&&(a._=[]),l.callbackCounter++,a._.push(l.callbackCounter),l.callbacksMap[l.callbackCounter]=i,l.callbacksInverseMap[i]=l.callbackCounter;break}u===n.length-1?(a[c]=a[c]||{_:[]},l.callbackCounter++,a[c]._.push(l.callbackCounter),l.callbacksMap[l.callbackCounter]=i,l.callbacksInverseMap[i]=l.callbackCounter):(a[c]=a[c]||{},a=a[c])}null!=s&&s(!0)})},Callbacks.CallbacksBackend.prototype.unsubscribe=function(e){var t=this.callbacksInverseMap[e];null!=t&&(delete this.callbacksInverseMap[e],delete this.callbacksMap[t])},Callbacks.CallbacksBackend.prototype._tokenizeComponents=function(e,t,r,n){var i={};return null==e?i.subject=Callbacks.ANYTHING:0==e.indexOf("_:")?i.subject={token:"blank",value:e}:i.subject={token:"uri",value:e},i.predicate=null==t?Callbacks.ANYTHING:{token:"uri",value:t},i.object=null==r?Callbacks.ANYTHING:{token:"uri",value:r},i.graph=null==n?Callbacks.ANYTHING:{token:"uri",value:n},i},Callbacks.CallbacksBackend.prototype._indexForPattern=function(e){for(var t=e.indexKey,r=this.indices,i=0;i<r.length;i++)for(var o=r[i],s=this.componentOrders[o],a=0;a<s.length&&!1!==n.include(t,s[a]);a++)if(a==t.length-1)return o;return"SPOG"},Callbacks.CallbacksBackend.prototype.observeNode=function(){var e,t,r,n;4===arguments.length?(e=arguments[0],t=arguments[1],r=arguments[2],n=arguments[3]):(e=arguments[0],t=this.engine.lexicon.defaultGraphUri,r=arguments[1],n=arguments[2]);var i="CONSTRUCT { <"+e+"> ?p ?o } WHERE { GRAPH <"+t+"> { <"+e+"> ?p ?o } }",o=this,a={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,a);var u=[];this.engine.execute(i,function(t,i){if(t)n&&n(!1);else{var l=i,c=!1,f=function(e,t){if("eventsFlushed"===e&&c){c=!1;try{r(l)}catch(e){}}else if("eventsFlushed"!==e){c=!0;for(var n=0;n<t.length;n++){var i=t[n],f=s.buildRDFResource(i.subject,u,o.engine,a),p=s.buildRDFResource(i.predicate,u,o.engine,a),h=s.buildRDFResource(i.object,u,o.engine,a);null!=f&&null!=p&&null!=h&&(i=new s.Triple(f,p,h),e===Callbacks.added?l.add(i):e===Callbacks.deleted&&l.remove(i))}}};o.observersMap[r]=f,o.subscribeEmpty(Callbacks.eventsFlushed,f),o.subscribe(e,null,null,null,f,function(){try{r(l)}catch(e){}n&&n(!0)})}})},Callbacks.CallbacksBackend.prototype.stopObservingNode=function(e){var t=this.observersMap[e];return!!t&&(this.unsubscribe(t),this.unsubscribeEmpty(Callbacks.eventsFlushed,t),!0)},Callbacks.CallbacksBackend.prototype.observeQuery=function(e,t,r){var n=this.aqt.parseQueryString(e),s=this.aqt.parseSelect(n.units[0]),a=this.aqt.collectBasicTriples(s),u=this,l={blanks:{},outCache:{}};this.engine.registerNsInEnvironment(null,l);var c=this.queryCounter;this.queryCounter++,this.queriesMap[c]=e,this.queriesInverseMap[e]=c,this.queriesList.push(c),this.queriesCallbacksMap[c]=t,i.eachSeries(a,function(e,t){null==e.graph&&(e.graph=u.engine.lexicon.defaultGraphUriTerm),u.engine.normalizeQuad(e,l,!0,function(e){for(var r=new o(e),n=u._indexForPattern(r),i=u.componentOrders[n],s=u.queriesIndexMap[n],a=0;a<i.length;a++){var l=e[i[a]];if("string"==typeof l){null==s._&&(s._=[]),s._.push(c);break}a===i.length-1?(s[l]=s[l]||{_:[]},s[l]._.push(c)):(s[l]=s[l]||{},s=s[l])}t()})},function(){u.engine.execute(e,function(e,r){e?console.log("ERROR in query callback "+r):t(r)}),null!=r&&r()})},Callbacks.CallbacksBackend.prototype.stopObservingQuery=function(e){var t=this.queriesInverseMap[e];null!=t&&(delete this.queriesInverseMap[e],delete this.queriesMap[t],this.queriesList=n.reject(this.queriesList,function(e){return e===t}))},Callbacks.CallbacksBackend.prototype._searchQueriesInIndex=function(e,t,r){for(var i=r[1],o=(r=r[0],0);o<t.length+1;o++){for(var s=e._||[],a=[],u=0;u<s.length;u++){var l=s[u];n.include(this.pendingQueries,l)&&(n.remove(this.pendingQueries,function(e){return e===l}),this.matchedQueries.push(l)),null!=this.queriesMap[l]&&a.push(l)}e._=a;var c=t[o];if(null==e[""+i[c]])break;e=e[""+i[c]]}},Callbacks.CallbacksBackend.prototype.dispatchQueries=function(e){var t,r,n=this,o={};i.eachSeries(this.matchedQueries,function(e,i){null==o[e]?(o[e]=!0,t=n.queriesMap[e],r=n.queriesCallbacksMap[e],n.engine.execute(t,function(e,t){if(!e)try{r(t)}catch(e){}i()})):i()},function(){e()})},Callbacks.CallbacksBackend.added=Callbacks.added,Callbacks.CallbacksBackend.deleted=Callbacks.deleted,Callbacks.CallbacksBackend.eventsFlushed=Callbacks.eventsFlushed,t.exports=Callbacks},{"./abstract_query_tree":129,"./quad_index":139,"./rdf_model":144,"./utils":147}],132:[function(e,t,r){var n=e("jsonld");r.JSONLDParser={};var i=r.JSONLDParser;i.parser={async:!0,parse:function(e,t,r,i){try{"string"==typeof e&&(e=JSON.parse(e)),async function(e,t,r){var i=null;const o=await n.toRDF(e,{});var s=function(e){return"BlankNode"===e.termType?{blank:e.value}:"NamedNode"===e.termType?{token:"uri",value:e.value}:"Literal"===e.termType?null!=e.language?{literal:'"'+e.value+'"@'+e.language}:null!==e.datatype?{literal:'"'+e.value+'"^^<'+e.datatype.value+">"}:{literal:'"'+e.value+'"'}:void 0};i=[];for(var a,u,l,c=o,f=0;f<c.length;f++){var p=c[f];a=p.subject,u=p.predicate,l=p.object,i.push({subject:s(a),predicate:s(u),object:s(l),graph:t})}r(null,i)}(e,t,i)}catch(e){i(e)}}},t.exports={JSONLDParser:i}},{jsonld:48}],133:[function(e,t,r){var n=e("./utils"),i=e("./btree").Tree;Lexicon=function(e){var t=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,n.seq(function(e){new i(2,function(r){t.uris=r,e()})},function(e){new i(2,function(r){t.literals=r,e()})},function(e){new i(2,function(r){t.knownGraphs=r,e()})},function(e){new i(2,function(r){t.oidUris=r,e()})},function(e){new i(2,function(r){t.oidLiterals=r,e()})},function(e){new i(2,function(r){t.oidBlanks=r,e()})})(function(){null!=e&&e(t)})},Lexicon.prototype.registerGraph=function(e,t,r){e!=this.defaultGraphOid?this.knownGraphs.insert(e,t,function(){r()}):r()},Lexicon.prototype.registeredGraphs=function(e,t){var r=[];this.knownGraphs.walk(function(t){!0===e?r.push(t.data):r.push(t.key)},function(){t(r)})},Lexicon.prototype.registerUri=function(e,t){var r=this;e===this.defaultGraphUri?t(this.defaultGraphOid):this.uris.search(e,function(i){if(null==i){var o=r.oidCounter,s="u"+o;r.oidCounter++,n.seq(function(t){r.uris.insert(e,[o,0],function(){t()})},function(t){r.oidUris.insert(s,e,function(){t()})})(function(){t(o)})}else o=i[0],i[1]=i[1]+1,t(o)})},Lexicon.prototype.resolveUri=function(e,t){e===this.defaultGraphUri?t(this.defaultGraphOid):this.uris.search(e,function(e){t(null!=e?e[0]:-1)})},Lexicon.prototype.resolveUriCost=function(e,t){e===this.defaultGraphUri?t(0):this.uris.search(e,function(e){t(null!=e?e[1]:-1)})},Lexicon.prototype.registerBlank=function(e){var t=this.oidCounter;this.oidCounter++;var r=""+t;this.oidBlanks.insert(r,r,function(){e(t)})},Lexicon.prototype.resolveBlank=function(e,t){var r=this;this.oidBlanks.search(e,function(e){if(null!=e)t(e);else{var n=r.oidCounter;this.oidCounter++,t(""+n)}})},Lexicon.prototype.resolveBlankCost=function(e,t){t(0)},Lexicon.prototype.registerLiteral=function(e,t){var r=this;this.literals.search(e,function(i){if(null==i){var o="l"+(s=r.oidCounter);r.oidCounter++,n.seq(function(t){r.literals.insert(e,[s,0],function(){t()})},function(t){r.oidLiterals.insert(o,e,function(){t()})})(function(){t(s)})}else{var s=i[0];i[1]=i[1]+1,t(s)}})},Lexicon.prototype.resolveLiteral=function(e,t){this.literals.search(e,function(e){t(null!=e?e[0]:-1)})},Lexicon.prototype.resolveLiteralCost=function(e,t){this.literals.search(e,function(e){t(null!=e?e[1]:-1)})},Lexicon.prototype.parseLiteral=function(e){var t;return-1!=(t=e.lastIndexOf("@"))&&'"'===e[t-1]&&null!=e.substring(t,e.length).match(/^@[a-zA-Z\-]+$/g)?{token:"literal",value:e.substring(1,t-1),lang:e.substring(t+1,e.length)}:-1!=(t=e.lastIndexOf("^^"))&&'"'===e[t-1]&&"<"===e[t+2]&&">"===e[e.length-1]?{token:"literal",value:e.substring(1,t-1),type:e.substring(t+3,e.length-1)}:{token:"literal",value:e.substring(1,e.length-1)}},Lexicon.prototype.parseUri=function(e){return{token:"uri",value:e}},Lexicon.prototype.retrieve=function(e,t){var r=this;e===this.defaultGraphOid?t({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):n.seq(function(t,n){r.oidUris.search("u"+e,function(e){n(null,null!=e?r.parseUri(e):null)})},function(t,n){null==t?r.oidLiterals.search("l"+e,function(e){n(null,null!=e?r.parseLiteral(e):null)}):n(null,t)},function(t,n){null==t?r.oidBlanks.search(""+e,function(t){n(null,null!=t?{token:"blank",value:"_:"+e}:null)}):n(null,t)})(null,function(e,r){t(r)})},Lexicon.prototype.clear=function(e){var t=this;this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,n.seq(function(e){new i(2,function(r){t.uris=r,e()})},function(e){new i(2,function(r){t.literals=r,e()})},function(e){new i(2,function(r){t.knownGraphs=r,e()})},function(e){new i(2,function(r){t.oidUris=r,e()})},function(e){new i(2,function(r){t.oidLiterals=r,e()})},function(e){new i(2,function(r){t.oidBlanks=r,e()})})(function(){null!=e&&e()})},Lexicon.prototype.unregister=function(e,t,r){var i=this;n.seq(function(r){i._unregisterTerm(e.subject.token,t.subject,r)},function(r){i._unregisterTerm(e.predicate.token,t.predicate,r)},function(r){i._unregisterTerm(e.object.token,t.object,r)},function(r){null!=e.graph?i._unregisterTerm(e.graph.token,t.graph,r):r()})(function(){r(!0)})},Lexicon.prototype._unregisterTerm=function(e,t,r){var i=this;if("uri"===e)if(t!=this.defaultGraphOid){var o="u"+t;i.oidUris.search(o,function(e){i.uris.search(e,function(s){var a=s[1];""+s[0]==""+t?0===a?n.seq(function(e){i.oidUris.delete(o,function(){e()})},function(t){i.uris.delete(e,function(){t()})},function(e){i.knownGraphs.delete(t,function(){e()})})(function(){r()}):i.uris.insert(e,[t,a-1],function(){r()}):r()})})}else r();else if("literal"===e){this.oidCounter++;o="l"+t;i.oidLiterals.search(o,function(e){i.literals.search(e,function(s){var a=s[1];""+s[0]==""+t?0===a?n.seq(function(e){i.oidLiterals.delete(o,function(){e()})},function(t){i.literals.delete(e,function(){t()})})(function(){r()}):i.literals.insert(e,[t,a-1],function(){r()}):r()})})}else"blank"===e?i.oidBlanks.delete(""+t,function(){r()}):r()},t.exports={Lexicon:Lexicon}},{"./btree":130,"./utils":147}],134:[function(e,t,r){if(!e("./utils").isWorker()){var n=e("http"),i=e("https"),o=e("url");NetworkTransport={load:function(e,t,r,s){var a=null==s?3:s,u=o.parse(e,!0,!0),l={host:u.host,hostname:u.hostname,method:"GET",path:u.path,headers:{host:u.hostname,Accept:t}},c=null;"http:"===u.protocol?(l.port=u.port||80,c=n):"https:"===u.protocol&&(l.port=u.port||443,c=i);var f=c.request(l,function(e){var n=e.headers,i="";if("2"==(""+e.statusCode)[0])e.on("end",function(){r(null,{headers:n,data:i})}),e.on("data",function(e){i+=e});else if("3"==(""+e.statusCode)[0])if(0==a)r(new Error("Too many redirections"));else{var o=n.Location||n.location;null!=o?NetworkTransport.load(o,t,r,a-1):r(new Error("Redirection without location header"))}else r(new Error("HTTP error: "+e.statusCode))});f.on("error",r),f.end()}},t.exports={NetworkTransport:NetworkTransport}}},{"./utils":147,http:103,https:24,url:124}],135:[function(e,t,r){t.exports=function(){"use strict";function e(t,r,n,i){this.message=t,this.expected=r,this.found=n,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(e,Error),e.buildMessage=function(e,t){var r={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+n(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+n(e)})}return"Expected "+function(e){var t,n,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=(i=e[t],r[i.type](i));if(o.sort(),o.length>0){for(t=1,n=1;t<o.length;t++)o[t-1]!==o[t]&&(o[n]=o[t],n++);o.length=n}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},{SyntaxError:e,parse:function(t,r){r=void 0!==r?r:{};var n,i={},o={DOCUMENT:qh},s=qh,a=Dh("[1] QueryUnit"),u=Dh("[2] Query"),l=function(e,t,r){return{token:"query",kind:"query",prologue:e,units:[t],inlineData:r}},c=Dh("[3] Prologue"),f=function(e,t){return{token:"prologue",base:e,prefixes:t}},p=Dh("[4] BaseDecl"),h="BASE",d=Bh("BASE",!1),y="base",v=Bh("base",!1),g=function(e){Ey(e);var t={token:"base"};return t.value=e,t},b=Dh("[5] PrefixDecl"),m="PREFIX",x=Bh("PREFIX",!1),w="prefix",_=Bh("prefix",!1),k=function(e,t){Ay(e,t);var r={token:"prefix"};return r.prefix=e,r.local=t,r},A=Dh("[6] SelectQuery"),E=function(e,t,r,n){for(var i={named:[],implicit:[]},o=0;o<t.length;o++){var s=t[o];"default"===s.kind?i.implicit.push(s.graph):i.named.push(s.graph)}0===i.named.length&&0===i.implicit.length&&i.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var a={kind:"select",token:"executableunit"};return a.dataset=i,a.projection=e.vars,a.modifier=e.modifier,a.pattern=r,null!=n&&null!=n.limit&&(a.limit=n.limit),null!=n&&null!=n.offset&&(a.offset=n.offset),null!=n&&null!=n.order&&""!=n.order&&(a.order=n.order),null!=n&&null!=n.group&&(a.group=n.group),a},S=Dh("[7] SubSelect"),C=function(e,t,r){var n={kind:"select",token:"subselect"};return n.projection=e.vars,n.modifier=e.modifier,n.pattern=t,null!=r&&null!=r.limit&&(n.limit=r.limit),null!=r&&null!=r.offset&&(n.offset=r.offset),null!=r&&null!=r.order&&""!=r.order&&(n.order=r.order),null!=r&&null!=r.group&&(n.group=r.group),n},T=Dh("[8] SelectClause"),I="SELECT",F=Bh("SELECT",!1),j="select",R=Bh("select",!1),N="DISTINCT",O=Bh("DISTINCT",!1),L="distinct",B=Bh("distinct",!1),P="REDUCED",D=Bh("REDUCED",!1),Q="reduced",M=Bh("reduced",!1),U="(",G=Bh("(",!1),q="AS",z=Bh("AS",!1),V="as",H=Bh("as",!1),J=")",W=Bh(")",!1),X="*",K=Bh("*",!1),$=function(e,t){var r=[];if(3===t.length&&"*"===t[1])return{vars:[{token:"variable",kind:"*"}],modifier:Sy(e)};for(var n=0;n<t.length;n++){var i=t[n];3===i.length?r.push({token:"variable",kind:"var",value:i[1]}):r.push({token:"variable",kind:"aliased",expression:i[3],alias:i[7]})}return{vars:r,modifier:Sy(e)}},Z=Dh("[9] ConstructQuery"),Y="CONSTRUCT",ee=Bh("CONSTRUCT",!1),te="construct",re=Bh("construct",!1),ne=function(e,t,r,n){for(var i={named:[],implicit:[]},o=0;o<t.length;o++){var s=t[o];"default"===s.kind?i.implicit.push(s.graph):i.named.push(s.graph)}0===i.named.length&&0===i.implicit.length&&i.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var a={kind:"construct",token:"executableunit"};return a.dataset=i,a.template=e,a.pattern=r,null!=n&&null!=n.limit&&(a.limit=n.limit),null!=n&&null!=n.offset&&(a.offset=n.offset),null!=n&&null!=n.order&&""!=n.order&&(a.order=n.order),a},ie="WHERE",oe=Bh("WHERE",!1),se="where",ae=Bh("where",!1),ue="{",le=Bh("{",!1),ce="}",fe=Bh("}",!1),pe=function(e,t,r){for(var n={named:[],implicit:[]},i=0;i<e.length;i++){var o=e[i];"default"===o.kind?n.implicit.push(o.graph):n.named.push(o.graph)}0===n.named.length&&0===n.implicit.length&&n.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var s={kind:"construct",token:"executableunit"};return s.dataset=n,s.template=t,s.pattern={token:"basicgraphpattern",triplesContext:t.triplesContext},null!=r&&null!=r.limit&&(s.limit=r.limit),null!=r&&null!=r.offset&&(s.offset=r.offset),null!=r&&null!=r.order&&""!=r.order&&(s.order=r.order),s},he=Dh("[10] DescribeQuery"),de="DESCRIBE",ye=Bh("DESCRIBE",!1),ve=Dh("[11] AskQuery"),ge="ASK",be=Bh("ASK",!1),me="ask",xe=Bh("ask",!1),we=function(e,t){for(var r={named:[],implicit:[]},n=0;n<e.length;n++){var i=e[n];"implicit"===i.kind?r.implicit.push(i.graph):r.named.push(i.graph)}0===r.named.length&&0===r.implicit.length&&r.implicit.push({token:"uri",prefix:null,suffix:null,value:"https://github.com/antoniogarrote/rdfstore-js#default_graph"});var o={kind:"ask",token:"executableunit"};return o.dataset=r,o.pattern=t,o},_e=Dh("[12] DatasetClause"),ke="FROM",Ae=Bh("FROM",!1),Ee="from",Se=Bh("from",!1),Ce=function(e){return e},Te=Dh("[13] DefaultGraphClause"),Ie=function(e){return{graph:e,kind:"default",token:"graphClause"}},Fe=Dh("[14] NamedGraphClause"),je="NAMED",Re=Bh("NAMED",!1),Ne="named",Oe=Bh("named",!1),Le=function(e){return{graph:e,kind:"named",token:"graphCluase"}},Be=Dh("[15] SourceSelector"),Pe=Dh("[16] WhereClause"),De=function(e){return e},Qe=Dh("[17] SolutionModifier"),Me=function(e,t,r){var n={};return null!=r&&(null!=r.limit&&(n.limit=r.limit),null!=r.offset&&(n.offset=r.offset)),null!=e&&(n.group=e),n.order=t,n},Ue=Dh("[18] GroupClause"),Ge="GROUP",qe=Bh("GROUP",!1),ze="group",Ve=Bh("group",!1),He="BY",Je=Bh("BY",!1),We="by",Xe=Bh("by",!1),Ke=function(e){return e},$e=Dh("[19] GroupCondition"),Ze=function(e){return e},Ye=function(e){return e},et=function(e,t){return 0!=t.length?{token:"aliased_expression",expression:e,alias:t[2]}:e},tt=function(e){return e},rt=Dh("[20] HavingClause"),nt="HAVING",it=Bh("HAVING",!1),ot=Dh("[21] HavingCondition"),st=Dh("[22] OrderClause"),at="ORDER",ut=Bh("ORDER",!1),lt="order",ct=Bh("order",!1),ft=function(e){return e},pt=Dh("[23] OrderCondition"),ht="ASC",dt=Bh("ASC",!1),yt="asc",vt=Bh("asc",!1),gt="DESC",bt=Bh("DESC",!1),mt="desc",xt=Bh("desc",!1),wt=function(e,t){return{direction:e.toUpperCase(),expression:t}},_t=function(e){return"var"===e.token&&(e={token:"expression",expressionType:"atomic",primaryexpression:"var",value:e}),{direction:"ASC",expression:e}},kt=Dh("[24] LimitOffsetClauses"),At=function(e){for(var t={},r=0;r<e.length;r++){var n=e[r];null!=n&&null!=n.limit?t.limit=n.limit:null!=n&&null!=n.offset&&(t.offset=n.offset)}return t},Et=Dh("[25] LimitClause"),St="LIMIT",Ct=Bh("LIMIT",!1),Tt="limit",It=Bh("limit",!1),Ft=function(e){return{limit:parseInt(e.value)}},jt=Dh("[26] OffsetClause"),Rt="OFFSET",Nt=Bh("OFFSET",!1),Ot="offset",Lt=Bh("offset",!1),Bt=function(e){return{offset:parseInt(e.value)}},Pt=Dh("[27] BindingsClause"),Dt="BINDINGS",Qt=Bh("BINDINGS",!1),Mt=Dh("[28] BindingValue"),Ut="UNDEF",Gt=Bh("UNDEF",!1),qt=Dh("[28]\tValuesClause\t  ::=\t( 'VALUES' DataBlock )?"),zt="VALUES",Vt=Bh("VALUES",!1),Ht="values",Jt=Bh("values",!1),Wt=function(e){return null!=e?e[1]:null},Xt=Dh("[29] UpdateUnit"),Kt=Dh("[30] Update"),$t=";",Zt=Bh(";",!1),Yt=function(e,t,r){var n={token:"query",kind:"update"};n.prologue=e;var i=[t];return null!=r&&null!=r.length&&null!=r[3]&&null!=r[3].units&&(i=i.concat(r[3].units)),n.units=i,n},er=Dh("[31] Update1"),tr=Dh("[32] Load"),rr="LOAD",nr=Bh("LOAD",!1),ir="load",or=Bh("load",!1),sr="INTO",ar=Bh("INTO",!1),ur="into",lr=Bh("into",!1),cr=function(e,t){var r={kind:"load",token:"executableunit"};return r.sourceGraph=e,null!=t&&(r.destinyGraph=t[2]),r},fr=Dh("[33] Clear"),pr="CLEAR",hr=Bh("CLEAR",!1),dr="clear",yr=Bh("clear",!1),vr="SILENT",gr=Bh("SILENT",!1),br="silent",mr=Bh("silent",!1),xr=function(e){var t={kind:"clear",token:"executableunit"};return t.destinyGraph=e,t},wr=Dh("[34] Drop"),_r="DROP",kr=Bh("DROP",!1),Ar="drop",Er=Bh("drop",!1),Sr=function(e){var t={kind:"drop",token:"executableunit"};return t.destinyGraph=e,t},Cr=Dh("[35] Create"),Tr="CREATE",Ir=Bh("CREATE",!1),Fr="create",jr=Bh("create",!1),Rr=function(e){var t={kind:"create",token:"executableunit"};return t.destinyGraph=e,t},Nr=Dh("[36] InsertData"),Or="INSERT",Lr=Bh("INSERT",!1),Br="insert",Pr=Bh("insert",!1),Dr="DATA",Qr=Bh("DATA",!1),Mr="data",Ur=Bh("data",!1),Gr=function(e){var t={kind:"insertdata",token:"executableunit"};return t.quads=e,t},qr=Dh("[37] DeleteData"),zr="DELETE",Vr=Bh("DELETE",!1),Hr="delete",Jr=Bh("delete",!1),Wr=function(e){var t={kind:"deletedata",token:"executableunit"};return t.quads=e,t},Xr=Dh("[38] DeleteWhere"),Kr=function(e){var t={kind:"modify"};t.pattern=e,t.with=null,t.using=null;var r=[],n=e.patterns[0];n=null==n.triplesContext&&null!=n.patterns?n.patterns[0].triplesContext:n.triplesContext;for(var i=0;i<n.length;i++){var o={},s=n[i];o.subject=s.subject,o.predicate=s.predicate,o.object=s.object,o.graph=s.graph,r.push(o)}return t.delete=r,t},$r=Dh("[39] Modify"),Zr="WITH",Yr=Bh("WITH",!1),en="with",tn=Bh("with",!1),rn=function(e,t,r,n){var i={kind:"modify"};return i.with=""!=e&&null!=e?e[2]:null,3!==t.length||""!==t[2]&&null!=t[2]?3===t.length&&null!=t[0].length&&null!=t[1].length&&null!=t[2].length?(i.delete=t[0],i.insert=t[2]):(i.insert=t,i.delete=null):(i.delete=t[0],i.insert=null),""!=r&&(i.using=r),i.pattern=n,i},nn=Dh("[40] DeleteClause"),on=function(e){return e},sn=Dh("[41] InsertClause"),an=Dh("[42] UsingClause"),un="USING",ln=Bh("USING",!1),cn="using",fn=Bh("using",!1),pn=function(e){return null!=e.length?{kind:"named",uri:e[2]}:{kind:"default",uri:e}},hn=Dh("[43] GraphRef"),dn="GRAPH",yn=Bh("GRAPH",!1),vn="graph",gn=Bh("graph",!1),bn=function(e){return e},mn=Dh("[44] GraphRefAll"),xn="DEFAULT",wn=Bh("DEFAULT",!1),_n="default",kn=Bh("default",!1),An=function(){return"default"},En=function(){return"named"},Sn="ALL",Cn=Bh("ALL",!1),Tn="all",In=Bh("all",!1),Fn=function(){return"all"},jn=Dh("[45] QuadPattern"),Rn=function(e){return e.quadsContext},Nn=Dh("[46] QuadData"),On=Dh("[47] Quads"),Ln=".",Bn=Bh(".",!1),Pn=function(e,t){var r=[];if(null!=e&&null!=e.triplesContext)for(var n=0;n<e.triplesContext.length;n++)(i=e.triplesContext[n]).graph=null,r.push(i);if(t&&t.length>0&&t[0].length>0&&(r=r.concat(t[0][0].quadsContext),null!=t[0][2]&&null!=t[0][2].triplesContext))for(n=0;n<t[0][2].triplesContext.length;n++){var i;(i=t[0][2].triplesContext[n]).graph=null,r.push(i)}return{token:"quads",quadsContext:r}},Dn=Dh("[48] QuadsNotTriples"),Qn=function(e,t){var r=[];if(null!=t)for(var n=0;n<t.triplesContext.length;n++){var i=t.triplesContext[n];i.graph=e,r.push(i)}return{token:"quadsnottriples",quadsContext:r}},Mn=Dh("[49] TriplesTemplate"),Un=function(e,t){var r=e.triplesContext;return null!=t&&"object"==typeof t&&null!=t.length&&null!=t[3]&&null!=t[3].triplesContext&&(r=r.concat(t[3].triplesContext)),{token:"triplestemplate",triplesContext:r}},Gn=Dh("[50] GroupGraphPattern"),qn=function(e){return e},zn=Dh("[51] GroupGraphPatternSub"),Vn=function(e,t){var r=[];null!=e&&e!=[]&&r.push(e);for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)null!=t[n][i]&&null!=t[n][i].token&&r.push(t[n][i]);var o=[],s=[],a=[],u=[];for(n=0;n<r.length;n++)if("triplespattern"!==r[n].token&&"filter"!==r[n].token&&"bind"!==r[n].token){if(0!=s.length||0!=a.length){var l=[];for(i=0;i<s.length;i++)l=l.concat(s[i].triplesContext);l.length>0&&o.push({token:"basicgraphpattern",triplesContext:l}),s=[]}o.push(r[n])}else"triplespattern"===r[n].token?s.push(r[n]):"bind"===r[n].token?u.push(r[n]):a.push(r[n]);if(0!=s.length||0!=a.length){for(l=[],i=0;i<s.length;i++)l=l.concat(s[i].triplesContext);l.length>0&&o.push({token:"basicgraphpattern",triplesContext:l})}return{token:"groupgraphpattern",patterns:o,filters:a,binds:u}},Hn=Dh("[54] TriplesBlock"),Jn=function(e,t){var r=e.triplesContext;return null!=t&&"object"==typeof t&&null!=t&&null!=t.length&&null!=t[2]&&null!=t[2].triplesContext&&(r=r.concat(t[2].triplesContext)),{token:"triplespattern",triplesContext:r}},Wn=Dh("[53] GraphPatternNotTriples"),Xn=Dh("[54] OptionalGraphPattern"),Kn="OPTIONAL",$n=Bh("OPTIONAL",!1),Zn="optional",Yn=Bh("optional",!1),ei=function(e){return{token:"optionalgraphpattern",value:e}},ti=Dh("[55] GraphGraphPattern"),ri=function(e,t){for(var r=0;r<t.patterns.length;r++)for(var n=t.patterns[r],i=0;i<n.triplesContext.length;i++)n.triplesContext[i].graph=e;return t.token="groupgraphpattern",t},ni=Dh("[56] ServiceGraphPattern"),ii="SERVICE",oi=Bh("SERVICE",!1),si=function(e,t){return{token:"servicegraphpattern",status:"todo",value:[e,t]}},ai=Dh("[57] MinusGraphPattern"),ui="MINUS",li=Bh("MINUS",!1),ci="minus",fi=Bh("minus",!1),pi=function(e){return{token:"minusgraphpattern",status:"todo",value:e}},hi=Dh("[58] GroupOrUnionGraphPattern"),di="UNION",yi=Bh("UNION",!1),vi="union",gi=Bh("union",!1),bi=function(e,t){if(0===t.length)return e;for(var r={token:"graphunionpattern",value:[e]},n=0;n<t.length;n++)n==t.length-1?r.value.push(t[n][3]):(r.value.push(t[n][3]),r={token:"graphunionpattern",value:[r]});return r},mi=Dh("[59] Filter"),xi="FILTER",wi=Bh("FILTER",!1),_i="filter",ki=Bh("filter",!1),Ai=function(e){return{token:"filter",value:e}},Ei=Dh("[60] Bind"),Si="BIND",Ci=Bh("BIND",!1),Ti="bind",Ii=Bh("bind",!1),Fi=function(e,t){return{token:"bind",expression:e,as:t}},ji=Dh("[60] Constraint"),Ri=Dh("[61] InlineData"),Ni=function(e){return e},Oi=Dh("[62] DataBlock"),Li=Dh("[63] InlineDataOneVar"),Bi=function(e,t){return{token:"inlineData",values:[{var:e,value:t}]}},Pi=Dh("[64] InlineDataFull"),Di=function(e,t){return{token:"inlineData",values:[],todo:!0}},Qi=Dh("[65] DataBlockValue"),Mi=Dh("[61] FunctionCall"),Ui=function(e,t){var r={token:"expression",expressionType:"irireforfunction"};return r.iriref=e,r.args=t.value,r},Gi=Dh("[62] ArgList"),qi=function(){var e={token:"args",value:[]};return e},zi=",",Vi=Bh(",",!1),Hi=function(e,t,r){for(var n=[],i=0;i<r.length;i++)n.push(r[i][2]);var o={token:"args"};return o.value=[t].concat(n),null!=e&&"DISTINCT"===e.toUpperCase()?o.distinct=!0:o.distinct=!1,o},Ji=Dh("[63] ExpressionList"),Wi=function(e,t){for(var r=[],n=0;n<t.length;n++)r.push(t[n][2]);var i={token:"args"};return i.value=[e].concat(r),i},Xi=Dh("[64] ConstructTemplate"),Ki=function(e){return e},$i=Dh("[65] ConstructTriples"),Zi=function(e,t){var r=e.triplesContext;return null!=t&&"object"==typeof t&&null!=t.length&&null!=t[3]&&null!=t[3].triplesContext&&(r=r.concat(t[3].triplesContext)),{token:"triplestemplate",triplesContext:r}},Yi=Dh("[66] TriplesSameSubject"),eo=function(e,t){var r=t.triplesContext,n=e;if(t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i],s=null;null!=o[1].length&&(o[1]=o[1][0]),n.token&&"triplesnodecollection"===n.token?(s={subject:n.chainSubject[0],predicate:o[0],object:o[1]},r.push(s),r=r.concat(n.triplesContext)):(s={subject:n,predicate:o[0],object:o[1]},r.push(s))}var a={token:"triplessamesubject"};return a.triplesContext=r,a.chainSubject=n,a},to=function(e,t){var r=e.triplesContext,n=e.chainSubject;if(t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i];if(null!=o[1].length&&(o[1]=o[1][0]),"triplesnodecollection"===e.token)for(var s=0;s<n.length;s++){var a=n[s];if(null!=a.triplesContext){var u={subject:a.chainSubject,predicate:o[0],object:o[1]};r.concat(a.triplesContext)}else u={subject:n[s],predicate:o[0],object:o[1]},r.push(u)}else u={subject:n,predicate:o[0],object:o[1]},r.push(u)}var l={token:"triplessamesubject"};return l.triplesContext=r,l.chainSubject=n,l},ro=Dh("[83] PropertyListPathNotEmpty"),no=function(e,t,r){for(var n={token:"propertylist"},i=[],o=[],s=0;s<t.length;s++)null!=t[s].triplesContext?(i=i.concat(t[s].triplesContext),"triplesnodecollection"===t[s].token&&null!=t[s].chainSubject.length?o.push([e,t[s].chainSubject[0]]):o.push([e,t[s].chainSubject])):o.push([e,t[s]]);for(s=0;s<r.length;s++)for(var a=r[s][3],u=a[0],l=a[2]||[],c=0;c<l.length;c++)null!=l[c].triplesContext?(i=i.concat(l[c].triplesContext),o.push([u,l[c].chainSubject])):o.push([u,l[c]]);return n.pairs=o,n.triplesContext=i,n},io=Dh("[67] PropertyListNotEmpty"),oo=function(e,t,r){for(var n={token:"propertylist"},i=[],o=[],s=0;s<t.length;s++)null!=t[s].triplesContext?(i=i.concat(t[s].triplesContext),"triplesnodecollection"===t[s].token&&null!=t[s].chainSubject.length?o.push([e,t[s].chainSubject[0]]):o.push([e,t[s].chainSubject])):o.push([e,t[s]]);for(s=0;s<r.length;s++)for(var a=r[s][3],u=a[0],l=a[2]||[],c=0;c<l.length;c++)null!=l[c].triplesContext?(i=i.concat(l[c].triplesContext),o.push([u,l[c].chainSubject])):o.push([u,l[c]]);return n.pairs=o,n.triplesContext=i,n},so=Dh("[68] PropertyList"),ao=Dh("[86] ObjectListPath"),uo=function(e,t){var r=[];r.push(e);for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)"object"==typeof t[n][i]&&null!=t[n][i].token&&r.push(t[n][i]);return r},lo=Dh("[69] ObjectList"),co=function(e,t){var r=[];r.push(e);for(var n=0;n<t.length;n++)for(var i=0;i<t[n].length;i++)"object"==typeof t[n][i]&&null!=t[n][i].token&&r.push(t[n][i]);return r},fo=Dh("[87] ObjectPath"),po=Dh("[70] Object"),ho=Dh("[71] Verb"),yo="a",vo=Bh("a",!1),go=function(){return{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}},bo=Dh("[72] TriplesSameSubjectPath"),mo=function(e,t){var r=t.triplesContext,n=e;if(t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i],s=null;null!=o[1].length&&(o[1]=o[1][0]),n.token&&"triplesnodecollection"===n.token?("path"===(s={subject:n.chainSubject[0],predicate:o[0],object:o[1]}).predicate.token&&"element"===s.predicate.kind&&(s.predicate=s.predicate.value),r.push(s),r=r.concat(n.triplesContext)):("path"===(s={subject:n,predicate:o[0],object:o[1]}).predicate.token&&"element"===s.predicate.kind&&(s.predicate=s.predicate.value),r.push(s))}var a={token:"triplessamesubject"};return a.triplesContext=r,a.chainSubject=n,a},xo=function(e,t){var r=e.triplesContext,n=e.chainSubject;if(null!=t&&null!=t.pairs)for(var i=0;i<t.pairs.length;i++){var o=t.pairs[i];if(null!=o[1].length&&(o[1]=o[1][0]),"triplesnodecollection"===e.token)for(var s=0;s<n.length;s++){var a=n[s];if(null!=a.triplesContext){var u={subject:a.chainSubject,predicate:o[0],object:o[1]};r.concat(a.triplesContext)}else u={subject:n[s],predicate:o[0],object:o[1]},r.push(u)}else u={subject:n,predicate:o[0],object:o[1]},r.push(u)}var l={token:"triplessamesubject"};return l.triplesContext=r,l.chainSubject=n,l},wo=Dh("[73] PropertyListNotEmptyPath"),_o=function(e,t,r){for(var n={token:"propertylist"},i=[],o=[],s=0;s<t.length;s++)null!=t[s].triplesContext?(i=i.concat(t[s].triplesContext),"triplesnodecollection"===t[s].token&&null!=t[s].chainSubject.length?o.push([e,t[s].chainSubject[0]]):o.push([e,t[s].chainSubject])):o.push([e,t[s]]);for(s=0;s<r.length;s++)for(var a=r[s][3],u=a[0],l=a[1]||[],c=0;c<l.length;c++)null!=l[c].triplesContext?(i=i.concat(l[c].triplesContext),o.push([u,l[c].chainSubject])):o.push([u,l[c]]);return n.pairs=o,n.triplesContext=i,n},ko=Dh("[74] PropertyListPath"),Ao=Dh("[75]"),Eo=function(e){var t={token:"path",kind:"element"};return t.value=e,e},So=Dh("[76] VerbSimple"),Co=Dh("[77] Path"),To=Dh("[78] PathAlternative"),Io="|",Fo=Bh("|",!1),jo=function(e,t){if(null==t||0===t.length)return e;for(var r=[],n=0;n<t.length;n++)r.push(t[1]);var i={token:"path",kind:"alternative"};return i.value=r,i},Ro=Dh("[79] PathSequence"),No="/",Oo=Bh("/",!1),Lo=function(e,t){if(null==t||0===t.length)return e;for(var r=[e],n=0;n<t.length;n++)r.push(t[n][1]);var i={token:"path",kind:"sequence"};return i.value=r,i},Bo=Dh("[88] PathElt"),Po=function(e,t){if(e.token&&"path"!=e.token&&""==t)return e;if(e.token&&e.token!=r&&""!=t){var r={token:"path",kind:"element"};return r.value=e,r.modifier=t,r}return e.modifier=t,e},Do=Dh("[81] PathEltOrInverse"),Qo="^",Mo=Bh("^",!1),Uo=function(e){var t={token:"path",kind:"inversePath"};return t.value=e,t},Go=Dh("[82] PathMod"),qo="?",zo=Bh("?",!1),Vo="+",Ho=Bh("+",!1),Jo=Dh("[83] PathPrimary"),Wo="!",Xo=Bh("!",!1),Ko=Dh("[85] PathOneInPropertySet"),$o=Dh("[86] Integer"),Zo=Dh("[100] TriplesNodePath"),Yo=function(e){for(var t=[],r=[],n=null,i=0;i<e.length;i++){_y++;var o=null;null==e[i].chainSubject&&null==e[i].triplesContext?o=e[i]:(o=e[i].chainSubject,t=t.concat(e[i].triplesContext)),n={subject:{token:"blank",value:"_:"+_y},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:o},0==i&&r.push(n.subject),t.push(n),n=i===e.length-1?{subject:{token:"blank",value:"_:"+_y},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+_y},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(_y+1)}},t.push(n)}return{token:"triplesnodecollection",triplesContext:t,chainSubject:r}},es=Dh("[87] TriplesNode"),ts=function(e){for(var t=[],r=[],n=null,i=0;i<e.length;i++){_y++;var o=null;null==e[i].chainSubject&&null==e[i].triplesContext?o=e[i]:(o=e[i].chainSubject,t=t.concat(o.triplesContext)),n={subject:{token:"blank",value:"_:"+_y},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first"},object:o},0==i&&r.push(n.subject),t.push(n),n=i===e.length-1?{subject:{token:"blank",value:"_:"+_y},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}}:{subject:{token:"blank",value:"_:"+_y},predicate:{token:"uri",prefix:null,suffix:null,value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"},object:{token:"blank",value:"_:"+(_y+1)}},t.push(n)}return{token:"triplesnodecollection",triplesContext:t,chainSubject:r}},rs=Dh("[101] BlankNodePropertyListPath"),ns="[",is=Bh("[",!1),os="]",ss=Bh("]",!1),as=function(e){for(var t={token:"blank",value:"_:"+ ++_y},r=[],n=0;n<e.pairs.length;n++){var i=e.pairs[n],o={};o.subject=t,o.predicate=i[0],null!=i[1].length&&(i[1]=i[1][0]),o.object=i[1],r.push(o)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:e.triplesContext.concat(r),chainSubject:t}},us=Dh("[88] BlankNodePropertyList"),ls=function(e){for(var t={token:"blank",value:"_:"+ ++_y},r=[],n=0;n<e.pairs.length;n++){var i=e.pairs[n],o={};o.subject=t,o.predicate=i[0],null!=i[1].length&&(i[1]=i[1][0]),o.object=i[1],r.push(o)}return{token:"triplesnode",kind:"blanknodepropertylist",triplesContext:e.triplesContext.concat(r),chainSubject:t}},cs=Dh("[103] CollectionPath"),fs=function(e){return e},ps=Dh("[89] Collection"),hs=Dh("[105] GraphNodePath"),ds=function(e){return e[1]},ys=Dh("[90] GraphNode"),vs=Dh("[91] VarOrTerm"),gs=Dh("[92] VarOrIRIref"),bs=Dh("[93] Var"),ms=function(e){var t={token:"var"};return t.value=e,t},xs=Dh("[94] GraphTerm"),ws=Dh("[95] Expression"),_s=Dh("[96] ConditionalOrExpression"),ks="||",As=Bh("||",!1),Es=function(e,t){if(0===t.length)return e;for(var r={token:"expression",expressionType:"conditionalor"},n=[e],i=0;i<t.length;i++)n.push(t[i][3]);return r.operands=n,r},Ss=Dh("[97] ConditionalAndExpression"),Cs="&&",Ts=Bh("&&",!1),Is=function(e,t){if(0===t.length)return e;for(var r={token:"expression",expressionType:"conditionaland"},n=[e],i=0;i<t.length;i++)n.push(t[i][3]);return r.operands=n,r},Fs=Dh("[98] ValueLogical"),js=Dh("[99] RelationalExpression"),Rs="=",Ns=Bh("=",!1),Os="!=",Ls=Bh("!=",!1),Bs="<",Ps=Bh("<",!1),Ds=">",Qs=Bh(">",!1),Ms="<=",Us=Bh("<=",!1),Gs=">=",qs=Bh(">=",!1),zs="I",Vs=Bh("I",!1),Hs="i",Js=Bh("i",!1),Ws="N",Xs=Bh("N",!1),Ks="n",$s=Bh("n",!1),Zs="O",Ys=Bh("O",!1),ea="o",ta=Bh("o",!1),ra="T",na=Bh("T",!1),ia="t",oa=Bh("t",!1),sa=function(e,t){if(0===t.length)return e;if("i"===t[0][1]||"I"===t[0][1]||"n"===t[0][1]||"N"===t[0][1]){var r={};if("i"===t[0][1]||"I"===t[0][1]){var n="=";r.expressionType="conditionalor"}else n="!=",r.expressionType="conditionaland";for(var i=e,o=[],s=0;s<t[0].length;s++)if("args"===t[0][s].token){o=t[0][s].value;break}r.token="expression",r.operands=[];for(var a=0;a<o.length;a++){var u={token:"expression",expressionType:"relationalexpression"};u.operator=n,u.op1=i,u.op2=o[a],r.operands.push(u)}return r}return(r={expressionType:"relationalexpression"}).operator=t[0][1],r.op1=e,r.op2=t[0][3],r.token="expression",r},aa=Dh("[100] NumericExpression"),ua=Dh("[101] AdditiveExpression"),la="-",ca=Bh("-",!1),fa=function(e,t){if(0===t.length)return e;var r={token:"expression",expressionType:"additiveexpression"};r.summand=e,r.summands=[];for(var n=0;n<t.length;n++){var i=t[n],o={};if(4==i.length&&"string"==typeof i[1])o.operator=i[1],o.expression=i[3];else{var s={},a=o[0],u=(o[1][1],o[1][3]);a.value<0?(o.operator="-",a.value=-a.value):o.operator="+",s.token="expression",s.expressionType="multiplicativeexpression",s.operator=a,s.factors=[{operator:null,expression:u}],o.expression=s}r.summands.push(o)}return r},pa=Dh("[102] MultiplicativeExpression"),ha=function(e,t){if(0===t.length)return e;var r={token:"expression",expressionType:"multiplicativeexpression"};r.factor=e,r.factors=[];for(var n=0;n<t.length;n++){var i=t[n],o={};o.operator=i[1],o.expression=i[3],r.factors.push(o)}return r},da=Dh("[103] UnaryExpression"),ya=function(e){var t={token:"expression",expressionType:"unaryexpression",unaryexpression:"!"};return t.expression=e,t},va=function(e){var t={token:"expression",expressionType:"unaryexpression",unaryexpression:"+"};return t.expression=e,t},ga=function(e){var t={token:"expression",expressionType:"unaryexpression",unaryexpression:"-"};return t.expression=e,t},ba=Dh("[104] PrimaryExpression"),ma=function(e){var t={token:"expression",expressionType:"atomic",primaryexpression:"rdfliteral"};return t.value=e,t},xa=function(e){var t={token:"expression",expressionType:"atomic",primaryexpression:"numericliteral"};return t.value=e,t},wa=function(e){var t={token:"expression",expressionType:"atomic",primaryexpression:"booleanliteral"};return t.value=e,t},_a=function(e){var t={token:"expression",expressionType:"atomic",primaryexpression:"var"};return t.value=e,t},ka=Dh("[105] BrackettedExpression"),Aa=function(e){return e},Ea=Dh("[106] BuiltInCall"),Sa="STR",Ca=Bh("STR",!1),Ta="str",Ia=Bh("str",!1),Fa=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"str"};return t.args=[e],t},ja="LANG",Ra=Bh("LANG",!1),Na="lang",Oa=Bh("lang",!1),La=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"lang"};return t.args=[e],t},Ba="LANGMATCHES",Pa=Bh("LANGMATCHES",!1),Da="langmatches",Qa=Bh("langmatches",!1),Ma=function(e,t){var r={token:"expression",expressionType:"builtincall",builtincall:"langmatches"};return r.args=[e,t],r},Ua="DATATYPE",Ga=Bh("DATATYPE",!1),qa="datatype",za=Bh("datatype",!1),Va=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"datatype"};return t.args=[e],t},Ha="BOUND",Ja=Bh("BOUND",!1),Wa="bound",Xa=Bh("bound",!1),Ka=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"bound"};return t.args=[e],t},$a="IRI",Za=Bh("IRI",!1),Ya="iri",eu=Bh("iri",!1),tu=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"iri"};return t.args=[e],t},ru="URI",nu=Bh("URI",!1),iu="uri",ou=Bh("uri",!1),su=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"uri"};return t.args=[e],t},au="BNODE",uu=Bh("BNODE",!1),lu="bnode",cu=Bh("bnode",!1),fu=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"bnode"};return 5===e.length?t.args=[e[2]]:t.args=null,t},pu="COALESCE",hu=Bh("COALESCE",!1),du="coalesce",yu=Bh("coalesce",!1),vu=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"coalesce"};return t.args=e,t},gu="IF",bu=Bh("IF",!1),mu="if",xu=Bh("if",!1),wu=function(e,t,r){var n={token:"expression",expressionType:"builtincall",builtincall:"if"};return n.args=[e,t,r],n},_u="ISLITERAL",ku=Bh("ISLITERAL",!1),Au="isliteral",Eu=Bh("isliteral",!1),Su="isLITERAL",Cu=Bh("isLITERAL",!1),Tu=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"isliteral"};return t.args=[e],t},Iu="ISBLANK",Fu=Bh("ISBLANK",!1),ju="isblank",Ru=Bh("isblank",!1),Nu="isBLANK",Ou=Bh("isBLANK",!1),Lu=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"isblank"};return t.args=[e],t},Bu="SAMETERM",Pu=Bh("SAMETERM",!1),Du="sameterm",Qu=Bh("sameterm",!1),Mu=function(e,t){var r={token:"expression",expressionType:"builtincall",builtincall:"sameterm"};return r.args=[e,t],r},Uu="ISURI",Gu=Bh("ISURI",!1),qu="isuri",zu=Bh("isuri",!1),Vu="isURI",Hu=Bh("isURI",!1),Ju="ISIRI",Wu=Bh("ISIRI",!1),Xu="isiri",Ku=Bh("isiri",!1),$u="isIRI",Zu=Bh("isIRI",!1),Yu=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"isuri"};return t.args=[e],t},el="custom:",tl=Bh("custom:",!1),rl="CUSTOM:",nl=Bh("CUSTOM:",!1),il=/^[a-zA-Z0-9_]/,ol=Ph([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),sl=function(e,t,r){var n={token:"expression",expressionType:"custom"};n.name=e.join("");for(var i=[],o=0;o<t.length;o++)i.push(t[o][1]);return i.push(r),n.args=i,n},al=Dh("[107] RegexExpression"),ul="REGEX",ll=Bh("REGEX",!1),cl="regex",fl=Bh("regex",!1),pl=function(e,t,r){var n={token:"expression",expressionType:"regex"};return n.text=e,n.pattern=t,null!=r&&(n.flags=r[2]),n},hl=Dh("[108] ExistsFunc"),dl="EXISTS",yl=Bh("EXISTS",!1),vl="exists",gl=Bh("exists",!1),bl=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"exists"};return t.args=[e],t},ml=Dh("[109] NotExistsFunc"),xl="NOT",wl=Bh("NOT",!1),_l="not",kl=Bh("not",!1),Al=function(e){var t={token:"expression",expressionType:"builtincall",builtincall:"notexists"};return t.args=[e],t},El=Dh("[110] Aggregate"),Sl="COUNT",Cl=Bh("COUNT",!1),Tl="count",Il=Bh("count",!1),Fl=function(e,t){var r={token:"expression",expressionType:"aggregate",aggregateType:"count"};return r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},jl="GROUP_CONCAT",Rl=Bh("GROUP_CONCAT",!1),Nl="group_concat",Ol=Bh("group_concat",!1),Ll="SEPARATOR",Bl=Bh("SEPARATOR",!1),Pl=function(e,t,r){var n={token:"expression",expressionType:"aggregate",aggregateType:"group_concat"};return n.distinct=""!=e&&null!=e?"DISTINCT":e,n.expression=t,n.separator=r,n},Dl="SUM",Ql=Bh("SUM",!1),Ml="sum",Ul=Bh("sum",!1),Gl=function(e,t){var r={token:"expression",expressionType:"aggregate",aggregateType:"sum"};return r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},ql="MIN",zl=Bh("MIN",!1),Vl="min",Hl=Bh("min",!1),Jl=function(e,t){var r={token:"expression",expressionType:"aggregate",aggregateType:"min"};return r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},Wl="MAX",Xl=Bh("MAX",!1),Kl="max",$l=Bh("max",!1),Zl=function(e,t){var r={token:"expression",expressionType:"aggregate",aggregateType:"max"};return r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},Yl="AVG",ec=Bh("AVG",!1),tc="avg",rc=Bh("avg",!1),nc=function(e,t){var r={token:"expression",expressionType:"aggregate",aggregateType:"avg"};return r.distinct=""!=e&&null!=e?"DISTINCT":e,r.expression=t,r},ic=Dh("[117] IRIrefOrFunction"),oc=function(e,t){var r={token:"expression",expressionType:"irireforfunction"};return r.iriref=e,r.args=null!=t?t.value:t,r},sc=Dh("[112] RDFLiteral"),ac="^^",uc=Bh("^^",!1),lc=function(e,t){return"string"==typeof t&&t.length>0?{token:"literal",value:e.value,lang:t.slice(1),type:null}:null!=t&&"object"==typeof t?(t.shift(),{token:"literal",value:e.value,lang:null,type:t[0]}):{token:"literal",value:e.value,lang:null,type:null}},cc=Dh("[113] NumericLiteral"),fc=Dh("[114] NumericLiteralUnsigned"),pc=Dh("[115] NumericLiteralPositive"),hc=Dh("[116] NumericLiteralNegative"),dc=Dh("[117] BooleanLiteral"),yc="TRUE",vc=Bh("TRUE",!1),gc="true",bc=Bh("true",!1),mc=function(){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!0};return e},xc="FALSE",wc=Bh("FALSE",!1),_c="false",kc=Bh("false",!1),Ac=function(){var e={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#boolean",value:!1};return e},Ec=Dh("[118] String"),Sc=function(e){return{token:"string",value:e}},Cc=Dh("[119] IRIref"),Tc=function(e){return{token:"uri",prefix:null,suffix:null,value:e}},Ic=function(e){return e},Fc=Dh("[120] PrefixedName"),jc=function(e){return{token:"uri",prefix:e[0],suffix:e[1],value:null}},Rc=function(e){return{token:"uri",prefix:e,suffix:"",value:null}},Nc=Dh("[121] BlankNode"),Oc=function(e){return{token:"blank",value:e}},Lc=function(){return{token:"blank",value:"_:"+ ++_y}},Bc=Dh("[122] IRI_REF"),Pc=/^[^<>"{}|\^`\\]/,Dc=Ph(["<",">",'"',"{","}","|","^","`","\\"],!0,!1),Qc=function(e){return e.join("")},Mc=Dh("[123] PNAME_NS"),Uc=":",Gc=Bh(":",!1),qc=Dh("[124] PNAME_LN"),zc=function(e,t){return[e,t]},Vc=Dh("[125] BLANK_NODE_LABEL"),Hc="_:",Jc=Bh("_:",!1),Wc=function(e){return e},Xc=Dh("[126] VAR1"),Kc=function(e){return e},$c=Dh("[127] VAR2"),Zc="$",Yc=Bh("$",!1),ef=Dh("[128] LANGTAG"),tf="@",rf=Bh("@",!1),nf=/^[a-zA-Z]/,of=Ph([["a","z"],["A","Z"]],!1,!1),sf=/^[a-zA-Z0-9]/,af=Ph([["a","z"],["A","Z"],["0","9"]],!1,!1),uf=function(e,t){return 0===t.length?("@"+e.join("")).toLowerCase():("@"+e.join("")+"-"+t[0][1].join("")).toLowerCase()},lf=Dh("[129] INTEGER"),cf=/^[0-9]/,ff=Ph([["0","9"]],!1,!1),pf=function(e){var t={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#integer"};return t.value=wy(e),t},hf=Dh("[130] DECIMAL"),df=function(e,t,r){var n={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};return n.value=wy([e,t,r]),n},yf=function(e,t){var r={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#decimal"};return r.value=wy([e,t]),r},vf=Dh("[131] DOUBLE"),gf=function(e,t,r,n){var i={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};return i.value=wy([e,t,r,n]),i},bf=function(e,t,r){var n={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};return n.value=wy([e,t,r]),n},mf=function(e,t){var r={token:"literal",lang:null,type:"http://www.w3.org/2001/XMLSchema#double"};return r.value=wy([e,t]),r},xf=Dh("[132] INTEGER_POSITIVE"),wf=function(e){return e.value="+"+e.value,e},_f=Dh("[133] DECIMAL_POSITIVE"),kf=function(e){return e.value="+"+e.value,e},Af=Dh("[134] DOUBLE_POSITIVE"),Ef=Dh("[135] INTEGER_NEGATIVE"),Sf=function(e){return e.value="-"+e.value,e},Cf=Dh("[136] DECIMAL_NEGATIVE"),Tf=Dh("[137] DOUBLE_NEGATIVE"),If=Dh("[138] EXPONENT"),Ff=/^[eE]/,jf=Ph(["e","E"],!1,!1),Rf=/^[+\-]/,Nf=Ph(["+","-"],!1,!1),Of=function(e,t,r){return wy([e,t,r])},Lf=Dh("[139] STRING_LITERAL1"),Bf="'",Pf=Bh("'",!1),Df=/^[^'\\\n\r]/,Qf=Ph(["'","\\","\n","\r"],!0,!1),Mf=function(e){return wy(e)},Uf=Dh("[140] STRING_LITERAL2"),Gf='"',qf=Bh('"',!1),zf=/^[^"\\\n\r]/,Vf=Ph(['"',"\\","\n","\r"],!0,!1),Hf=Dh("[141] STRING_LITERAL_LONG1"),Jf="'''",Wf=Bh("'''",!1),Xf=/^[^'\\]/,Kf=Ph(["'","\\"],!0,!1),$f=Dh("[142] STRING_LITERAL_LONG2"),Zf='"""',Yf=Bh('"""',!1),ep=/^[^"\\]/,tp=Ph(['"',"\\"],!0,!1),rp=Dh("[143] ECHAR"),np="\\",ip=Bh("\\",!1),op=/^[tbnrf"']/,sp=Ph(["t","b","n","r","f",'"',"'"],!1,!1),ap=Dh("[144] NIL"),up=function(){return{token:"triplesnodecollection",triplesContext:[],chainSubject:[{token:"uri",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"}]}},lp=Dh("[145] WS"),cp=/^[ ]/,fp=Ph([" "],!1,!1),pp=/^[\t]/,hp=Ph(["\t"],!1,!1),dp=/^[\r]/,yp=Ph(["\r"],!1,!1),vp=/^[\n]/,gp=Ph(["\n"],!1,!1),bp=Dh(" COMMENT"),mp="#",xp=Bh("#",!1),wp=/^[^\n\r]/,_p=Ph(["\n","\r"],!0,!1),kp=Dh("[146] ANON"),Ap=Dh("[147] PN_CHARS_BASE"),Ep=/^[A-Z]/,Sp=Ph([["A","Z"]],!1,!1),Cp=/^[a-z]/,Tp=Ph([["a","z"]],!1,!1),Ip=/^[\xC0-\xD6]/,Fp=Ph([["À","Ö"]],!1,!1),jp=/^[\xD8-\xF6]/,Rp=Ph([["Ø","ö"]],!1,!1),Np=/^[\xF8-\u02FF]/,Op=Ph([["ø","˿"]],!1,!1),Lp=/^[\u0370-\u037D]/,Bp=Ph([["Ͱ","ͽ"]],!1,!1),Pp=/^[\u037F-\u1FFF]/,Dp=Ph([["Ϳ","῿"]],!1,!1),Qp=/^[\u200C-\u200D]/,Mp=Ph([["‌","‍"]],!1,!1),Up=/^[\u2070-\u218F]/,Gp=Ph([["⁰","↏"]],!1,!1),qp=/^[\u2C00-\u2FEF]/,zp=Ph([["Ⰰ","⿯"]],!1,!1),Vp=/^[\u3001-\uD7FF]/,Hp=Ph([["、","퟿"]],!1,!1),Jp=/^[\uF900-\uFDCF]/,Wp=Ph([["豈","﷏"]],!1,!1),Xp=/^[\uFDF0-\uFFFD]/,Kp=Ph([["ﷰ","�"]],!1,!1),$p=/^[\u1000-\uEFFF]/,Zp=Ph([["က",""]],!1,!1),Yp=Dh("[148] PN_CHARS_U"),eh="_",th=Bh("_",!1),rh=Dh("[149] VARNAME"),nh=/^[\xB7]/,ih=Ph(["·"],!1,!1),oh=/^[\u0300-\u036F]/,sh=Ph([["̀","ͯ"]],!1,!1),ah=/^[\u203F-\u2040]/,uh=Ph([["‿","⁀"]],!1,!1),lh=function(e,t){return e+t.join("")},ch=Dh("[150] PN_CHARS"),fh=Dh("[151] PN_PREFIX"),ph=function(e,t){if("."==t[t.length-1])throw new Error("Wrong PN_PREFIX, cannot finish with '.'");return e+t.join("")},hh=Dh("[152] PN_LOCAL"),dh=function(e,t){return e+(t||[]).join("")},yh=Dh("[170] PLX"),vh=Dh("[171] PERCENT"),gh="%",bh=Bh("%",!1),mh=function(e){return e.join("")},xh=Dh("[172] HEX"),wh=/^[A-F]/,_h=Ph([["A","F"]],!1,!1),kh=/^[a-f]/,Ah=Ph([["a","f"]],!1,!1),Eh=Dh("[173] PN_LOCAL_ESC"),Sh="~",Ch=Bh("~",!1),Th="&",Ih=Bh("&",!1),Fh=function(e){return"\\"+e},jh=0,Rh=[{line:1,column:1}],Nh=0,Oh=[],Lh=0;if("startRule"in r){if(!(r.startRule in o))throw new Error("Can't start parsing from rule \""+r.startRule+'".');s=o[r.startRule]}function Bh(e,t){return{type:"literal",text:e,ignoreCase:t}}function Ph(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function Dh(e){return{type:"other",description:e}}function Qh(e){var r,n=Rh[e];if(n)return n;for(r=e-1;!Rh[r];)r--;for(n={line:(n=Rh[r]).line,column:n.column};r<e;)10===t.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return Rh[e]=n,n}function Mh(e,t){var r=Qh(e),n=Qh(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function Uh(e){jh<Nh||(jh>Nh&&(Nh=jh,Oh=[]),Oh.push(e))}function Gh(t,r,n){return new e(e.buildMessage(t,r),t,r,n)}function qh(){return function(){var e;return(e=function(){var e;return Lh++,e=function(){var e,r,n,o;return Lh++,e=jh,(r=zh())!==i?((n=function(){var e,r,n,o,s,a,u,l,c,f;if(Lh++,e=jh,(r=Hh())!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i){for(o=[],s=Jh();s!==i;)o.push(s),s=Jh();if(o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=Xh())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if((l=Kh())!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i&&(f=function(){var e,r,n,o,s,a,u,l,c;if(Lh++,e=jh,t.substr(jh,8)===Dt?(r=Dt,jh+=8):(r=i,0===Lh&&Uh(Qt)),r!==i){for(n=[],o=qd();o!==i;)n.push(o),o=qd();if(n!==i)if(123===t.charCodeAt(jh)?(o=ue,jh++):(o=i,0===Lh&&Uh(le)),o!==i){if(s=[],a=jh,40===t.charCodeAt(jh)?(u=U,jh++):(u=i,0===Lh&&Uh(G)),u!==i){if(l=[],(c=rd())!==i)for(;c!==i;)l.push(c),c=rd();else l=i;l!==i?(41===t.charCodeAt(jh)?(c=J,jh++):(c=i,0===Lh&&Uh(W)),c!==i?a=u=[u,l,c]:(jh=a,a=i)):(jh=a,a=i)}else jh=a,a=i;for(a===i&&(a=py());a!==i;){if(s.push(a),a=jh,40===t.charCodeAt(jh)?(u=U,jh++):(u=i,0===Lh&&Uh(G)),u!==i){if(l=[],(c=rd())!==i)for(;c!==i;)l.push(c),c=rd();else l=i;l!==i?(41===t.charCodeAt(jh)?(c=J,jh++):(c=i,0===Lh&&Uh(W)),c!==i?a=u=[u,l,c]:(jh=a,a=i)):(jh=a,a=i)}else jh=a,a=i;a===i&&(a=py())}s!==i?(125===t.charCodeAt(jh)?(a=ce,jh++):(a=i,0===Lh&&Uh(fe)),a!==i?e=r=[r,n,o,s,a]:(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return e===i&&(e=null),Lh--,e===i&&(r=i,0===Lh&&Uh(Pt)),e}())!==i?(r=E(r,o,a,l),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(A)),e}())===i&&(n=function(){var e,r,n,o,s,a,u,l,c,f,p,h,d,y,v;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,9)===Y?(n=Y,jh+=9):(n=i,0===Lh&&Uh(ee)),n===i&&(t.substr(jh,9)===te?(n=te,jh+=9):(n=i,0===Lh&&Uh(re))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=function(){var e,r,n,o,s,a;if(Lh++,e=jh,123===t.charCodeAt(jh)?(r=ue,jh++):(r=i,0===Lh&&Uh(le)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=function e(){var r,n,o,s,a,u,l;if(Lh++,r=jh,(n=wd())!==i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(46===t.charCodeAt(jh)?(a=Ln,jh++):(a=i,0===Lh&&Uh(Bn)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?((l=e())===i&&(l=null),l!==i?o=s=[s,a,u,l]:(jh=o,o=i)):(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;o===i&&(o=null),o!==i?(n=Zi(n,o),r=n):(jh=r,r=i)}else jh=r,r=i;return Lh--,r===i&&(n=i,0===Lh&&Uh($i)),r}())===i&&(o=null),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?(125===t.charCodeAt(jh)?(a=ce,jh++):(a=i,0===Lh&&Uh(fe)),a!==i?(r=Ki(o),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Xi)),e}())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i){for(u=[],l=Jh();l!==i;)u.push(l),l=Jh();if(u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();if(l!==i)if((c=Xh())!==i){for(f=[],p=hy();p!==i;)f.push(p),p=hy();f!==i&&(p=Kh())!==i?(r=ne(s,u,c,p),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;if(e===i){for(e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,9)===Y?(n=Y,jh+=9):(n=i,0===Lh&&Uh(ee)),n===i&&(t.substr(jh,9)===te?(n=te,jh+=9):(n=i,0===Lh&&Uh(re))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i){for(s=[],a=Jh();a!==i;)s.push(a),a=Jh();if(s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if(t.substr(jh,5)===ie?(u=ie,jh+=5):(u=i,0===Lh&&Uh(oe)),u===i&&(t.substr(jh,5)===se?(u=se,jh+=5):(u=i,0===Lh&&Uh(ae))),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();if(l!==i)if(123===t.charCodeAt(jh)?(c=ue,jh++):(c=i,0===Lh&&Uh(le)),c!==i){for(f=[],p=hy();p!==i;)f.push(p),p=hy();if(f!==i)if((p=fd())===i&&(p=null),p!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();if(h!==i)if(125===t.charCodeAt(jh)?(d=ce,jh++):(d=i,0===Lh&&Uh(fe)),d!==i){for(y=[],v=hy();v!==i;)y.push(v),v=hy();y!==i&&(v=Kh())!==i?(r=pe(s,p,v),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}return Lh--,e===i&&(r=i,0===Lh&&Uh(Z)),e}())===i&&(n=function(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,8)===de?(r=de,jh+=8):(r=i,0===Lh&&Uh(ye)),r!==i){if(n=[],(o=Gd())!==i)for(;o!==i;)n.push(o),o=Gd();else n=i;if(n===i&&(42===t.charCodeAt(jh)?(n=X,jh++):(n=i,0===Lh&&Uh(K))),n!==i){for(o=[],s=Jh();s!==i;)o.push(s),s=Jh();o!==i?((s=Xh())===i&&(s=null),s!==i&&(a=Kh())!==i?e=r=[r,n,o,s,a]:(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(he)),e}())===i&&(n=function(){var e,r,n,o,s,a,u;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,3)===ge?(n=ge,jh+=3):(n=i,0===Lh&&Uh(be)),n===i&&(t.substr(jh,3)===me?(n=me,jh+=3):(n=i,0===Lh&&Uh(xe))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i){for(s=[],a=Jh();a!==i;)s.push(a),a=Jh();if(s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();a!==i&&(u=Xh())!==i?(r=we(s,u),e=r):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ve)),e}()),n!==i&&(o=function(){var e,r,n,o;return Lh++,e=jh,r=jh,t.substr(jh,6)===zt?(n=zt,jh+=6):(n=i,0===Lh&&Uh(Vt)),n===i&&(t.substr(jh,6)===Ht?(n=Ht,jh+=6):(n=i,0===Lh&&Uh(Jt))),n!==i&&(o=vd())!==i?r=n=[n,o]:(jh=r,r=i),r===i&&(r=null),r!==i&&(r=Wt(r)),Lh--,(e=r)===i&&(r=i,0===Lh&&Uh(qt)),e}())!==i?(r=l(r,n,o),e=r):(jh=e,e=i)):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(u)),e}(),Lh--,e===i&&0===Lh&&Uh(a),e}())===i&&(e=function(){var e;return Lh++,e=function e(){var r,n,o,s,a,u,l,c,f;if(Lh++,r=jh,(n=zh())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=function(){var e;return Lh++,(e=function(){var e,r,n,o,s,a,u,l,c;if(Lh++,e=jh,t.substr(jh,4)===rr?(r=rr,jh+=4):(r=i,0===Lh&&Uh(nr)),r===i&&(t.substr(jh,4)===ir?(r=ir,jh+=4):(r=i,0===Lh&&Uh(or))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=iy())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i){if(a=jh,t.substr(jh,4)===sr?(u=sr,jh+=4):(u=i,0===Lh&&Uh(ar)),u===i&&(t.substr(jh,4)===ur?(u=ur,jh+=4):(u=i,0===Lh&&Uh(lr))),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i&&(c=od())!==i?a=u=[u,l,c]:(jh=a,a=i)}else jh=a,a=i;a===i&&(a=null),a!==i?(r=cr(o,a),e=r):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(tr)),e}())===i&&(e=function(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,5)===pr?(r=pr,jh+=5):(r=i,0===Lh&&Uh(hr)),r===i&&(t.substr(jh,5)===dr?(r=dr,jh+=5):(r=i,0===Lh&&Uh(yr))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,6)===vr?(o=vr,jh+=6):(o=i,0===Lh&&Uh(gr)),o===i&&(t.substr(jh,6)===br?(o=br,jh+=6):(o=i,0===Lh&&Uh(mr))),o===i&&(o=null),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i&&(a=sd())!==i?(r=xr(a),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(fr)),e}())===i&&(e=function(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,4)===_r?(r=_r,jh+=4):(r=i,0===Lh&&Uh(kr)),r===i&&(t.substr(jh,4)===Ar?(r=Ar,jh+=4):(r=i,0===Lh&&Uh(Er))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,6)===vr?(o=vr,jh+=6):(o=i,0===Lh&&Uh(gr)),o===i&&(t.substr(jh,6)===br?(o=br,jh+=6):(o=i,0===Lh&&Uh(mr))),o===i&&(o=null),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i&&(a=sd())!==i?(r=Sr(a),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(wr)),e}())===i&&(e=function(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,6)===Tr?(r=Tr,jh+=6):(r=i,0===Lh&&Uh(Ir)),r===i&&(t.substr(jh,6)===Fr?(r=Fr,jh+=6):(r=i,0===Lh&&Uh(jr))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,6)===vr?(o=vr,jh+=6):(o=i,0===Lh&&Uh(gr)),o===i&&(t.substr(jh,6)===br?(o=br,jh+=6):(o=i,0===Lh&&Uh(mr))),o===i&&(o=null),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i&&(a=od())!==i?(r=Rr(a),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Cr)),e}())===i&&(e=function(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,6)===Or?(r=Or,jh+=6):(r=i,0===Lh&&Uh(Lr)),r===i&&(t.substr(jh,6)===Br?(r=Br,jh+=6):(r=i,0===Lh&&Uh(Pr))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,4)===Dr?(o=Dr,jh+=4):(o=i,0===Lh&&Uh(Qr)),o===i&&(t.substr(jh,4)===Mr?(o=Mr,jh+=4):(o=i,0===Lh&&Uh(Ur))),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i&&(a=ud())!==i?(r=Gr(a),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Nr)),e}())===i&&(e=function(){var e,r,n,o,s;if(Lh++,e=jh,t.substr(jh,6)===zr?(r=zr,jh+=6):(r=i,0===Lh&&Uh(Vr)),r===i&&(t.substr(jh,6)===Hr?(r=Hr,jh+=6):(r=i,0===Lh&&Uh(Jr))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i?(t.substr(jh,4)===Dr?(o=Dr,jh+=4):(o=i,0===Lh&&Uh(Qr)),o===i&&(t.substr(jh,4)===Mr?(o=Mr,jh+=4):(o=i,0===Lh&&Uh(Ur))),o!==i&&(s=ud())!==i?(r=Wr(s),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(qr)),e}())===i&&(e=function(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,6)===zr?(r=zr,jh+=6):(r=i,0===Lh&&Uh(Vr)),r===i&&(t.substr(jh,6)===Hr?(r=Hr,jh+=6):(r=i,0===Lh&&Uh(Jr))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,5)===ie?(o=ie,jh+=5):(o=i,0===Lh&&Uh(oe)),o===i&&(t.substr(jh,5)===se?(o=se,jh+=5):(o=i,0===Lh&&Uh(ae))),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i&&(a=pd())!==i?(r=Kr(a),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Xr)),e}())===i&&(e=function(){var e,r,n,o,s,a,u,l,c,f,p,h;if(Lh++,e=jh,r=jh,t.substr(jh,4)===Zr?(n=Zr,jh+=4):(n=i,0===Lh&&Uh(Yr)),n===i&&(t.substr(jh,4)===en?(n=en,jh+=4):(n=i,0===Lh&&Uh(tn))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i&&(s=iy())!==i?r=n=[n,o,s]:(jh=r,r=i)}else jh=r,r=i;if(r===i&&(r=null),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i){if(o=jh,(s=function(){var e,r,n;return Lh++,e=jh,t.substr(jh,6)===zr?(r=zr,jh+=6):(r=i,0===Lh&&Uh(Vr)),r===i&&(t.substr(jh,6)===Hr?(r=Hr,jh+=6):(r=i,0===Lh&&Uh(Jr))),r!==i&&(n=ad())!==i?(r=on(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(nn)),e}())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();a!==i?((u=nd())===i&&(u=null),u!==i?o=s=[s,a,u]:(jh=o,o=i)):(jh=o,o=i)}else jh=o,o=i;if(o===i&&(o=nd()),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i){for(a=[],u=id();u!==i;)a.push(u),u=id();if(a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(t.substr(jh,5)===ie?(l=ie,jh+=5):(l=i,0===Lh&&Uh(oe)),l===i&&(t.substr(jh,5)===se?(l=se,jh+=5):(l=i,0===Lh&&Uh(ae))),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if((f=pd())!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(r=rn(r,o,a,f),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh($r)),e}()),Lh--,e===i&&0===Lh&&Uh(er),e}())!==i){for(a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(59===t.charCodeAt(jh)?(l=$t,jh++):(l=i,0===Lh&&Uh(Zt)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?((f=e())===i&&(f=null),f!==i?a=u=[u,l,c,f]:(jh=a,a=i)):(jh=a,a=i)}else jh=a,a=i;else jh=a,a=i;a===i&&(a=null),a!==i?(n=Yt(n,s,a),r=n):(jh=r,r=i)}else jh=r,r=i;else jh=r,r=i}else jh=r,r=i;return Lh--,r===i&&(n=i,0===Lh&&Uh(Kt)),r}(),Lh--,e===i&&0===Lh&&Uh(Xt),e}()),e}()}function zh(){var e,r,n,o,s;if(Lh++,e=jh,(r=function(){var e,r,n,o,s;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,4)===h?(n=h,jh+=4):(n=i,0===Lh&&Uh(d)),n===i&&(t.substr(jh,4)===y?(n=y,jh+=4):(n=i,0===Lh&&Uh(v))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i&&(s=oy())!==i?(r=g(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(p)),e}())===i&&(r=null),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i){for(o=[],s=Vh();s!==i;)o.push(s),s=Vh();o!==i?e=r=f(r,o):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(c)),e}function Vh(){var e,r,n,o,s,a,u;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,6)===m?(n=m,jh+=6):(n=i,0===Lh&&Uh(x)),n===i&&(t.substr(jh,6)===w?(n=w,jh+=6):(n=i,0===Lh&&Uh(_))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=sy())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();a!==i&&(u=oy())!==i?e=r=k(s,u):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(b)),e}function Hh(){var e,r,n,o,s,a,u,l,c,f,p,h,d,y,v,g,b,m,x,w;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,6)===I?(n=I,jh+=6):(n=i,0===Lh&&Uh(F)),n===i&&(t.substr(jh,6)===j?(n=j,jh+=6):(n=i,0===Lh&&Uh(R))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if(t.substr(jh,8)===N?(s=N,jh+=8):(s=i,0===Lh&&Uh(O)),s===i&&(t.substr(jh,8)===L?(s=L,jh+=8):(s=i,0===Lh&&Uh(B))),s===i&&(t.substr(jh,7)===P?(s=P,jh+=7):(s=i,0===Lh&&Uh(D)),s===i&&(t.substr(jh,7)===Q?(s=Q,jh+=7):(s=i,0===Lh&&Uh(M)))),s===i&&(s=null),s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i){for(u=[],l=jh,c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if((f=qd())!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?l=c=[c,f,p]:(jh=l,l=i)}else jh=l,l=i;else jh=l,l=i;if(l===i){for(l=jh,c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(40===t.charCodeAt(jh)?(f=U,jh++):(f=i,0===Lh&&Uh(G)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();if(p!==i)if((h=zd())!==i){for(d=[],y=hy();y!==i;)d.push(y),y=hy();if(d!==i)if(t.substr(jh,2)===q?(y=q,jh+=2):(y=i,0===Lh&&Uh(z)),y===i&&(t.substr(jh,2)===V?(y=V,jh+=2):(y=i,0===Lh&&Uh(H))),y!==i){for(v=[],g=hy();g!==i;)v.push(g),g=hy();if(v!==i)if((g=qd())!==i){for(b=[],m=hy();m!==i;)b.push(m),m=hy();if(b!==i)if(41===t.charCodeAt(jh)?(m=J,jh++):(m=i,0===Lh&&Uh(W)),m!==i){for(x=[],w=hy();w!==i;)x.push(w),w=hy();x!==i?l=c=[c,f,p,h,d,y,v,g,b,m,x]:(jh=l,l=i)}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}if(l!==i)for(;l!==i;){for(u.push(l),l=jh,c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if((f=qd())!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?l=c=[c,f,p]:(jh=l,l=i)}else jh=l,l=i;else jh=l,l=i;if(l===i){for(l=jh,c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(40===t.charCodeAt(jh)?(f=U,jh++):(f=i,0===Lh&&Uh(G)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();if(p!==i)if((h=zd())!==i){for(d=[],y=hy();y!==i;)d.push(y),y=hy();if(d!==i)if(t.substr(jh,2)===q?(y=q,jh+=2):(y=i,0===Lh&&Uh(z)),y===i&&(t.substr(jh,2)===V?(y=V,jh+=2):(y=i,0===Lh&&Uh(H))),y!==i){for(v=[],g=hy();g!==i;)v.push(g),g=hy();if(v!==i)if((g=qd())!==i){for(b=[],m=hy();m!==i;)b.push(m),m=hy();if(b!==i)if(41===t.charCodeAt(jh)?(m=J,jh++):(m=i,0===Lh&&Uh(W)),m!==i){for(x=[],w=hy();w!==i;)x.push(w),w=hy();x!==i?l=c=[c,f,p,h,d,y,v,g,b,m,x]:(jh=l,l=i)}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i;else jh=l,l=i}}else u=i;if(u===i){for(u=jh,l=[],c=hy();c!==i;)l.push(c),c=hy();if(l!==i)if(42===t.charCodeAt(jh)?(c=X,jh++):(c=i,0===Lh&&Uh(K)),c!==i){for(f=[],p=hy();p!==i;)f.push(p),p=hy();f!==i?u=l=[l,c,f]:(jh=u,u=i)}else jh=u,u=i;else jh=u,u=i}u!==i?e=r=$(s,u):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(T)),e}function Jh(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,4)===ke?(r=ke,jh+=4):(r=i,0===Lh&&Uh(Ae)),r===i&&(t.substr(jh,4)===Ee?(r=Ee,jh+=4):(r=i,0===Lh&&Uh(Se))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=function(){var e,t,r;for(Lh++,e=jh,t=[],r=hy();r!==i;)t.push(r),r=hy();return t!==i&&(r=Wh())!==i?(t=Ie(r),e=t):(jh=e,e=i),Lh--,e===i&&(t=i,0===Lh&&Uh(Te)),e}())===i&&(o=function(){var e,r,n,o;if(Lh++,e=jh,t.substr(jh,5)===je?(r=je,jh+=5):(r=i,0===Lh&&Uh(Re)),r===i&&(t.substr(jh,5)===Ne?(r=Ne,jh+=5):(r=i,0===Lh&&Uh(Oe))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=Wh())!==i?(r=Le(o),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Fe)),e}()),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?e=r=Ce(o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(_e)),e}function Wh(){var e;return Lh++,e=iy(),Lh--,e===i&&0===Lh&&Uh(Be),e}function Xh(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,5)===ie?(r=ie,jh+=5):(r=i,0===Lh&&Uh(oe)),r===i&&(t.substr(jh,5)===se?(r=se,jh+=5):(r=i,0===Lh&&Uh(ae))),r===i&&(r=null),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=pd())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?e=r=De(o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Pe)),e}function Kh(){var e,r,n,o,s;return Lh++,e=jh,(r=function(){var e,r,n,o,s,a,u;if(Lh++,e=jh,t.substr(jh,5)===Ge?(r=Ge,jh+=5):(r=i,0===Lh&&Uh(qe)),r===i&&(t.substr(jh,5)===ze?(r=ze,jh+=5):(r=i,0===Lh&&Uh(Ve))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,2)===He?(o=He,jh+=2):(o=i,0===Lh&&Uh(Je)),o===i&&(t.substr(jh,2)===We?(o=We,jh+=2):(o=i,0===Lh&&Uh(Xe))),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i){if(a=[],(u=$h())!==i)for(;u!==i;)a.push(u),u=$h();else a=i;a!==i?(r=Ke(a),e=r):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Ue)),e}())===i&&(r=null),r!==i?((n=function(){var e,r,n,o;if(Lh++,e=jh,t.substr(jh,6)===nt?(r=nt,jh+=6):(r=i,0===Lh&&Uh(it)),r!==i){if(n=[],(o=Zh())!==i)for(;o!==i;)n.push(o),o=Zh();else n=i;n!==i?e=r=[r,n]:(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(rt)),e}())===i&&(n=null),n!==i?((o=function(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,t.substr(jh,5)===at?(r=at,jh+=5):(r=i,0===Lh&&Uh(ut)),r===i&&(t.substr(jh,5)===lt?(r=lt,jh+=5):(r=i,0===Lh&&Uh(ct))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,2)===He?(o=He,jh+=2):(o=i,0===Lh&&Uh(Je)),o===i&&(t.substr(jh,2)===We?(o=We,jh+=2):(o=i,0===Lh&&Uh(Xe))),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i){if(a=[],(u=Yh())!==i)for(;u!==i;)a.push(u),u=Yh();else a=i;if(a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(r=ft(a),e=r):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(st)),e}())===i&&(o=null),o!==i?((s=function(){var e,t,r,n;return Lh++,e=jh,t=jh,(r=ed())!==i?((n=td())===i&&(n=null),n!==i?t=r=[r,n]:(jh=t,t=i)):(jh=t,t=i),t===i&&(t=jh,(r=td())!==i?((n=ed())===i&&(n=null),n!==i?t=r=[r,n]:(jh=t,t=i)):(jh=t,t=i)),t!==i&&(t=At(t)),Lh--,(e=t)===i&&(t=i,0===Lh&&Uh(kt)),e}())===i&&(s=null),s!==i?e=r=Me(r,o,s):(jh=e,e=i)):(jh=e,e=i)):(jh=e,e=i)):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Qe)),e}function $h(){var e,r,n,o,s,a,u,l,c,f,p;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=Zd())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?e=r=Ze(n):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;if(e===i){for(e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=bd())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?e=r=Ye(n):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;if(e===i){for(e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(40===t.charCodeAt(jh)?(n=U,jh++):(n=i,0===Lh&&Uh(G)),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=zd())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i){if(u=jh,t.substr(jh,2)===q?(l=q,jh+=2):(l=i,0===Lh&&Uh(z)),l===i&&(t.substr(jh,2)===V?(l=V,jh+=2):(l=i,0===Lh&&Uh(H))),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i&&(f=qd())!==i?u=l=[l,c,f]:(jh=u,u=i)}else jh=u,u=i;if(u===i&&(u=null),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();if(l!==i)if(41===t.charCodeAt(jh)?(c=J,jh++):(c=i,0===Lh&&Uh(W)),c!==i){for(f=[],p=hy();p!==i;)f.push(p),p=hy();f!==i?e=r=et(s,u):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;if(e===i){for(e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=qd())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?e=r=tt(n):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}}}return Lh--,e===i&&(r=i,0===Lh&&Uh($e)),e}function Zh(){var e;return Lh++,e=yd(),Lh--,e===i&&0===Lh&&Uh(ot),e}function Yh(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,3)===ht?(r=ht,jh+=3):(r=i,0===Lh&&Uh(dt)),r===i&&(t.substr(jh,3)===yt?(r=yt,jh+=3):(r=i,0===Lh&&Uh(vt)),r===i&&(t.substr(jh,4)===gt?(r=gt,jh+=4):(r=i,0===Lh&&Uh(bt)),r===i&&(t.substr(jh,4)===mt?(r=mt,jh+=4):(r=i,0===Lh&&Uh(xt))))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=$d())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?e=r=wt(r,o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i)if(e=jh,(r=yd())===i&&(r=qd()),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i?e=r=_t(r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(pt)),e}function ed(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,5)===St?(r=St,jh+=5):(r=i,0===Lh&&Uh(Ct)),r===i&&(t.substr(jh,5)===Tt?(r=Tt,jh+=5):(r=i,0===Lh&&Uh(It))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=ay())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?e=r=Ft(o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Et)),e}function td(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,6)===Rt?(r=Rt,jh+=6):(r=i,0===Lh&&Uh(Nt)),r===i&&(t.substr(jh,6)===Ot?(r=Ot,jh+=6):(r=i,0===Lh&&Uh(Lt))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=ay())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?e=r=Bt(o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(jt)),e}function rd(){var e;return Lh++,(e=iy())===i&&(e=Yd())===i&&(e=ey())===i&&(e=ry())===i&&(t.substr(jh,5)===Ut?(e=Ut,jh+=5):(e=i,0===Lh&&Uh(Gt))),Lh--,e===i&&0===Lh&&Uh(Mt),e}function nd(){var e,r,n;return Lh++,e=jh,t.substr(jh,6)===Or?(r=Or,jh+=6):(r=i,0===Lh&&Uh(Lr)),r===i&&(t.substr(jh,6)===Br?(r=Br,jh+=6):(r=i,0===Lh&&Uh(Pr))),r!==i&&(n=ad())!==i?e=r=on(n):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(sn)),e}function id(){var e,r,n,o,s,a,u,l;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,5)===un?(n=un,jh+=5):(n=i,0===Lh&&Uh(ln)),n===i&&(t.substr(jh,5)===cn?(n=cn,jh+=5):(n=i,0===Lh&&Uh(fn))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i){if((s=iy())===i)if(s=jh,t.substr(jh,5)===je?(a=je,jh+=5):(a=i,0===Lh&&Uh(Re)),a===i&&(t.substr(jh,5)===Ne?(a=Ne,jh+=5):(a=i,0===Lh&&Uh(Oe))),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=iy())!==i?s=a=[a,u,l]:(jh=s,s=i)}else jh=s,s=i;s!==i?e=r=pn(s):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(an)),e}function od(){var e,r,n,o;if(Lh++,e=jh,t.substr(jh,5)===dn?(r=dn,jh+=5):(r=i,0===Lh&&Uh(yn)),r===i&&(t.substr(jh,5)===vn?(r=vn,jh+=5):(r=i,0===Lh&&Uh(gn))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=iy())!==i?e=r=bn(o):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(hn)),e}function sd(){var e,r;return Lh++,e=jh,(r=od())!==i&&(r=De(r)),(e=r)===i&&(e=jh,t.substr(jh,7)===xn?(r=xn,jh+=7):(r=i,0===Lh&&Uh(wn)),r===i&&(t.substr(jh,7)===_n?(r=_n,jh+=7):(r=i,0===Lh&&Uh(kn))),r!==i&&(r=An()),(e=r)===i&&(e=jh,t.substr(jh,5)===je?(r=je,jh+=5):(r=i,0===Lh&&Uh(Re)),r===i&&(t.substr(jh,5)===Ne?(r=Ne,jh+=5):(r=i,0===Lh&&Uh(Oe))),r!==i&&(r=En()),(e=r)===i&&(e=jh,t.substr(jh,3)===Sn?(r=Sn,jh+=3):(r=i,0===Lh&&Uh(Cn)),r===i&&(t.substr(jh,3)===Tn?(r=Tn,jh+=3):(r=i,0===Lh&&Uh(In))),r!==i&&(r=Fn()),e=r))),Lh--,e===i&&(r=i,0===Lh&&Uh(mn)),e}function ad(){var e,r,n,o,s,a,u,l,c;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(123===t.charCodeAt(jh)?(n=ue,jh++):(n=i,0===Lh&&Uh(le)),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=ld())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if(125===t.charCodeAt(jh)?(u=ce,jh++):(u=i,0===Lh&&Uh(fe)),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i?e=r=Rn(s):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(jn)),e}function ud(){var e,r,n,o,s,a,u,l,c;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(123===t.charCodeAt(jh)?(n=ue,jh++):(n=i,0===Lh&&Uh(le)),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=ld())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if(125===t.charCodeAt(jh)?(u=ce,jh++):(u=i,0===Lh&&Uh(fe)),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i?e=r=Rn(s):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Nn)),e}function ld(){var e,r,n,o,s,a,u;if(Lh++,e=jh,(r=fd())===i&&(r=null),r!==i){for(n=[],o=jh,(s=cd())!==i?(46===t.charCodeAt(jh)?(a=Ln,jh++):(a=i,0===Lh&&Uh(Bn)),a===i&&(a=null),a!==i?((u=fd())===i&&(u=null),u!==i?o=s=[s,a,u]:(jh=o,o=i)):(jh=o,o=i)):(jh=o,o=i);o!==i;)n.push(o),o=jh,(s=cd())!==i?(46===t.charCodeAt(jh)?(a=Ln,jh++):(a=i,0===Lh&&Uh(Bn)),a===i&&(a=null),a!==i?((u=fd())===i&&(u=null),u!==i?o=s=[s,a,u]:(jh=o,o=i)):(jh=o,o=i)):(jh=o,o=i);n!==i?e=r=Pn(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(On)),e}function cd(){var e,r,n,o,s,a,u,l,c,f,p,h,d;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,5)===dn?(n=dn,jh+=5):(n=i,0===Lh&&Uh(yn)),n===i&&(t.substr(jh,5)===vn?(n=vn,jh+=5):(n=i,0===Lh&&Uh(gn))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=Gd())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if(123===t.charCodeAt(jh)?(u=ue,jh++):(u=i,0===Lh&&Uh(le)),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();if(l!==i)if((c=fd())===i&&(c=null),c!==i){for(f=[],p=hy();p!==i;)f.push(p),p=hy();if(f!==i)if(125===t.charCodeAt(jh)?(p=ce,jh++):(p=i,0===Lh&&Uh(fe)),p!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i?e=r=Qn(s,c):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Dn)),e}function fd(){var e,r,n,o,s,a,u;if(Lh++,e=jh,(r=wd())!==i){for(n=jh,o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if(46===t.charCodeAt(jh)?(s=Ln,jh++):(s=i,0===Lh&&Uh(Bn)),s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();a!==i?((u=fd())===i&&(u=null),u!==i?n=o=[o,s,a,u]:(jh=n,n=i)):(jh=n,n=i)}else jh=n,n=i;else jh=n,n=i;n===i&&(n=null),n!==i?e=r=Un(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Mn)),e}function pd(){var e,r,n,o,s,a;if(Lh++,e=jh,123===t.charCodeAt(jh)?(r=ue,jh++):(r=i,0===Lh&&Uh(le)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=function(){var e,t,r,n;return Lh++,e=jh,(t=Hh())!==i&&(r=Xh())!==i&&(n=Kh())!==i?e=t=C(t,r,n):(jh=e,e=i),Lh--,e===i&&(t=i,0===Lh&&Uh(S)),e}())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?(125===t.charCodeAt(jh)?(a=ce,jh++):(a=i,0===Lh&&Uh(fe)),a!==i?e=r=qn(o):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i)if(e=jh,123===t.charCodeAt(jh)?(r=ue,jh++):(r=i,0===Lh&&Uh(le)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=function(){var e,r,n,o,s,a,u,l,c,f;if(Lh++,e=jh,(r=hd())===i&&(r=null),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i){if(o=[],s=jh,(a=dd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(46===t.charCodeAt(jh)?(l=Ln,jh++):(l=i,0===Lh&&Uh(Bn)),l===i&&(l=null),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?((f=hd())===i&&(f=null),f!==i?s=a=[a,u,l,c,f]:(jh=s,s=i)):(jh=s,s=i)}else jh=s,s=i;else jh=s,s=i}else jh=s,s=i;for(;s!==i;)if(o.push(s),s=jh,(a=dd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(46===t.charCodeAt(jh)?(l=Ln,jh++):(l=i,0===Lh&&Uh(Bn)),l===i&&(l=null),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?((f=hd())===i&&(f=null),f!==i?s=a=[a,u,l,c,f]:(jh=s,s=i)):(jh=s,s=i)}else jh=s,s=i;else jh=s,s=i}else jh=s,s=i;o!==i?(r=Vn(r,o),e=r):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(zn)),e}())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?(125===t.charCodeAt(jh)?(a=ce,jh++):(a=i,0===Lh&&Uh(fe)),a!==i?e=r=qn(o):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Gn)),e}function hd(){var e,r,n,o,s,a;if(Lh++,e=jh,(r=function(){var e,r,n,o,s;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=Ud())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i&&(s=Td())!==i?(r=mo(n,s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;if(e===i){for(e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=Pd())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i&&(s=function(){var e;return Lh++,(e=function(){var e,r,n,o,s,a,u,l,c,f,p,h,d;if(Lh++,e=jh,(r=Id())===i&&(r=Fd()),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=kd())!==i){for(s=[],a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(59===t.charCodeAt(jh)?(l=$t,jh++):(l=i,0===Lh&&Uh(Zt)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i){if(f=jh,(p=Id())===i&&(p=Fd()),p!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i&&(d=Ad())!==i?f=p=[p,h,d]:(jh=f,f=i)}else jh=f,f=i;f===i&&(f=null),f!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i}else jh=a,a=i;else jh=a,a=i;for(;a!==i;){for(s.push(a),a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(59===t.charCodeAt(jh)?(l=$t,jh++):(l=i,0===Lh&&Uh(Zt)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i){if(f=jh,(p=Id())===i&&(p=Fd()),p!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i&&(d=Ad())!==i?f=p=[p,h,d]:(jh=f,f=i)}else jh=f,f=i;f===i&&(f=null),f!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i}else jh=a,a=i;else jh=a,a=i}s!==i?(r=no(r,o,s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ro)),e}())===i&&(e=null),Lh--,e===i&&0===Lh&&Uh(ko),e}())!==i?(r=xo(n,s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}return Lh--,e===i&&(r=i,0===Lh&&Uh(bo)),e}())!==i){for(n=jh,o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?(46===t.charCodeAt(jh)?(s=Ln,jh++):(s=i,0===Lh&&Uh(Bn)),s!==i?((a=hd())===i&&(a=null),a!==i?n=o=[o,s,a]:(jh=n,n=i)):(jh=n,n=i)):(jh=n,n=i),n===i&&(n=null),n!==i?e=r=Jn(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Hn)),e}function dd(){var e;return Lh++,(e=function(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,(r=pd())!==i){for(n=[],o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,5)===di?(a=di,jh+=5):(a=i,0===Lh&&Uh(yi)),a===i&&(t.substr(jh,5)===vi?(a=vi,jh+=5):(a=i,0===Lh&&Uh(gi))),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=pd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;for(;o!==i;){for(n.push(o),o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,5)===di?(a=di,jh+=5):(a=i,0===Lh&&Uh(yi)),a===i&&(t.substr(jh,5)===vi?(a=vi,jh+=5):(a=i,0===Lh&&Uh(gi))),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=pd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i}n!==i?(r=bi(r,n),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(hi)),e}())===i&&(e=function(){var e,r,n,o,s;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,8)===Kn?(n=Kn,jh+=8):(n=i,0===Lh&&Uh($n)),n===i&&(t.substr(jh,8)===Zn?(n=Zn,jh+=8):(n=i,0===Lh&&Uh(Yn))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i&&(s=pd())!==i?(r=ei(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Xn)),e}())===i&&(e=function(){var e,r,n,o;if(Lh++,e=jh,t.substr(jh,5)===ui?(r=ui,jh+=5):(r=i,0===Lh&&Uh(li)),r===i&&(t.substr(jh,5)===ci?(r=ci,jh+=5):(r=i,0===Lh&&Uh(fi))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=pd())!==i?(r=pi(o),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ai)),e}())===i&&(e=function(){var e,r,n,o,s,a,u;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,5)===dn?(n=dn,jh+=5):(n=i,0===Lh&&Uh(yn)),n===i&&(t.substr(jh,5)===vn?(n=vn,jh+=5):(n=i,0===Lh&&Uh(gn))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=Gd())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();a!==i&&(u=pd())!==i?(r=ri(s,u),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ti)),e}())===i&&(e=function(){var e,r,n,o;return Lh++,e=jh,t.substr(jh,7)===ii?(r=ii,jh+=7):(r=i,0===Lh&&Uh(oi)),r!==i&&(n=Gd())!==i&&(o=pd())!==i?(r=si(n,o),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(ni)),e}())===i&&(e=function(){var e,r,n,o,s;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,6)===xi?(n=xi,jh+=6):(n=i,0===Lh&&Uh(wi)),n===i&&(t.substr(jh,6)===_i?(n=_i,jh+=6):(n=i,0===Lh&&Uh(ki))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i&&(s=yd())!==i?(r=Ai(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(mi)),e}())===i&&(e=function(){var e,r,n,o,s,a,u,l,c,f,p,h,d;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,4)===Si?(n=Si,jh+=4):(n=i,0===Lh&&Uh(Ci)),n===i&&(t.substr(jh,4)===Ti?(n=Ti,jh+=4):(n=i,0===Lh&&Uh(Ii))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if(40===t.charCodeAt(jh)?(s=U,jh++):(s=i,0===Lh&&Uh(G)),s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if((u=zd())!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();if(l!==i)if(t.substr(jh,2)===V?(c=V,jh+=2):(c=i,0===Lh&&Uh(H)),c===i&&(t.substr(jh,2)===q?(c=q,jh+=2):(c=i,0===Lh&&Uh(z))),c!==i){for(f=[],p=hy();p!==i;)f.push(p),p=hy();if(f!==i)if((p=qd())!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i?(41===t.charCodeAt(jh)?(d=J,jh++):(d=i,0===Lh&&Uh(W)),d!==i?(r=Fi(u,p),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Ei)),e}())===i&&(e=function(){var e,r,n,o,s;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(t.substr(jh,6)===zt?(n=zt,jh+=6):(n=i,0===Lh&&Uh(Vt)),n===i&&(t.substr(jh,6)===Ht?(n=Ht,jh+=6):(n=i,0===Lh&&Uh(Jt))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i&&(s=vd())!==i?(r=Ni(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Ri)),e}()),Lh--,e===i&&0===Lh&&Uh(Wn),e}function yd(){var e;return Lh++,(e=$d())===i&&(e=Zd())===i&&(e=bd()),Lh--,e===i&&0===Lh&&Uh(ji),e}function vd(){var e;return Lh++,(e=function(){var e,r,n,o,s,a,u,l;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=qd())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if(123===t.charCodeAt(jh)?(s=ue,jh++):(s=i,0===Lh&&Uh(le)),s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i){for(u=[],l=gd();l!==i;)u.push(l),l=gd();u!==i?(125===t.charCodeAt(jh)?(l=ce,jh++):(l=i,0===Lh&&Uh(fe)),l!==i?(r=Bi(n,u),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Li)),e}())===i&&(e=function(){var e,r,n,o,s,a,u,l,c,f,p,h,d,y,v,g;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i){if((n=py())===i)if(n=jh,40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i){for(a=[],u=qd();u!==i;)a.push(u),u=qd();if(a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?n=o=[o,s,a,u,l]:(jh=n,n=i)):(jh=n,n=i)}else jh=n,n=i}else jh=n,n=i}else jh=n,n=i;if(n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if(123===t.charCodeAt(jh)?(s=ue,jh++):(s=i,0===Lh&&Uh(le)),s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i){for(u=[],l=jh,c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(40===t.charCodeAt(jh)?(f=U,jh++):(f=i,0===Lh&&Uh(G)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();if(p!==i){for(h=[],d=gd();d!==i;)h.push(d),d=gd();if(h!==i){for(d=[],y=hy();y!==i;)d.push(y),y=hy();if(d!==i)if(41===t.charCodeAt(jh)?(y=J,jh++):(y=i,0===Lh&&Uh(W)),y!==i){for(v=[],g=hy();g!==i;)v.push(g),g=hy();v!==i?l=c=[c,f,p,h,d,y,v]:(jh=l,l=i)}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i}else jh=l,l=i}else jh=l,l=i;else jh=l,l=i;for(l===i&&(l=py());l!==i;){for(u.push(l),l=jh,c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(40===t.charCodeAt(jh)?(f=U,jh++):(f=i,0===Lh&&Uh(G)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();if(p!==i){for(h=[],d=gd();d!==i;)h.push(d),d=gd();if(h!==i){for(d=[],y=hy();y!==i;)d.push(y),y=hy();if(d!==i)if(41===t.charCodeAt(jh)?(y=J,jh++):(y=i,0===Lh&&Uh(W)),y!==i){for(v=[],g=hy();g!==i;)v.push(g),g=hy();v!==i?l=c=[c,f,p,h,d,y,v]:(jh=l,l=i)}else jh=l,l=i;else jh=l,l=i}else jh=l,l=i}else jh=l,l=i}else jh=l,l=i;else jh=l,l=i;l===i&&(l=py())}if(u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i?(125===t.charCodeAt(jh)?(c=ce,jh++):(c=i,0===Lh&&Uh(fe)),c!==i?(r=Di(n,u),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Pi)),e}()),Lh--,e===i&&0===Lh&&Uh(Oi),e}function gd(){var e,r,n,o,s;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=oy())===i&&(n=Yd())===i&&(n=ey())===i&&(n=ry())===i&&(t.substr(jh,5)===Ut?(n=Ut,jh+=5):(n=i,0===Lh&&Uh(Gt))),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?e=r=tt(n):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Qi)),e}function bd(){var e,t,r,n;if(Lh++,e=jh,(t=iy())!==i){for(r=[],n=hy();n!==i;)r.push(n),n=hy();r!==i&&(n=md())!==i?e=t=Ui(t,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(t=i,0===Lh&&Uh(Mi)),e}function md(){var e,r,n,o,s,a,u,l,c,f,p,h;if(Lh++,e=jh,(r=py())!==i&&(r=qi()),(e=r)===i)if(e=jh,40===t.charCodeAt(jh)?(r=U,jh++):(r=i,0===Lh&&Uh(G)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,8)===N?(o=N,jh+=8):(o=i,0===Lh&&Uh(O)),o===i&&(t.substr(jh,8)===L?(o=L,jh+=8):(o=i,0===Lh&&Uh(B))),o===i&&(o=null),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i){if(l=[],c=jh,44===t.charCodeAt(jh)?(f=zi,jh++):(f=i,0===Lh&&Uh(Vi)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i&&(h=zd())!==i?c=f=[f,p,h]:(jh=c,c=i)}else jh=c,c=i;for(;c!==i;)if(l.push(c),c=jh,44===t.charCodeAt(jh)?(f=zi,jh++):(f=i,0===Lh&&Uh(Vi)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i&&(h=zd())!==i?c=f=[f,p,h]:(jh=c,c=i)}else jh=c,c=i;l!==i?(41===t.charCodeAt(jh)?(c=J,jh++):(c=i,0===Lh&&Uh(W)),c!==i?e=r=Hi(o,a,l):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Gi)),e}function xd(){var e,r,n,o,s,a,u,l,c,f;if(Lh++,e=jh,(r=py())!==i&&(r=qi()),(e=r)===i)if(e=jh,40===t.charCodeAt(jh)?(r=U,jh++):(r=i,0===Lh&&Uh(G)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=iy())===i&&(o=zd()),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i){if(a=[],u=jh,44===t.charCodeAt(jh)?(l=zi,jh++):(l=i,0===Lh&&Uh(Vi)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?((f=iy())===i&&(f=zd()),f!==i?u=l=[l,c,f]:(jh=u,u=i)):(jh=u,u=i)}else jh=u,u=i;for(;u!==i;)if(a.push(u),u=jh,44===t.charCodeAt(jh)?(l=zi,jh++):(l=i,0===Lh&&Uh(Vi)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?((f=iy())===i&&(f=zd()),f!==i?u=l=[l,c,f]:(jh=u,u=i)):(jh=u,u=i)}else jh=u,u=i;a!==i?(41===t.charCodeAt(jh)?(u=J,jh++):(u=i,0===Lh&&Uh(W)),u!==i?e=r=Wi(o,a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Ji)),e}function wd(){var e,t,r,n,o;for(Lh++,e=jh,t=[],r=hy();r!==i;)t.push(r),r=hy();if(t!==i)if((r=Ud())!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=_d())!==i?e=t=eo(r,o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;if(e===i){for(e=jh,t=[],r=hy();r!==i;)t.push(r),r=hy();if(t!==i)if((r=Dd())!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=function(){var e;return Lh++,(e=_d())===i&&(e=null),Lh--,e===i&&0===Lh&&Uh(so),e}())!==i?e=t=to(r,o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}return Lh--,e===i&&(t=i,0===Lh&&Uh(Yi)),e}function _d(){var e,r,n,o,s,a,u,l,c,f,p,h,d;if(Lh++,e=jh,(r=Cd())!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=Ad())!==i){for(s=[],a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(59===t.charCodeAt(jh)?(l=$t,jh++):(l=i,0===Lh&&Uh(Zt)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i){if(f=jh,(p=Cd())!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i&&(d=Ad())!==i?f=p=[p,h,d]:(jh=f,f=i)}else jh=f,f=i;f===i&&(f=null),f!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i}else jh=a,a=i;else jh=a,a=i;for(;a!==i;){for(s.push(a),a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(59===t.charCodeAt(jh)?(l=$t,jh++):(l=i,0===Lh&&Uh(Zt)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i){if(f=jh,(p=Cd())!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i&&(d=Ad())!==i?f=p=[p,h,d]:(jh=f,f=i)}else jh=f,f=i;f===i&&(f=null),f!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i}else jh=a,a=i;else jh=a,a=i}s!==i?e=r=oo(r,o,s):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(io)),e}function kd(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,(r=Ed())!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i){if(o=[],s=jh,44===t.charCodeAt(jh)?(a=zi,jh++):(a=i,0===Lh&&Uh(Vi)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Ed())!==i?s=a=[a,u,l]:(jh=s,s=i)}else jh=s,s=i;for(;s!==i;)if(o.push(s),s=jh,44===t.charCodeAt(jh)?(a=zi,jh++):(a=i,0===Lh&&Uh(Vi)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Ed())!==i?s=a=[a,u,l]:(jh=s,s=i)}else jh=s,s=i;o!==i?e=r=uo(r,o):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ao)),e}function Ad(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,(r=Sd())!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i){if(o=[],s=jh,44===t.charCodeAt(jh)?(a=zi,jh++):(a=i,0===Lh&&Uh(Vi)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Sd())!==i?s=a=[a,u,l]:(jh=s,s=i)}else jh=s,s=i;for(;s!==i;)if(o.push(s),s=jh,44===t.charCodeAt(jh)?(a=zi,jh++):(a=i,0===Lh&&Uh(Vi)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Sd())!==i?s=a=[a,u,l]:(jh=s,s=i)}else jh=s,s=i;o!==i?e=r=co(r,o):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(lo)),e}function Ed(){var e;return Lh++,e=Qd(),Lh--,e===i&&0===Lh&&Uh(fo),e}function Sd(){var e;return Lh++,e=Md(),Lh--,e===i&&0===Lh&&Uh(po),e}function Cd(){var e,r;return Lh++,(e=Gd())===i&&(e=jh,97===t.charCodeAt(jh)?(r=yo,jh++):(r=i,0===Lh&&Uh(vo)),r!==i&&(r=go()),e=r),Lh--,e===i&&(r=i,0===Lh&&Uh(ho)),e}function Td(){var e,r,n,o,s,a,u,l,c,f,p,h;if(Lh++,e=jh,(r=Id())===i&&(r=Fd()),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=kd())!==i){for(s=[],a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(59===t.charCodeAt(jh)?(l=$t,jh++):(l=i,0===Lh&&Uh(Zt)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?(f=jh,(p=Id())===i&&(p=Fd()),p!==i&&(h=Ad())!==i?f=p=[p,h]:(jh=f,f=i),f===i&&(f=null),f!==i?a=u=[u,l,c,f]:(jh=a,a=i)):(jh=a,a=i)}else jh=a,a=i;else jh=a,a=i;for(;a!==i;){for(s.push(a),a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(59===t.charCodeAt(jh)?(l=$t,jh++):(l=i,0===Lh&&Uh(Zt)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?(f=jh,(p=Id())===i&&(p=Fd()),p!==i&&(h=Ad())!==i?f=p=[p,h]:(jh=f,f=i),f===i&&(f=null),f!==i?a=u=[u,l,c,f]:(jh=a,a=i)):(jh=a,a=i)}else jh=a,a=i;else jh=a,a=i}s!==i?e=r=_o(r,o,s):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(wo)),e}function Id(){var e,t;return Lh++,e=jh,(t=jd())!==i&&(t=Eo(t)),Lh--,(e=t)===i&&(t=i,0===Lh&&Uh(Ao)),e}function Fd(){var e;return Lh++,e=qd(),Lh--,e===i&&0===Lh&&Uh(So),e}function jd(){var e;return Lh++,e=function(){var e,r,n,o,s,a;if(Lh++,e=jh,(r=Rd())!==i){for(n=[],o=jh,124===t.charCodeAt(jh)?(s=Io,jh++):(s=i,0===Lh&&Uh(Fo)),s!==i&&(a=Rd())!==i?o=s=[s,a]:(jh=o,o=i);o!==i;)n.push(o),o=jh,124===t.charCodeAt(jh)?(s=Io,jh++):(s=i,0===Lh&&Uh(Fo)),s!==i&&(a=Rd())!==i?o=s=[s,a]:(jh=o,o=i);n!==i?(r=jo(r,n),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(To)),e}(),Lh--,e===i&&0===Lh&&Uh(Co),e}function Rd(){var e,r,n,o,s,a;if(Lh++,e=jh,(r=Od())!==i){for(n=[],o=jh,47===t.charCodeAt(jh)?(s=No,jh++):(s=i,0===Lh&&Uh(Oo)),s!==i&&(a=Od())!==i?o=s=[s,a]:(jh=o,o=i);o!==i;)n.push(o),o=jh,47===t.charCodeAt(jh)?(s=No,jh++):(s=i,0===Lh&&Uh(Oo)),s!==i&&(a=Od())!==i?o=s=[s,a]:(jh=o,o=i);n!==i?e=r=Lo(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Ro)),e}function Nd(){var e,r,n;return Lh++,e=jh,(r=function(){var e,r,n,o;return Lh++,(e=iy())===i&&(e=jh,97===t.charCodeAt(jh)?(r=yo,jh++):(r=i,0===Lh&&Uh(vo)),r!==i&&(r=go()),(e=r)===i&&(e=jh,33===t.charCodeAt(jh)?(r=Wo,jh++):(r=i,0===Lh&&Uh(Xo)),r!==i&&(n=function(){var e,r,n,o,s,a,u,l;if((e=Ld())===i)if(e=jh,40===t.charCodeAt(jh)?(r=U,jh++):(r=i,0===Lh&&Uh(G)),r!==i){if(n=jh,(o=Ld())!==i){for(s=[],a=jh,124===t.charCodeAt(jh)?(u=Io,jh++):(u=i,0===Lh&&Uh(Fo)),u!==i&&(l=Ld())!==i?a=u=[u,l]:(jh=a,a=i);a!==i;)s.push(a),a=jh,124===t.charCodeAt(jh)?(u=Io,jh++):(u=i,0===Lh&&Uh(Fo)),u!==i&&(l=Ld())!==i?a=u=[u,l]:(jh=a,a=i);s!==i?n=o=[o,s]:(jh=n,n=i)}else jh=n,n=i;n===i&&(n=null),n!==i?(41===t.charCodeAt(jh)?(o=J,jh++):(o=i,0===Lh&&Uh(W)),o!==i?e=r=[r,n,o]:(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return e}())!==i?e=r=[r,n]:(jh=e,e=i),e===i&&(e=jh,40===t.charCodeAt(jh)?(r=U,jh++):(r=i,0===Lh&&Uh(G)),r!==i&&(n=jd())!==i?(41===t.charCodeAt(jh)?(o=J,jh++):(o=i,0===Lh&&Uh(W)),o!==i?(r=qn(n),e=r):(jh=e,e=i)):(jh=e,e=i)))),Lh--,e===i&&(r=i,0===Lh&&Uh(Jo)),e}())!==i?((n=function(){var e,r,n,o,s,a,u,l,c;return Lh++,42===t.charCodeAt(jh)?(e=X,jh++):(e=i,0===Lh&&Uh(K)),e===i&&(63===t.charCodeAt(jh)?(e=qo,jh++):(e=i,0===Lh&&Uh(zo)),e===i&&(43===t.charCodeAt(jh)?(e=Vo,jh++):(e=i,0===Lh&&Uh(Ho)),e===i&&(e=jh,123===t.charCodeAt(jh)?(r=ue,jh++):(r=i,0===Lh&&Uh(le)),r!==i?(n=jh,(o=Bd())!==i?(s=jh,44===t.charCodeAt(jh)?(a=zi,jh++):(a=i,0===Lh&&Uh(Vi)),a!==i?(125===t.charCodeAt(jh)?(u=ce,jh++):(u=i,0===Lh&&Uh(fe)),u===i&&(u=jh,(l=Bd())!==i?(125===t.charCodeAt(jh)?(c=ce,jh++):(c=i,0===Lh&&Uh(fe)),c!==i?u=l=[l,c]:(jh=u,u=i)):(jh=u,u=i)),u!==i?s=a=[a,u]:(jh=s,s=i)):(jh=s,s=i),s===i&&(125===t.charCodeAt(jh)?(s=ce,jh++):(s=i,0===Lh&&Uh(fe))),s!==i?n=o=[o,s]:(jh=n,n=i)):(jh=n,n=i),n===i&&(n=jh,44===t.charCodeAt(jh)?(o=zi,jh++):(o=i,0===Lh&&Uh(Vi)),o!==i&&(s=Bd())!==i?(125===t.charCodeAt(jh)?(a=ce,jh++):(a=i,0===Lh&&Uh(fe)),a!==i?n=o=[o,s,a]:(jh=n,n=i)):(jh=n,n=i)),n!==i?e=r=[r,n]:(jh=e,e=i)):(jh=e,e=i)))),Lh--,e===i&&(r=i,0===Lh&&Uh(Go)),e}())===i&&(n=null),n!==i?e=r=Po(r,n):(jh=e,e=i)):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Bo)),e}function Od(){var e,r,n;return Lh++,(e=Nd())===i&&(e=jh,94===t.charCodeAt(jh)?(r=Qo,jh++):(r=i,0===Lh&&Uh(Mo)),r!==i&&(n=Nd())!==i?e=r=Uo(n):(jh=e,e=i)),Lh--,e===i&&(r=i,0===Lh&&Uh(Do)),e}function Ld(){var e,r,n;return Lh++,(e=iy())===i&&(97===t.charCodeAt(jh)?(e=yo,jh++):(e=i,0===Lh&&Uh(vo)),e===i&&(e=jh,94===t.charCodeAt(jh)?(r=Qo,jh++):(r=i,0===Lh&&Uh(Mo)),r!==i?((n=iy())===i&&(97===t.charCodeAt(jh)?(n=yo,jh++):(n=i,0===Lh&&Uh(vo))),n!==i?e=r=[r,n]:(jh=e,e=i)):(jh=e,e=i))),Lh--,e===i&&(r=i,0===Lh&&Uh(Ko)),e}function Bd(){var e;return Lh++,e=ay(),Lh--,e===i&&0===Lh&&Uh($o),e}function Pd(){var e,r;return Lh++,e=jh,(r=function(){var e,r,n,o,s,a,u,l,c;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(40===t.charCodeAt(jh)?(n=U,jh++):(n=i,0===Lh&&Uh(G)),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i){if(s=[],(a=Qd())!==i)for(;a!==i;)s.push(a),a=Qd();else s=i;if(s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if(41===t.charCodeAt(jh)?(u=J,jh++):(u=i,0===Lh&&Uh(W)),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i?(r=fs(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(cs)),e}())!==i&&(r=Yo(r)),(e=r)===i&&(e=function(){var e,r,n,o,s,a,u,l;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(91===t.charCodeAt(jh)?(n=ns,jh++):(n=i,0===Lh&&Uh(is)),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=Td())!==i)if(93===t.charCodeAt(jh)?(a=os,jh++):(a=i,0===Lh&&Uh(ss)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(r=as(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(rs)),e}()),Lh--,e===i&&(r=i,0===Lh&&Uh(Zo)),e}function Dd(){var e,r;return Lh++,e=jh,(r=function(){var e,r,n,o,s,a,u,l,c;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(40===t.charCodeAt(jh)?(n=U,jh++):(n=i,0===Lh&&Uh(G)),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i){if(s=[],(a=Md())!==i)for(;a!==i;)s.push(a),a=Md();else s=i;if(s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if(41===t.charCodeAt(jh)?(u=J,jh++):(u=i,0===Lh&&Uh(W)),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i?(r=fs(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ps)),e}())!==i&&(r=ts(r)),(e=r)===i&&(e=function(){var e,r,n,o,s,a,u,l,c;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if(91===t.charCodeAt(jh)?(n=ns,jh++):(n=i,0===Lh&&Uh(is)),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if((s=_d())!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if(93===t.charCodeAt(jh)?(u=os,jh++):(u=i,0===Lh&&Uh(ss)),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i?(r=ls(s),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(us)),e}()),Lh--,e===i&&(r=i,0===Lh&&Uh(es)),e}function Qd(){var e,t,r,n,o,s;for(Lh++,e=jh,t=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=Ud())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?t=r=[r,n,o]:(jh=t,t=i)}else jh=t,t=i;else jh=t,t=i;if(t===i){for(t=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=Pd())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?t=r=[r,n,o]:(jh=t,t=i)}else jh=t,t=i;else jh=t,t=i}return t!==i&&(t=ds(t)),Lh--,(e=t)===i&&(t=i,0===Lh&&Uh(hs)),e}function Md(){var e,t,r,n,o,s;for(Lh++,e=jh,t=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=Ud())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?t=r=[r,n,o]:(jh=t,t=i)}else jh=t,t=i;else jh=t,t=i;if(t===i){for(t=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=Dd())!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?t=r=[r,n,o]:(jh=t,t=i)}else jh=t,t=i;else jh=t,t=i}return t!==i&&(t=ds(t)),Lh--,(e=t)===i&&(t=i,0===Lh&&Uh(ys)),e}function Ud(){var e;return Lh++,(e=qd())===i&&(e=function(){var e;return Lh++,(e=iy())===i&&(e=Yd())===i&&(e=ey())===i&&(e=ry())===i&&(e=function(){var e,r;return Lh++,e=jh,(r=function(){var e,r,n;return Lh++,e=jh,t.substr(jh,2)===Hc?(r=Hc,jh+=2):(r=i,0===Lh&&Uh(Jc)),r!==i&&(n=by())!==i?(r=Wc(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Vc)),e}())!==i&&(r=Oc(r)),(e=r)===i&&(e=jh,(r=function(){var e,r,n,o;if(Lh++,e=jh,91===t.charCodeAt(jh)?(r=ns,jh++):(r=i,0===Lh&&Uh(is)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i?(93===t.charCodeAt(jh)?(o=os,jh++):(o=i,0===Lh&&Uh(ss)),o!==i?e=r=[r,n,o]:(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(kp)),e}())!==i&&(r=Lc()),e=r),Lh--,e===i&&(r=i,0===Lh&&Uh(Nc)),e}())===i&&(e=py()),Lh--,e===i&&0===Lh&&Uh(xs),e}()),Lh--,e===i&&0===Lh&&Uh(vs),e}function Gd(){var e;return Lh++,(e=qd())===i&&(e=iy()),Lh--,e===i&&0===Lh&&Uh(gs),e}function qd(){var e,r,n,o,s;for(Lh++,e=jh,r=[],n=hy();n!==i;)r.push(n),n=hy();if(r!==i)if((n=function(){var e,r,n;return Lh++,e=jh,63===t.charCodeAt(jh)?(r=qo,jh++):(r=i,0===Lh&&Uh(zo)),r!==i&&(n=vy())!==i?(r=Kc(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Xc)),e}())===i&&(n=function(){var e,r,n;return Lh++,e=jh,36===t.charCodeAt(jh)?(r=Zc,jh++):(r=i,0===Lh&&Uh(Yc)),r!==i&&(n=vy())!==i?(r=Kc(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh($c)),e}()),n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();o!==i?e=r=ms(n):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(bs)),e}function zd(){var e;return Lh++,e=function(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,(r=Vd())!==i){for(n=[],o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===ks?(a=ks,jh+=2):(a=i,0===Lh&&Uh(As)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Vd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;for(;o!==i;){for(n.push(o),o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===ks?(a=ks,jh+=2):(a=i,0===Lh&&Uh(As)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Vd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i}n!==i?(r=Es(r,n),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(_s)),e}(),Lh--,e===i&&0===Lh&&Uh(ws),e}function Vd(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,(r=Hd())!==i){for(n=[],o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Cs?(a=Cs,jh+=2):(a=i,0===Lh&&Uh(Ts)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Hd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;for(;o!==i;){for(n.push(o),o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Cs?(a=Cs,jh+=2):(a=i,0===Lh&&Uh(Ts)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Hd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i}n!==i?e=r=Is(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Ss)),e}function Hd(){var e;return Lh++,e=function(){var e,r,n,o,s,a,u,l,c,f,p,h,d;if(Lh++,e=jh,(r=Jd())!==i){for(n=[],o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(61===t.charCodeAt(jh)?(a=Rs,jh++):(a=i,0===Lh&&Uh(Ns)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Os?(a=Os,jh+=2):(a=i,0===Lh&&Uh(Ls)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(60===t.charCodeAt(jh)?(a=Bs,jh++):(a=i,0===Lh&&Uh(Ps)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(62===t.charCodeAt(jh)?(a=Ds,jh++):(a=i,0===Lh&&Uh(Qs)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Ms?(a=Ms,jh+=2):(a=i,0===Lh&&Uh(Us)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Gs?(a=Gs,jh+=2):(a=i,0===Lh&&Uh(qs)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(73===t.charCodeAt(jh)?(a=zs,jh++):(a=i,0===Lh&&Uh(Vs)),a===i&&(105===t.charCodeAt(jh)?(a=Hs,jh++):(a=i,0===Lh&&Uh(Js))),a!==i)if(78===t.charCodeAt(jh)?(u=Ws,jh++):(u=i,0===Lh&&Uh(Xs)),u===i&&(110===t.charCodeAt(jh)?(u=Ks,jh++):(u=i,0===Lh&&Uh($s))),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i&&(c=xd())!==i?o=s=[s,a,u,l,c]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(78===t.charCodeAt(jh)?(a=Ws,jh++):(a=i,0===Lh&&Uh(Xs)),a===i&&(110===t.charCodeAt(jh)?(a=Ks,jh++):(a=i,0===Lh&&Uh($s))),a!==i)if(79===t.charCodeAt(jh)?(u=Zs,jh++):(u=i,0===Lh&&Uh(Ys)),u===i&&(111===t.charCodeAt(jh)?(u=ea,jh++):(u=i,0===Lh&&Uh(ta))),u!==i)if(84===t.charCodeAt(jh)?(l=ra,jh++):(l=i,0===Lh&&Uh(na)),l===i&&(116===t.charCodeAt(jh)?(l=ia,jh++):(l=i,0===Lh&&Uh(oa))),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(73===t.charCodeAt(jh)?(f=zs,jh++):(f=i,0===Lh&&Uh(Vs)),f===i&&(105===t.charCodeAt(jh)?(f=Hs,jh++):(f=i,0===Lh&&Uh(Js))),f!==i)if(78===t.charCodeAt(jh)?(p=Ws,jh++):(p=i,0===Lh&&Uh(Xs)),p===i&&(110===t.charCodeAt(jh)?(p=Ks,jh++):(p=i,0===Lh&&Uh($s))),p!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i&&(d=xd())!==i?o=s=[s,a,u,l,c,f,p,h,d]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;else jh=o,o=i}else jh=o,o=i;else jh=o,o=i;else jh=o,o=i;else jh=o,o=i}}}}}}}for(;o!==i;){for(n.push(o),o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(61===t.charCodeAt(jh)?(a=Rs,jh++):(a=i,0===Lh&&Uh(Ns)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Os?(a=Os,jh+=2):(a=i,0===Lh&&Uh(Ls)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(60===t.charCodeAt(jh)?(a=Bs,jh++):(a=i,0===Lh&&Uh(Ps)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(62===t.charCodeAt(jh)?(a=Ds,jh++):(a=i,0===Lh&&Uh(Qs)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Ms?(a=Ms,jh+=2):(a=i,0===Lh&&Uh(Us)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,2)===Gs?(a=Gs,jh+=2):(a=i,0===Lh&&Uh(qs)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Jd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(73===t.charCodeAt(jh)?(a=zs,jh++):(a=i,0===Lh&&Uh(Vs)),a===i&&(105===t.charCodeAt(jh)?(a=Hs,jh++):(a=i,0===Lh&&Uh(Js))),a!==i)if(78===t.charCodeAt(jh)?(u=Ws,jh++):(u=i,0===Lh&&Uh(Xs)),u===i&&(110===t.charCodeAt(jh)?(u=Ks,jh++):(u=i,0===Lh&&Uh($s))),u!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i&&(c=xd())!==i?o=s=[s,a,u,l,c]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(78===t.charCodeAt(jh)?(a=Ws,jh++):(a=i,0===Lh&&Uh(Xs)),a===i&&(110===t.charCodeAt(jh)?(a=Ks,jh++):(a=i,0===Lh&&Uh($s))),a!==i)if(79===t.charCodeAt(jh)?(u=Zs,jh++):(u=i,0===Lh&&Uh(Ys)),u===i&&(111===t.charCodeAt(jh)?(u=ea,jh++):(u=i,0===Lh&&Uh(ta))),u!==i)if(84===t.charCodeAt(jh)?(l=ra,jh++):(l=i,0===Lh&&Uh(na)),l===i&&(116===t.charCodeAt(jh)?(l=ia,jh++):(l=i,0===Lh&&Uh(oa))),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(73===t.charCodeAt(jh)?(f=zs,jh++):(f=i,0===Lh&&Uh(Vs)),f===i&&(105===t.charCodeAt(jh)?(f=Hs,jh++):(f=i,0===Lh&&Uh(Js))),f!==i)if(78===t.charCodeAt(jh)?(p=Ws,jh++):(p=i,0===Lh&&Uh(Xs)),p===i&&(110===t.charCodeAt(jh)?(p=Ks,jh++):(p=i,0===Lh&&Uh($s))),p!==i){for(h=[],d=hy();d!==i;)h.push(d),d=hy();h!==i&&(d=xd())!==i?o=s=[s,a,u,l,c,f,p,h,d]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;else jh=o,o=i}else jh=o,o=i;else jh=o,o=i;else jh=o,o=i;else jh=o,o=i}}}}}}}}n!==i?(r=sa(r,n),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(js)),e}(),Lh--,e===i&&0===Lh&&Uh(Fs),e}function Jd(){var e;return Lh++,e=function(){var e,r,n,o,s,a,u,l,c,f;if(Lh++,e=jh,(r=Wd())!==i){for(n=[],o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(43===t.charCodeAt(jh)?(a=Vo,jh++):(a=i,0===Lh&&Uh(Ho)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Wd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(45===t.charCodeAt(jh)?(a=la,jh++):(a=i,0===Lh&&Uh(ca)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Wd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i)if(o=jh,(s=ty())===i&&(s=ty()),s!==i){for(a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(42===t.charCodeAt(jh)?(l=X,jh++):(l=i,0===Lh&&Uh(K)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i&&(f=Xd())!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i;else jh=a,a=i;if(a===i){for(a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(47===t.charCodeAt(jh)?(l=No,jh++):(l=i,0===Lh&&Uh(Oo)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i&&(f=Xd())!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i;else jh=a,a=i}a===i&&(a=null),a!==i?o=s=[s,a]:(jh=o,o=i)}else jh=o,o=i}for(;o!==i;){for(n.push(o),o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(43===t.charCodeAt(jh)?(a=Vo,jh++):(a=i,0===Lh&&Uh(Ho)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Wd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(45===t.charCodeAt(jh)?(a=la,jh++):(a=i,0===Lh&&Uh(ca)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Wd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i)if(o=jh,(s=ty())===i&&(s=ty()),s!==i){for(a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(42===t.charCodeAt(jh)?(l=X,jh++):(l=i,0===Lh&&Uh(K)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i&&(f=Xd())!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i;else jh=a,a=i;if(a===i){for(a=jh,u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(47===t.charCodeAt(jh)?(l=No,jh++):(l=i,0===Lh&&Uh(Oo)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i&&(f=Xd())!==i?a=u=[u,l,c,f]:(jh=a,a=i)}else jh=a,a=i;else jh=a,a=i}a===i&&(a=null),a!==i?o=s=[s,a]:(jh=o,o=i)}else jh=o,o=i}}n!==i?(r=fa(r,n),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ua)),e}(),Lh--,e===i&&0===Lh&&Uh(aa),e}function Wd(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,(r=Xd())!==i){for(n=[],o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(42===t.charCodeAt(jh)?(a=X,jh++):(a=i,0===Lh&&Uh(K)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Xd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(47===t.charCodeAt(jh)?(a=No,jh++):(a=i,0===Lh&&Uh(Oo)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Xd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i}for(;o!==i;){for(n.push(o),o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(42===t.charCodeAt(jh)?(a=X,jh++):(a=i,0===Lh&&Uh(K)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Xd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i;if(o===i){for(o=jh,s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(47===t.charCodeAt(jh)?(a=No,jh++):(a=i,0===Lh&&Uh(Oo)),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i&&(l=Xd())!==i?o=s=[s,a,u,l]:(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i}}n!==i?e=r=ha(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(pa)),e}function Xd(){var e,r,n,o;if(Lh++,e=jh,33===t.charCodeAt(jh)?(r=Wo,jh++):(r=i,0===Lh&&Uh(Xo)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=Kd())!==i?e=r=ya(o):(jh=e,e=i)}else jh=e,e=i;if(e===i){if(e=jh,43===t.charCodeAt(jh)?(r=Vo,jh++):(r=i,0===Lh&&Uh(Ho)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=Kd())!==i?e=r=va(o):(jh=e,e=i)}else jh=e,e=i;if(e===i){if(e=jh,45===t.charCodeAt(jh)?(r=la,jh++):(r=i,0===Lh&&Uh(ca)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=Kd())!==i?e=r=ga(o):(jh=e,e=i)}else jh=e,e=i;e===i&&(e=Kd())}}return Lh--,e===i&&(r=i,0===Lh&&Uh(da)),e}function Kd(){var e,r;return Lh++,(e=$d())===i&&(e=Zd())===i&&(e=function(){var e,t,r,n;if(Lh++,e=jh,(t=iy())!==i){for(r=[],n=hy();n!==i;)r.push(n),n=hy();r!==i?((n=md())===i&&(n=null),n!==i?(t=oc(t,n),e=t):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(t=i,0===Lh&&Uh(ic)),e}())===i&&(e=jh,(r=Yd())!==i&&(r=ma(r)),(e=r)===i&&(e=jh,(r=ey())!==i&&(r=xa(r)),(e=r)===i&&(e=jh,(r=ry())!==i&&(r=wa(r)),(e=r)===i&&(e=function(){var e,r,n,o,s,a,u,l,c,f,p,h,d,y,v,g,b,m;if(Lh++,e=jh,t.substr(jh,5)===Sl?(r=Sl,jh+=5):(r=i,0===Lh&&Uh(Cl)),r===i&&(t.substr(jh,5)===Tl?(r=Tl,jh+=5):(r=i,0===Lh&&Uh(Il))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,8)===N?(a=N,jh+=8):(a=i,0===Lh&&Uh(O)),a===i&&(t.substr(jh,8)===L?(a=L,jh+=8):(a=i,0===Lh&&Uh(B))),a===i&&(a=null),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(42===t.charCodeAt(jh)?(l=X,jh++):(l=i,0===Lh&&Uh(K)),l===i&&(l=zd()),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(41===t.charCodeAt(jh)?(f=J,jh++):(f=i,0===Lh&&Uh(W)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(r=Fl(a,l),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,12)===jl?(r=jl,jh+=12):(r=i,0===Lh&&Uh(Rl)),r===i&&(t.substr(jh,12)===Nl?(r=Nl,jh+=12):(r=i,0===Lh&&Uh(Ol))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,8)===N?(a=N,jh+=8):(a=i,0===Lh&&Uh(O)),a===i&&(t.substr(jh,8)===L?(a=L,jh+=8):(a=i,0===Lh&&Uh(B))),a===i&&(a=null),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if((l=zd())!==i){if(c=jh,59===t.charCodeAt(jh)?(f=$t,jh++):(f=i,0===Lh&&Uh(Zt)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();if(p!==i)if(t.substr(jh,9)===Ll?(h=Ll,jh+=9):(h=i,0===Lh&&Uh(Bl)),h!==i){for(d=[],y=hy();y!==i;)d.push(y),y=hy();if(d!==i)if(61===t.charCodeAt(jh)?(y=Rs,jh++):(y=i,0===Lh&&Uh(Ns)),y!==i){for(v=[],g=hy();g!==i;)v.push(g),g=hy();if(v!==i)if((g=ny())!==i){for(b=[],m=hy();m!==i;)b.push(m),m=hy();b!==i?c=f=[f,p,h,d,y,v,g,b]:(jh=c,c=i)}else jh=c,c=i;else jh=c,c=i}else jh=c,c=i;else jh=c,c=i}else jh=c,c=i;else jh=c,c=i}else jh=c,c=i;if(c===i&&(c=null),c!==i)if(41===t.charCodeAt(jh)?(f=J,jh++):(f=i,0===Lh&&Uh(W)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(r=Pl(a,l,c),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,3)===Dl?(r=Dl,jh+=3):(r=i,0===Lh&&Uh(Ql)),r===i&&(t.substr(jh,3)===Ml?(r=Ml,jh+=3):(r=i,0===Lh&&Uh(Ul))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,8)===N?(a=N,jh+=8):(a=i,0===Lh&&Uh(O)),a===i&&(t.substr(jh,8)===L?(a=L,jh+=8):(a=i,0===Lh&&Uh(B))),a===i&&(a=null),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if((l=zd())!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(41===t.charCodeAt(jh)?(f=J,jh++):(f=i,0===Lh&&Uh(W)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(r=Gl(a,l),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,3)===ql?(r=ql,jh+=3):(r=i,0===Lh&&Uh(zl)),r===i&&(t.substr(jh,3)===Vl?(r=Vl,jh+=3):(r=i,0===Lh&&Uh(Hl))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,8)===N?(a=N,jh+=8):(a=i,0===Lh&&Uh(O)),a===i&&(t.substr(jh,8)===L?(a=L,jh+=8):(a=i,0===Lh&&Uh(B))),a===i&&(a=null),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if((l=zd())!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(41===t.charCodeAt(jh)?(f=J,jh++):(f=i,0===Lh&&Uh(W)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(r=Jl(a,l),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,3)===Wl?(r=Wl,jh+=3):(r=i,0===Lh&&Uh(Xl)),r===i&&(t.substr(jh,3)===Kl?(r=Kl,jh+=3):(r=i,0===Lh&&Uh($l))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,8)===N?(a=N,jh+=8):(a=i,0===Lh&&Uh(O)),a===i&&(t.substr(jh,8)===L?(a=L,jh+=8):(a=i,0===Lh&&Uh(B))),a===i&&(a=null),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if((l=zd())!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(41===t.charCodeAt(jh)?(f=J,jh++):(f=i,0===Lh&&Uh(W)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(r=Zl(a,l),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i)if(e=jh,t.substr(jh,3)===Yl?(r=Yl,jh+=3):(r=i,0===Lh&&Uh(ec)),r===i&&(t.substr(jh,3)===tc?(r=tc,jh+=3):(r=i,0===Lh&&Uh(rc))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if(t.substr(jh,8)===N?(a=N,jh+=8):(a=i,0===Lh&&Uh(O)),a===i&&(t.substr(jh,8)===L?(a=L,jh+=8):(a=i,0===Lh&&Uh(B))),a===i&&(a=null),a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if((l=zd())!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if(41===t.charCodeAt(jh)?(f=J,jh++):(f=i,0===Lh&&Uh(W)),f!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(r=nc(a,l),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}}}}return Lh--,e===i&&(r=i,0===Lh&&Uh(El)),e}())===i&&(e=jh,(r=qd())!==i&&(r=_a(r)),e=r)))),Lh--,e===i&&(r=i,0===Lh&&Uh(ba)),e}function $d(){var e,r,n,o,s,a;if(Lh++,e=jh,40===t.charCodeAt(jh)?(r=U,jh++):(r=i,0===Lh&&Uh(G)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if((o=zd())!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i?(41===t.charCodeAt(jh)?(a=J,jh++):(a=i,0===Lh&&Uh(W)),a!==i?e=r=Aa(o):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ka)),e}function Zd(){var e,r,n,o,s,a,u,l,c,f,p,h,d,y,v,g;if(Lh++,e=jh,t.substr(jh,3)===Sa?(r=Sa,jh+=3):(r=i,0===Lh&&Uh(Ca)),r===i&&(t.substr(jh,3)===Ta?(r=Ta,jh+=3):(r=i,0===Lh&&Uh(Ia))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=Fa(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,4)===ja?(r=ja,jh+=4):(r=i,0===Lh&&Uh(Ra)),r===i&&(t.substr(jh,4)===Na?(r=Na,jh+=4):(r=i,0===Lh&&Uh(Oa))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=La(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,11)===Ba?(r=Ba,jh+=11):(r=i,0===Lh&&Uh(Pa)),r===i&&(t.substr(jh,11)===Da?(r=Da,jh+=11):(r=i,0===Lh&&Uh(Qa))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(44===t.charCodeAt(jh)?(l=zi,jh++):(l=i,0===Lh&&Uh(Vi)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if((f=zd())!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(41===t.charCodeAt(jh)?(h=J,jh++):(h=i,0===Lh&&Uh(W)),h!==i?e=r=Ma(a,f):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,8)===Ua?(r=Ua,jh+=8):(r=i,0===Lh&&Uh(Ga)),r===i&&(t.substr(jh,8)===qa?(r=qa,jh+=8):(r=i,0===Lh&&Uh(za))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=Va(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,5)===Ha?(r=Ha,jh+=5):(r=i,0===Lh&&Uh(Ja)),r===i&&(t.substr(jh,5)===Wa?(r=Wa,jh+=5):(r=i,0===Lh&&Uh(Xa))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=qd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=Ka(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,3)===$a?(r=$a,jh+=3):(r=i,0===Lh&&Uh(Za)),r===i&&(t.substr(jh,3)===Ya?(r=Ya,jh+=3):(r=i,0===Lh&&Uh(eu))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=tu(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,3)===ru?(r=ru,jh+=3):(r=i,0===Lh&&Uh(nu)),r===i&&(t.substr(jh,3)===iu?(r=iu,jh+=3):(r=i,0===Lh&&Uh(ou))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=su(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,5)===au?(r=au,jh+=5):(r=i,0===Lh&&Uh(uu)),r===i&&(t.substr(jh,5)===lu?(r=lu,jh+=5):(r=i,0===Lh&&Uh(cu))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i){if(o=jh,40===t.charCodeAt(jh)?(s=U,jh++):(s=i,0===Lh&&Uh(G)),s!==i){for(a=[],u=hy();u!==i;)a.push(u),u=hy();if(a!==i)if((u=zd())!==i){for(l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i?(41===t.charCodeAt(jh)?(c=J,jh++):(c=i,0===Lh&&Uh(W)),c!==i?o=s=[s,a,u,l,c]:(jh=o,o=i)):(jh=o,o=i)}else jh=o,o=i;else jh=o,o=i}else jh=o,o=i;o===i&&(o=py()),o!==i?e=r=fu(o):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,8)===pu?(r=pu,jh+=8):(r=i,0===Lh&&Uh(hu)),r===i&&(t.substr(jh,8)===du?(r=du,jh+=8):(r=i,0===Lh&&Uh(yu))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=xd())!==i?e=r=vu(o):(jh=e,e=i)}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,2)===gu?(r=gu,jh+=2):(r=i,0===Lh&&Uh(bu)),r===i&&(t.substr(jh,2)===mu?(r=mu,jh+=2):(r=i,0===Lh&&Uh(xu))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(44===t.charCodeAt(jh)?(l=zi,jh++):(l=i,0===Lh&&Uh(Vi)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if((f=zd())!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();if(p!==i)if(44===t.charCodeAt(jh)?(h=zi,jh++):(h=i,0===Lh&&Uh(Vi)),h!==i){for(d=[],y=hy();y!==i;)d.push(y),y=hy();if(d!==i)if((y=zd())!==i){for(v=[],g=hy();g!==i;)v.push(g),g=hy();v!==i?(41===t.charCodeAt(jh)?(g=J,jh++):(g=i,0===Lh&&Uh(W)),g!==i?e=r=wu(a,f,y):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,9)===_u?(r=_u,jh+=9):(r=i,0===Lh&&Uh(ku)),r===i&&(t.substr(jh,9)===Au?(r=Au,jh+=9):(r=i,0===Lh&&Uh(Eu)),r===i&&(t.substr(jh,9)===Su?(r=Su,jh+=9):(r=i,0===Lh&&Uh(Cu)))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=Tu(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,7)===Iu?(r=Iu,jh+=7):(r=i,0===Lh&&Uh(Fu)),r===i&&(t.substr(jh,7)===ju?(r=ju,jh+=7):(r=i,0===Lh&&Uh(Ru)),r===i&&(t.substr(jh,7)===Nu?(r=Nu,jh+=7):(r=i,0===Lh&&Uh(Ou)))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=Lu(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,8)===Bu?(r=Bu,jh+=8):(r=i,0===Lh&&Uh(Pu)),r===i&&(t.substr(jh,8)===Du?(r=Du,jh+=8):(r=i,0===Lh&&Uh(Qu))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(44===t.charCodeAt(jh)?(l=zi,jh++):(l=i,0===Lh&&Uh(Vi)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if((f=zd())!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();p!==i?(41===t.charCodeAt(jh)?(h=J,jh++):(h=i,0===Lh&&Uh(W)),h!==i?e=r=Mu(a,f):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,5)===Uu?(r=Uu,jh+=5):(r=i,0===Lh&&Uh(Gu)),r===i&&(t.substr(jh,5)===qu?(r=qu,jh+=5):(r=i,0===Lh&&Uh(zu)),r===i&&(t.substr(jh,5)===Vu?(r=Vu,jh+=5):(r=i,0===Lh&&Uh(Hu)),r===i&&(t.substr(jh,5)===Ju?(r=Ju,jh+=5):(r=i,0===Lh&&Uh(Wu)),r===i&&(t.substr(jh,5)===Xu?(r=Xu,jh+=5):(r=i,0===Lh&&Uh(Ku)),r===i&&(t.substr(jh,5)===$u?(r=$u,jh+=5):(r=i,0===Lh&&Uh(Zu))))))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();u!==i?(41===t.charCodeAt(jh)?(l=J,jh++):(l=i,0===Lh&&Uh(W)),l!==i?e=r=Yu(a):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;if(e===i){if(e=jh,t.substr(jh,7)===el?(r=el,jh+=7):(r=i,0===Lh&&Uh(tl)),r===i&&(t.substr(jh,7)===rl?(r=rl,jh+=7):(r=i,0===Lh&&Uh(nl))),r!==i){if(n=[],il.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ol)),o!==i)for(;o!==i;)n.push(o),il.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ol));else n=i;if(n!==i){for(o=[],s=hy();s!==i;)o.push(s),s=hy();if(o!==i)if(40===t.charCodeAt(jh)?(s=U,jh++):(s=i,0===Lh&&Uh(G)),s!==i){for(a=[],u=jh,l=[],c=hy();c!==i;)l.push(c),c=hy();for(l!==i&&(c=zd())!==i?(44===t.charCodeAt(jh)?(f=zi,jh++):(f=i,0===Lh&&Uh(Vi)),f!==i?u=l=[l,c,f]:(jh=u,u=i)):(jh=u,u=i);u!==i;){for(a.push(u),u=jh,l=[],c=hy();c!==i;)l.push(c),c=hy();l!==i&&(c=zd())!==i?(44===t.charCodeAt(jh)?(f=zi,jh++):(f=i,0===Lh&&Uh(Vi)),f!==i?u=l=[l,c,f]:(jh=u,u=i)):(jh=u,u=i)}if(a!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if((l=zd())!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();c!==i?(41===t.charCodeAt(jh)?(f=J,jh++):(f=i,0===Lh&&Uh(W)),f!==i?e=r=sl(n,a,l):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;e===i&&(e=function(){var e,r,n,o,s,a,u,l,c,f,p,h,d,y,v;if(Lh++,e=jh,t.substr(jh,5)===ul?(r=ul,jh+=5):(r=i,0===Lh&&Uh(ll)),r===i&&(t.substr(jh,5)===cl?(r=cl,jh+=5):(r=i,0===Lh&&Uh(fl))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(40===t.charCodeAt(jh)?(o=U,jh++):(o=i,0===Lh&&Uh(G)),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();if(s!==i)if((a=zd())!==i){for(u=[],l=hy();l!==i;)u.push(l),l=hy();if(u!==i)if(44===t.charCodeAt(jh)?(l=zi,jh++):(l=i,0===Lh&&Uh(Vi)),l!==i){for(c=[],f=hy();f!==i;)c.push(f),f=hy();if(c!==i)if((f=zd())!==i){for(p=[],h=hy();h!==i;)p.push(h),h=hy();if(p!==i){if(h=jh,44===t.charCodeAt(jh)?(d=zi,jh++):(d=i,0===Lh&&Uh(Vi)),d!==i){for(y=[],v=hy();v!==i;)y.push(v),v=hy();y!==i&&(v=zd())!==i?h=d=[d,y,v]:(jh=h,h=i)}else jh=h,h=i;if(h===i&&(h=null),h!==i){for(d=[],y=hy();y!==i;)d.push(y),y=hy();d!==i?(41===t.charCodeAt(jh)?(y=J,jh++):(y=i,0===Lh&&Uh(W)),y!==i?(r=pl(a,f,h),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(al)),e}())===i&&(e=function(){var e,r,n,o;if(Lh++,e=jh,t.substr(jh,6)===dl?(r=dl,jh+=6):(r=i,0===Lh&&Uh(yl)),r===i&&(t.substr(jh,6)===vl?(r=vl,jh+=6):(r=i,0===Lh&&Uh(gl))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i&&(o=pd())!==i?(r=bl(o),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(hl)),e}())===i&&(e=function(){var e,r,n,o,s,a;if(Lh++,e=jh,t.substr(jh,3)===xl?(r=xl,jh+=3):(r=i,0===Lh&&Uh(wl)),r===i&&(t.substr(jh,3)===_l?(r=_l,jh+=3):(r=i,0===Lh&&Uh(kl))),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();if(n!==i)if(t.substr(jh,6)===dl?(o=dl,jh+=6):(o=i,0===Lh&&Uh(yl)),o===i&&(t.substr(jh,6)===vl?(o=vl,jh+=6):(o=i,0===Lh&&Uh(gl))),o!==i){for(s=[],a=hy();a!==i;)s.push(a),a=hy();s!==i&&(a=pd())!==i?(r=Al(a),e=r):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ml)),e}())}}}}}}}}}}}}}}return Lh--,e===i&&(r=i,0===Lh&&Uh(Ea)),e}function Yd(){var e,r,n,o,s;return Lh++,e=jh,(r=ny())!==i?((n=function(){var e,r,n,o,s,a,u,l;if(Lh++,e=jh,64===t.charCodeAt(jh)?(r=tf,jh++):(r=i,0===Lh&&Uh(rf)),r!==i){if(n=[],nf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(of)),o!==i)for(;o!==i;)n.push(o),nf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(of));else n=i;if(n!==i){if(o=[],s=jh,45===t.charCodeAt(jh)?(a=la,jh++):(a=i,0===Lh&&Uh(ca)),a!==i){if(u=[],sf.test(t.charAt(jh))?(l=t.charAt(jh),jh++):(l=i,0===Lh&&Uh(af)),l!==i)for(;l!==i;)u.push(l),sf.test(t.charAt(jh))?(l=t.charAt(jh),jh++):(l=i,0===Lh&&Uh(af));else u=i;u!==i?s=a=[a,u]:(jh=s,s=i)}else jh=s,s=i;for(;s!==i;)if(o.push(s),s=jh,45===t.charCodeAt(jh)?(a=la,jh++):(a=i,0===Lh&&Uh(ca)),a!==i){if(u=[],sf.test(t.charAt(jh))?(l=t.charAt(jh),jh++):(l=i,0===Lh&&Uh(af)),l!==i)for(;l!==i;)u.push(l),sf.test(t.charAt(jh))?(l=t.charAt(jh),jh++):(l=i,0===Lh&&Uh(af));else u=i;u!==i?s=a=[a,u]:(jh=s,s=i)}else jh=s,s=i;o!==i?(r=uf(n,o),e=r):(jh=e,e=i)}else jh=e,e=i}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ef)),e}())===i&&(n=jh,t.substr(jh,2)===ac?(o=ac,jh+=2):(o=i,0===Lh&&Uh(uc)),o!==i&&(s=iy())!==i?n=o=[o,s]:(jh=n,n=i)),n===i&&(n=null),n!==i?e=r=lc(r,n):(jh=e,e=i)):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(sc)),e}function ey(){var e;return Lh++,(e=function(){var e;return Lh++,(e=ly())===i&&(e=uy())===i&&(e=ay()),Lh--,e===i&&0===Lh&&Uh(fc),e}())===i&&(e=function(){var e;return Lh++,(e=function(){var e,r,n;return Lh++,e=jh,43===t.charCodeAt(jh)?(r=Vo,jh++):(r=i,0===Lh&&Uh(Ho)),r!==i&&(n=ly())!==i?(r=kf(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Af)),e}())===i&&(e=function(){var e,r,n;return Lh++,e=jh,43===t.charCodeAt(jh)?(r=Vo,jh++):(r=i,0===Lh&&Uh(Ho)),r!==i&&(n=uy())!==i?(r=kf(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(_f)),e}())===i&&(e=function(){var e,r,n;return Lh++,e=jh,43===t.charCodeAt(jh)?(r=Vo,jh++):(r=i,0===Lh&&Uh(Ho)),r!==i&&(n=ay())!==i?(r=wf(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(xf)),e}()),Lh--,e===i&&0===Lh&&Uh(pc),e}())===i&&(e=ty()),Lh--,e===i&&0===Lh&&Uh(cc),e}function ty(){var e;return Lh++,(e=function(){var e,r,n;return Lh++,e=jh,45===t.charCodeAt(jh)?(r=la,jh++):(r=i,0===Lh&&Uh(ca)),r!==i&&(n=ly())!==i?(r=Sf(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Tf)),e}())===i&&(e=function(){var e,r,n;return Lh++,e=jh,45===t.charCodeAt(jh)?(r=la,jh++):(r=i,0===Lh&&Uh(ca)),r!==i&&(n=uy())!==i?(r=Sf(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Cf)),e}())===i&&(e=function(){var e,r,n;return Lh++,e=jh,45===t.charCodeAt(jh)?(r=la,jh++):(r=i,0===Lh&&Uh(ca)),r!==i&&(n=ay())!==i?(r=Sf(n),e=r):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Ef)),e}()),Lh--,e===i&&0===Lh&&Uh(hc),e}function ry(){var e,r;return Lh++,e=jh,t.substr(jh,4)===yc?(r=yc,jh+=4):(r=i,0===Lh&&Uh(vc)),r===i&&(t.substr(jh,4)===gc?(r=gc,jh+=4):(r=i,0===Lh&&Uh(bc))),r!==i&&(r=mc()),(e=r)===i&&(e=jh,t.substr(jh,5)===xc?(r=xc,jh+=5):(r=i,0===Lh&&Uh(wc)),r===i&&(t.substr(jh,5)===_c?(r=_c,jh+=5):(r=i,0===Lh&&Uh(kc))),r!==i&&(r=Ac()),e=r),Lh--,e===i&&(r=i,0===Lh&&Uh(dc)),e}function ny(){var e,r;return Lh++,e=jh,(r=function(){var e,r,n,o;if(Lh++,e=jh,t.substr(jh,3)===Jf?(r=Jf,jh+=3):(r=i,0===Lh&&Uh(Wf)),r!==i){for(n=[],Xf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Kf)),o===i&&(o=fy());o!==i;)n.push(o),Xf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Kf)),o===i&&(o=fy());n!==i?(t.substr(jh,3)===Jf?(o=Jf,jh+=3):(o=i,0===Lh&&Uh(Wf)),o!==i?(r=Mf(n),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Hf)),e}())!==i&&(r=Sc(r)),(e=r)===i&&(e=jh,(r=function(){var e,r,n,o;if(Lh++,e=jh,t.substr(jh,3)===Zf?(r=Zf,jh+=3):(r=i,0===Lh&&Uh(Yf)),r!==i){for(n=[],ep.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(tp)),o===i&&(o=fy());o!==i;)n.push(o),ep.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(tp)),o===i&&(o=fy());n!==i?(t.substr(jh,3)===Zf?(o=Zf,jh+=3):(o=i,0===Lh&&Uh(Yf)),o!==i?(r=Mf(n),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh($f)),e}())!==i&&(r=Sc(r)),(e=r)===i&&(e=jh,(r=function(){var e,r,n,o;if(Lh++,e=jh,39===t.charCodeAt(jh)?(r=Bf,jh++):(r=i,0===Lh&&Uh(Pf)),r!==i){for(n=[],Df.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Qf)),o===i&&(o=fy());o!==i;)n.push(o),Df.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Qf)),o===i&&(o=fy());n!==i?(39===t.charCodeAt(jh)?(o=Bf,jh++):(o=i,0===Lh&&Uh(Pf)),o!==i?(r=Mf(n),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Lf)),e}())!==i&&(r=Sc(r)),(e=r)===i&&(e=jh,(r=function(){var e,r,n,o;if(Lh++,e=jh,34===t.charCodeAt(jh)?(r=Gf,jh++):(r=i,0===Lh&&Uh(qf)),r!==i){for(n=[],zf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Vf)),o===i&&(o=fy());o!==i;)n.push(o),zf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Vf)),o===i&&(o=fy());n!==i?(34===t.charCodeAt(jh)?(o=Gf,jh++):(o=i,0===Lh&&Uh(qf)),o!==i?(r=Mf(n),e=r):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Uf)),e}())!==i&&(r=Sc(r)),e=r))),Lh--,e===i&&(r=i,0===Lh&&Uh(Ec)),e}function iy(){var e,t;return Lh++,e=jh,(t=oy())!==i&&(t=Tc(t)),(e=t)===i&&(e=jh,(t=function(){var e,t;return Lh++,e=jh,(t=function(){var e,t,r;return Lh++,e=jh,(t=sy())!==i&&(r=by())!==i?(t=zc(t,r),e=t):(jh=e,e=i),Lh--,e===i&&(t=i,0===Lh&&Uh(qc)),e}())!==i&&(t=jc(t)),(e=t)===i&&(e=jh,(t=sy())!==i&&(t=Rc(t)),e=t),Lh--,e===i&&(t=i,0===Lh&&Uh(Fc)),e}())!==i&&(t=Ic(t)),e=t),Lh--,e===i&&(t=i,0===Lh&&Uh(Cc)),e}function oy(){var e,r,n,o;if(Lh++,e=jh,60===t.charCodeAt(jh)?(r=Bs,jh++):(r=i,0===Lh&&Uh(Ps)),r!==i){for(n=[],Pc.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Dc));o!==i;)n.push(o),Pc.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(Dc));n!==i?(62===t.charCodeAt(jh)?(o=Ds,jh++):(o=i,0===Lh&&Uh(Qs)),o!==i?e=r=Qc(n):(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(Bc)),e}function sy(){var e,r,n;return Lh++,e=jh,(r=function(){var e,r,n,o;if(Lh++,e=jh,(r=dy())!==i){for(n=[],(o=gy())===i&&(46===t.charCodeAt(jh)?(o=Ln,jh++):(o=i,0===Lh&&Uh(Bn)));o!==i;)n.push(o),(o=gy())===i&&(46===t.charCodeAt(jh)?(o=Ln,jh++):(o=i,0===Lh&&Uh(Bn)));n!==i?(r=ph(r,n),e=r):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(fh)),e}())===i&&(r=null),r!==i?(58===t.charCodeAt(jh)?(n=Uc,jh++):(n=i,0===Lh&&Uh(Gc)),n!==i?e=r=Ic(r):(jh=e,e=i)):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Mc)),e}function ay(){var e,r,n;if(Lh++,e=jh,r=[],cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff)),n!==i)for(;n!==i;)r.push(n),cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff));else r=i;return r!==i&&(r=pf(r)),Lh--,(e=r)===i&&(r=i,0===Lh&&Uh(lf)),e}function uy(){var e,r,n,o,s;if(Lh++,e=jh,r=[],cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff)),n!==i)for(;n!==i;)r.push(n),cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff));else r=i;if(r!==i)if(46===t.charCodeAt(jh)?(n=Ln,jh++):(n=i,0===Lh&&Uh(Bn)),n!==i){for(o=[],cf.test(t.charAt(jh))?(s=t.charAt(jh),jh++):(s=i,0===Lh&&Uh(ff));s!==i;)o.push(s),cf.test(t.charAt(jh))?(s=t.charAt(jh),jh++):(s=i,0===Lh&&Uh(ff));o!==i?e=r=df(r,n,o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;if(e===i)if(e=jh,46===t.charCodeAt(jh)?(r=Ln,jh++):(r=i,0===Lh&&Uh(Bn)),r!==i){if(n=[],cf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ff)),o!==i)for(;o!==i;)n.push(o),cf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ff));else n=i;n!==i?e=r=yf(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(hf)),e}function ly(){var e,r,n,o,s;if(Lh++,e=jh,r=[],cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff)),n!==i)for(;n!==i;)r.push(n),cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff));else r=i;if(r!==i)if(46===t.charCodeAt(jh)?(n=Ln,jh++):(n=i,0===Lh&&Uh(Bn)),n!==i){for(o=[],cf.test(t.charAt(jh))?(s=t.charAt(jh),jh++):(s=i,0===Lh&&Uh(ff));s!==i;)o.push(s),cf.test(t.charAt(jh))?(s=t.charAt(jh),jh++):(s=i,0===Lh&&Uh(ff));o!==i&&(s=cy())!==i?e=r=gf(r,n,o,s):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;if(e===i){if(e=jh,46===t.charCodeAt(jh)?(r=Ln,jh++):(r=i,0===Lh&&Uh(Bn)),r!==i){if(n=[],cf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ff)),o!==i)for(;o!==i;)n.push(o),cf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ff));else n=i;n!==i&&(o=cy())!==i?e=r=bf(r,n,o):(jh=e,e=i)}else jh=e,e=i;if(e===i){if(e=jh,r=[],cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff)),n!==i)for(;n!==i;)r.push(n),cf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(ff));else r=i;r!==i&&(n=cy())!==i?e=r=mf(r,n):(jh=e,e=i)}}return Lh--,e===i&&(r=i,0===Lh&&Uh(vf)),e}function cy(){var e,r,n,o,s;if(Lh++,e=jh,Ff.test(t.charAt(jh))?(r=t.charAt(jh),jh++):(r=i,0===Lh&&Uh(jf)),r!==i)if(Rf.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(Nf)),n===i&&(n=null),n!==i){if(o=[],cf.test(t.charAt(jh))?(s=t.charAt(jh),jh++):(s=i,0===Lh&&Uh(ff)),s!==i)for(;s!==i;)o.push(s),cf.test(t.charAt(jh))?(s=t.charAt(jh),jh++):(s=i,0===Lh&&Uh(ff));else o=i;o!==i?e=r=Of(r,n,o):(jh=e,e=i)}else jh=e,e=i;else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(If)),e}function fy(){var e,r,n;return Lh++,e=jh,92===t.charCodeAt(jh)?(r=np,jh++):(r=i,0===Lh&&Uh(ip)),r!==i?(op.test(t.charAt(jh))?(n=t.charAt(jh),jh++):(n=i,0===Lh&&Uh(sp)),n!==i?e=r=[r,n]:(jh=e,e=i)):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(rp)),e}function py(){var e,r,n,o;if(Lh++,e=jh,40===t.charCodeAt(jh)?(r=U,jh++):(r=i,0===Lh&&Uh(G)),r!==i){for(n=[],o=hy();o!==i;)n.push(o),o=hy();n!==i?(41===t.charCodeAt(jh)?(o=J,jh++):(o=i,0===Lh&&Uh(W)),o!==i?e=r=up():(jh=e,e=i)):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(ap)),e}function hy(){var e;return Lh++,cp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(fp)),e===i&&(pp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(hp)),e===i&&(dp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(yp)),e===i&&(vp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(gp)),e===i&&(e=function(){var e,r,n,o;if(Lh++,e=jh,35===t.charCodeAt(jh)?(r=mp,jh++):(r=i,0===Lh&&Uh(xp)),r!==i){for(n=[],wp.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(_p));o!==i;)n.push(o),wp.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(_p));n!==i?e=r=[r,n]:(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(bp)),e}())))),Lh--,e===i&&0===Lh&&Uh(lp),e}function dy(){var e;return Lh++,Ep.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Sp)),e===i&&(Cp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Tp)),e===i&&(Ip.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Fp)),e===i&&(jp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Rp)),e===i&&(Np.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Op)),e===i&&(Lp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Bp)),e===i&&(Pp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Dp)),e===i&&(Qp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Mp)),e===i&&(Up.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Gp)),e===i&&(qp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(zp)),e===i&&(Vp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Hp)),e===i&&(Jp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Wp)),e===i&&(Xp.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Kp)),e===i&&($p.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Zp))))))))))))))),Lh--,e===i&&0===Lh&&Uh(Ap),e}function yy(){var e;return Lh++,(e=dy())===i&&(95===t.charCodeAt(jh)?(e=eh,jh++):(e=i,0===Lh&&Uh(th))),Lh--,e===i&&0===Lh&&Uh(Yp),e}function vy(){var e,r,n,o;if(Lh++,e=jh,(r=yy())===i&&(cf.test(t.charAt(jh))?(r=t.charAt(jh),jh++):(r=i,0===Lh&&Uh(ff))),r!==i){for(n=[],(o=yy())===i&&(cf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ff)),o===i&&(nh.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ih)),o===i&&(oh.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(sh)),o===i&&(ah.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(uh))))));o!==i;)n.push(o),(o=yy())===i&&(cf.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ff)),o===i&&(nh.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(ih)),o===i&&(oh.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(sh)),o===i&&(ah.test(t.charAt(jh))?(o=t.charAt(jh),jh++):(o=i,0===Lh&&Uh(uh))))));n!==i?e=r=lh(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(rh)),e}function gy(){var e;return Lh++,(e=yy())===i&&(45===t.charCodeAt(jh)?(e=la,jh++):(e=i,0===Lh&&Uh(ca)),e===i&&(cf.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(ff)),e===i&&(nh.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(ih)),e===i&&(oh.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(sh)),e===i&&(ah.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(uh))))))),Lh--,e===i&&0===Lh&&Uh(ch),e}function by(){var e,r,n,o;if(Lh++,e=jh,(r=yy())===i&&(cf.test(t.charAt(jh))?(r=t.charAt(jh),jh++):(r=i,0===Lh&&Uh(ff)),r===i&&(58===t.charCodeAt(jh)?(r=Uc,jh++):(r=i,0===Lh&&Uh(Gc)),r===i&&(r=my()))),r!==i){for(n=[],(o=gy())===i&&(46===t.charCodeAt(jh)?(o=Ln,jh++):(o=i,0===Lh&&Uh(Bn)),o===i&&(58===t.charCodeAt(jh)?(o=Uc,jh++):(o=i,0===Lh&&Uh(Gc)),o===i&&(o=my())));o!==i;)n.push(o),(o=gy())===i&&(46===t.charCodeAt(jh)?(o=Ln,jh++):(o=i,0===Lh&&Uh(Bn)),o===i&&(58===t.charCodeAt(jh)?(o=Uc,jh++):(o=i,0===Lh&&Uh(Gc)),o===i&&(o=my())));n!==i?e=r=dh(r,n):(jh=e,e=i)}else jh=e,e=i;return Lh--,e===i&&(r=i,0===Lh&&Uh(hh)),e}function my(){var e;return Lh++,(e=function(){var e,r,n,o,s;return Lh++,e=jh,r=jh,37===t.charCodeAt(jh)?(n=gh,jh++):(n=i,0===Lh&&Uh(bh)),n!==i&&(o=xy())!==i&&(s=xy())!==i?r=n=[n,o,s]:(jh=r,r=i),r!==i&&(r=mh(r)),Lh--,(e=r)===i&&(r=i,0===Lh&&Uh(vh)),e}())===i&&(e=function(){var e,r,n;return Lh++,e=jh,92===t.charCodeAt(jh)?(r=np,jh++):(r=i,0===Lh&&Uh(ip)),r!==i?(95===t.charCodeAt(jh)?(n=eh,jh++):(n=i,0===Lh&&Uh(th)),n===i&&(126===t.charCodeAt(jh)?(n=Sh,jh++):(n=i,0===Lh&&Uh(Ch)),n===i&&(46===t.charCodeAt(jh)?(n=Ln,jh++):(n=i,0===Lh&&Uh(Bn)),n===i&&(45===t.charCodeAt(jh)?(n=la,jh++):(n=i,0===Lh&&Uh(ca)),n===i&&(33===t.charCodeAt(jh)?(n=Wo,jh++):(n=i,0===Lh&&Uh(Xo)),n===i&&(36===t.charCodeAt(jh)?(n=Zc,jh++):(n=i,0===Lh&&Uh(Yc)),n===i&&(38===t.charCodeAt(jh)?(n=Th,jh++):(n=i,0===Lh&&Uh(Ih)),n===i&&(39===t.charCodeAt(jh)?(n=Bf,jh++):(n=i,0===Lh&&Uh(Pf)),n===i&&(40===t.charCodeAt(jh)?(n=U,jh++):(n=i,0===Lh&&Uh(G)),n===i&&(41===t.charCodeAt(jh)?(n=J,jh++):(n=i,0===Lh&&Uh(W)),n===i&&(42===t.charCodeAt(jh)?(n=X,jh++):(n=i,0===Lh&&Uh(K)),n===i&&(43===t.charCodeAt(jh)?(n=Vo,jh++):(n=i,0===Lh&&Uh(Ho)),n===i&&(44===t.charCodeAt(jh)?(n=zi,jh++):(n=i,0===Lh&&Uh(Vi)),n===i&&(59===t.charCodeAt(jh)?(n=$t,jh++):(n=i,0===Lh&&Uh(Zt)),n===i&&(58===t.charCodeAt(jh)?(n=Uc,jh++):(n=i,0===Lh&&Uh(Gc)),n===i&&(61===t.charCodeAt(jh)?(n=Rs,jh++):(n=i,0===Lh&&Uh(Ns)),n===i&&(47===t.charCodeAt(jh)?(n=No,jh++):(n=i,0===Lh&&Uh(Oo)),n===i&&(63===t.charCodeAt(jh)?(n=qo,jh++):(n=i,0===Lh&&Uh(zo)),n===i&&(35===t.charCodeAt(jh)?(n=mp,jh++):(n=i,0===Lh&&Uh(xp)),n===i&&(64===t.charCodeAt(jh)?(n=tf,jh++):(n=i,0===Lh&&Uh(rf)),n===i&&(37===t.charCodeAt(jh)?(n=gh,jh++):(n=i,0===Lh&&Uh(bh)))))))))))))))))))))),n!==i?(r=Fh(n),e=r):(jh=e,e=i)):(jh=e,e=i),Lh--,e===i&&(r=i,0===Lh&&Uh(Eh)),e}()),Lh--,e===i&&0===Lh&&Uh(yh),e}function xy(){var e;return Lh++,cf.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(ff)),e===i&&(wh.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(_h)),e===i&&(kh.test(t.charAt(jh))?(e=t.charAt(jh),jh++):(e=i,0===Lh&&Uh(Ah)))),Lh--,e===i&&0===Lh&&Uh(xh),e}var wy=function(e){for(var t="",r=0;r<e.length;r++)"string"==typeof e[r]?t+=e[r]:t+=e[r].join("");return t},_y=0,ky={},Ay=function(e,t){ky[e]=t},Ey=function(e){ky.null=e},Sy=function(e){var t="";if(null==e)return null;for(var r=0;r<e.length;r++)t+=e[r];return t.toUpperCase()};if((n=s())!==i&&jh===t.length)return n;throw n!==i&&jh<t.length&&Uh({type:"end"}),Gh(Oh,Nh<t.length?t.charAt(Nh):null,Nh<t.length?Mh(Nh,Nh+1):Mh(Nh,Nh))}}}()},{}],136:[function(e,t,r){e("./btree").Tree;var n=e("./utils"),i=n,o=e("./lexicon").Lexicon;PersistentLexicon=function(e,t){var r=this;n.registerIndexedDB(r),this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri},this.oidCounter=1,r.dbName=t||"rdfstorejs";var i=r.indexedDB.open(this.dbName+"_lexicon",1);i.onerror=function(t){e(null,new Error("Error opening IndexedDB: "+t.target.errorCode))},i.onsuccess=function(t){r.db=t.target.result,e(r)},i.onupgradeneeded=function(e){r.db=e.target.result,r.db.createObjectStore("knownGraphs",{keyPath:"oid"}).createIndex("uriToken","uriToken",{unique:!0}),r.db.createObjectStore("components",{keyPath:"id",autoIncrement:!0}).createIndex("value","value",{unique:!0})}},PersistentLexicon.prototype.registerGraph=function(e,t,r){if(e!=this.defaultGraphOid){var n=this.db.transaction(["knownGraphs"],"readwrite");n.onerror=function(e){r(null,new Error(e.target.statusCode))};var i=n.objectStore("knownGraphs");i.get(t).onsuccess=function(n){n.target.result?r(!0):i.add({oid:e,uriToken:t}).onsuccess=function(e){r(!0)}}}else r()},PersistentLexicon.prototype.registeredGraphs=function(e,t){var r=[],n=this.db.transaction(["knownGraphs"],"readwrite").objectStore("knownGraphs").openCursor();n.onsuccess=function(n){var i=n.target.result;i?(!0===e?r.push(i.value.uriToken):r.push(i.value.oid),i.continue()):t(r)},n.onerror=function(e){t(null,new Error("Error retrieving data from the cursor: "+e.target.errorCode))}},PersistentLexicon.prototype.registerUri=function(e,t){if(e===this.defaultGraphUri)t(this.defaultGraphOid);else{var r=this.db.transaction(["components"],"readwrite").objectStore("components"),n=r.index("value").get("_u:"+e);n.onsuccess=function(n){var i=n.target.result;if(i){i.counter++;var o=i.id,s=r.put(i);s.onsuccess=function(e){t(o)},s.onerror=function(e){t(null,new Error("Error updating the URI data"+e.target.errorCode))}}else{var a=r.add({value:"_u:"+e,counter:0,uri:!0});a.onsuccess=function(e){t(e.target.result)},a.onerror=function(e){t(null,new Error("Error inserting the URI data"+e.target.errorCode))}}},n.onerror=function(e){t(null,new Error("Error retrieving the URI data"+e.target.errorCode))}}},PersistentLexicon.prototype.resolveUri=function(e,t){if(e===this.defaultGraphUri)t(this.defaultGraphOid);else{var r=this.db.transaction(["components"]).objectStore("components").index("value").get("_u:"+e);r.onsuccess=function(e){null!=e.target.result?t(e.target.result.id):t(-1)},r.onerror=function(e){t(null,new Error("Error retrieving uri data "+e.target.errorCode))}}},PersistentLexicon.prototype.resolveUriCost=function(e,t){if(e===this.defaultGraphUri)t(0);else{var r=that.db.transaction(["components"]).objectStore("components").index("value").get("_u:"+e);r.onsuccess=function(e){null!=e.target.result?t(e.target.result.cost):t(-1)},r.onerror=function(e){t(null,new Error("Error retrieving uri data "+e.target.errorCode))}}},PersistentLexicon.prototype.registerBlank=function(e){var t=guid(),r=this.db.transaction(["components"],"readwrite").objectStore("components").add({value:"_b:"+t,counter:0,label:!0});r.onsuccess=function(t){e(t.target.result)},r.onerror=function(t){e(null,new Error("Error inserting the URI data"+t.target.errorCode))}},PersistentLexicon.prototype.resolveBlankCost=function(e,t){t(0)},PersistentLexicon.prototype.registerLiteral=function(e,t){var r=this.db.transaction(["components"],"readwrite").objectStore("components"),n=r.index("value").get("_l:"+e);n.onsuccess=function(n){var i=n.target.result;if(i){i.counter++;var o=i.id,s=r.put(i);s.onsuccess=function(e){t(o)},s.onerror=function(e){t(null,new Error("Error updating the literal data"+e.target.errorCode))}}else{var a=r.add({value:"_l:"+e,counter:0,literal:!0});a.onsuccess=function(e){t(e.target.result)},a.onerror=function(e){t(null,new Error("Error inserting the literal data"+e.target.errorCode))}}},n.onerror=function(e){t(null,new Error("Error retrieving the literal data"+e.target.errorCode))}},PersistentLexicon.prototype.resolveLiteral=function(e,t){var r=that.db.transaction(["components"]).objectStore("components").index("value").get("_l:"+e);r.onsuccess=function(e){null!=e.target.result?t(e.target.result.id):t(-1)},r.onerror=function(e){t(null,new Error("Error retrieving literal data "+e.target.errorCode))}},PersistentLexicon.prototype.resolveLiteralCost=function(e,t){var r=that.db.transaction(["components"]).objectStore("components").index("components").get(e);r.onsuccess=function(e){null!=e.target.result?t(e.target.result.cost):t(-1)},r.onerror=function(e){t(null,new Error("Error retrieving literal data "+e.target.errorCode))}},PersistentLexicon.prototype.parseLiteral=function(e){return o.prototype.parseLiteral(e)},PersistentLexicon.prototype.parseUri=function(e){return o.prototype.parseUri(e)},PersistentLexicon.prototype.retrieve=function(e,t){var r,n=this;e===this.defaultGraphOid?t({token:"uri",value:this.defaultGraphUri,prefix:null,suffix:null,defaultGraph:!0}):((r=n.db.transaction(["components"]).objectStore("components").get(e)).onsuccess=function(e){if(null!=e.target.result)if(null!=e.target.result.label){var r="_:"+e.target.result.id;t({token:"blank",value:r})}else null!=e.target.result.uri?t(n.parseUri(e.target.result.value.slice(3,e.target.result.value.length))):null!=e.target.result.literal?t(n.parseLiteral(e.target.result.value.slice(3,e.target.result.value.length))):(console.log(e.target.result),t(null,new Error("Unknown type of component "+e.target.result)));else t(null,null)},r.onerror=function(e){t(null,new Error("Error searching in blanks data "+e.target.errorCode))})},PersistentLexicon.prototype.clear=function(e){this.defaultGraphOid=0,this.defaultGraphUri="https://github.com/antoniogarrote/rdfstore-js#default_graph",this.defaultGraphUriTerm={token:"uri",prefix:null,suffix:null,value:this.defaultGraphUri};var t,r=function(){null!=e&&e()};(t=this.db.transaction(["components"],"readwrite").objectStore("components").clear()).onsuccess=r,t.onerror=r},PersistentLexicon.prototype.unregister=function(e,t,r){var n=this;i.seq(function(r){n._unregisterTerm(e.subject.token,t.subject,r)},function(r){n._unregisterTerm(e.predicate.token,t.predicate,r)},function(r){n._unregisterTerm(e.object.token,t.object,r)},function(r){null!=e.graph?n._unregisterTerm(e.graph.token,t.graph,r):r()})(function(){r(!0)})},PersistentLexicon.prototype._unregisterTerm=function(e,t,r){var n=this.db.transaction(["components","knownGraphs"],"readwrite");if("uri"===e)if(t!=this.defaultGraphOid){n.objectStore("components").delete(t).onsuccess=void(n.objectStore("knownGraphs").delete(t).onsuccess=function(){r()})}else r();else n.objectStore("components").delete(t).onsuccess=function(){r()}},t.exports={PersistentLexicon:PersistentLexicon}},{"./btree":130,"./lexicon":133,"./utils":147}],137:[function(e,t,r){var n=e("./utils");PersistentQuadBackend=function(e,t){var r=this;if(0!==arguments){for(var i in n.registerIndexedDB(r),this.indexMap={},this.indices=["S","P","O","G","SP","SO","SG","PO","PG","OG","SPO","SPG","SOG","POG","SPOG"],this.componentOrders={S:["subject","predicate","object","graph"],P:["predicate","subject","object","graph"],O:["object","subject","predicate","graph"],G:["graph","subject","predicate","object"],SP:["subject","predicate","object","graph"],SO:["subject","object","predicate","graph"],SG:["subject","graph","predicate","object"],PO:["predicate","object","subject","graph"],PG:["predicate","graph","subject","object"],OG:["object","graph","subject","predicate"],SPO:["subject","predicate","object","graph"],SPG:["subject","predicate","graph","object"],SOG:["subject","object","graph","predicate"],POG:["predicate","object","graph","subject"],SPOG:["subject","predicate","object","graph"]},this.componentOrdersMap={},this.componentOrders){var o=this.componentOrders[i].slice(0,i.length).sort().join(".");this.componentOrdersMap[o]=i}r.dbName=e.name||"rdfstorejs";var s=r.indexedDB.open(this.dbName+"_db",1);s.onerror=function(e){t(null,new Error("Error opening IndexedDB: "+e.target.errorCode))},s.onsuccess=function(e){r.db=e.target.result,t(r)},s.onupgradeneeded=function(e){var t=e.target.result.createObjectStore(r.dbName,{keyPath:"SPOG"});n.each(r.indices,function(e){"SPOG"!==e&&t.createIndex(e,e,{unique:!1})})}}},PersistentQuadBackend.prototype.index=function(e,t){var r=this;n.each(this.indices,function(t){e[t]=r._genMinIndexKey(e,t)});var i=r.db.transaction([r.dbName],"readwrite");i.oncomplete=function(e){},i.onerror=function(e){t(null,new Error(e.target.statusCode))},i.objectStore(r.dbName).add(e).onsuccess=function(e){t(!0)}},PersistentQuadBackend.prototype.range=function(e,t){var r=this.db.transaction([this.dbName]).objectStore(this.dbName),n=this._indexForPattern(e),i=this._genMinIndexKey(e,n),o=this._genMaxIndexKey(e,n),s=this.IDBKeyRange.bound(i,o,!1,!1),a=[];("SPOG"===n?r:r.index(n)).openCursor(s).onsuccess=function(e){var r=e.target.result;r?(a.push(r.value),r.continue()):t(a)}},PersistentQuadBackend.prototype.search=function(e,t){var r=this.db.transaction([this.dbName]).objectStore(this.dbName),n=this._genMinIndexKey(e,"SPOG"),i=r.get(n);i.onerror=function(e){t(null,new Error(e.target.statusCode))},i.onsuccess=function(e){t(null!=e.target.result)}},PersistentQuadBackend.prototype.delete=function(e,t){var r=this._genMinIndexKey(e,"SPOG"),n=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).delete(r);n.onsuccess=function(){t(!0)},n.onerror=function(e){t(null,new Error(e.target.statusCode))}},PersistentQuadBackend.prototype._genMinIndexKey=function(e,t){var r=this.componentOrders[t];return n.map(r,function(t){return"string"==typeof e[t]||null==e[t]?"0":e[t]}).join(".")},PersistentQuadBackend.prototype._genMaxIndexKey=function(e,t){for(var r=this.componentOrders[t],i=[],o=0;o<r.length;o++){var s=e[r[o]];i[o]="string"==typeof s?"z":s}return n.map(i,function(e){return""+e}).join(".")},PersistentQuadBackend.prototype._indexForPattern=function(e){var t=e.indexKey.sort().join("."),r=this.componentOrdersMap[t];if(null==r)throw new Error("Error, cannot find index for indexKey "+t);return r},PersistentQuadBackend.prototype.clear=function(e){var t;(t=this.db.transaction([this.dbName],"readwrite").objectStore(this.dbName).clear()).onsuccess=function(){e()},t.onerror=function(){e()}},t.exports.PersistentQuadBackend=PersistentQuadBackend},{"./utils":147}],138:[function(e,t,r){var n=e("./quad_index").QuadIndex,i=e("./utils");QuadBackend=function(e,t){this.indexMap={},this.treeOrder=e.treeOrder,this.indices=e.index||QuadBackend.allIndices,this.componentOrders=QuadBackend.componentOrders;var r=this;i.eachSeries(this.indices,function(e,t){new n({order:r.treeOrder,componentOrder:r.componentOrders[e]},function(n){r.indexMap[e]=n,t()})},function(){t(r)})},QuadBackend.allIndices=["SPOG","GP","OGS","POG","GSP","OS"],QuadBackend.componentOrders={SPOG:["subject","predicate","object","graph"],GP:["graph","predicate","subject","object"],OGS:["object","graph","subject","predicate"],POG:["predicate","object","graph","subject"],GSP:["graph","subject","predicate","object"],OS:["object","subject","predicate","graph"]},QuadBackend.prototype._indexForPattern=function(e){for(var t=e.indexKey,r=0;r<QuadBackend.allIndices.length;r++)for(var n=QuadBackend.allIndices[r],o=QuadBackend.componentOrders[n],s=0;s<o.length&&!1!==i.include(t,o[s]);s++)if(s==t.length-1)return n;return"SPOG"},QuadBackend.prototype.index=function(e,t){var r=this;i.eachSeries(this.indices,function(t,n){r.indexMap[t].insert(e,function(){n()})},function(){t(!0)})},QuadBackend.prototype.range=function(e,t){var r=this._indexForPattern(e),n=this.indexMap[r];null!=n&&n.range(e,function(e){t(e)})},QuadBackend.prototype.search=function(e,t){var r=this.indexMap.SPOG;null!=r&&r.search(e,function(e){t(null!=e)})},QuadBackend.prototype.delete=function(e,t){var r=this;i.eachSeries(this.indices,function(t,n){r.indexMap[t].delete(e,function(){n()})},function(){t(!0)})},QuadBackend.prototype.clear=function(e){var t=this;i.eachSeries(this.indices,function(e,r){new n({order:t.treeOrder,componentOrder:t.componentOrders[e]},function(n){t.indexMap[e]=n,r()})},function(){e(!0)})},t.exports.QuadBackend=QuadBackend},{"./quad_index":139,"./utils":147}],139:[function(e,t,r){var n=e("./btree").Tree,i=e("./utils"),o=e("./utils");NodeKey=function(e,t){this.subject=e.subject,this.predicate=e.predicate,this.object=e.object,this.graph=e.graph,this.order=t},NodeKey.prototype.comparator=function(e){for(var t=0;t<this.order.length;t++){var r=this.order[t];if(null==e[r])return 0;if(this[r]<e[r])return-1;if(this[r]>e[r])return 1}return 0},Pattern=function(e){this.subject=e.subject,this.predicate=e.predicate,this.object=e.object,this.graph=e.graph,this.indexKey=[],this.keyComponents={};var t=[],r=[],n=this;i.forEach(["subject","predicate","object","graph"],function(e){"string"==typeof n[e]?(r.push(e),n.keyComponents[e]=null):(t.push(e),n.keyComponents[e]=n[e],n.indexKey.push(e))}),this.order=t.concat(r),this.key=new NodeKey(this.keyComponents,this.order)},QuadIndex=function(e,t){0!=arguments&&(this.componentOrder=e.componentOrder,n.call(this,e.order,function(e){e.comparator=function(t,r){for(var n=0;n<e.componentOrder.length;n++){var i=e.componentOrder[n],o=t[i],s=r[i];if(o<s)return-1;if(o>s)return 1}return 0},e.rangeComparator=function(t,r){for(var n=0;n<e.componentOrder.length;n++){var i=e.componentOrder[n];if(null==r[i]||null==t[i])return 0;if(t[i]<r[i])return-1;if(t[i]>r[i])return 1}return 0},t(e)}))},QuadIndex.prototype=i.create(n.prototype,{constructor:n}),QuadIndex.prototype.insert=function(e,t){n.prototype.insert.call(this,e,null,function(e){t(e)})},QuadIndex.prototype.search=function(e,t){n.prototype.search.call(this,e,function(e){t(e)},!0)},QuadIndex.prototype.range=function(e,t){this._rangeTraverse(this,this.root,e,t)},QuadIndex.prototype._rangeTraverse=function(e,t,r,n){var i=r.key,s=[],a=[t];o.whilst(function(){return a.length>0},function(t){for(var r=a.shift(),n=0;n<r.numberActives&&-1===e.rangeComparator(r.keys[n].key,i);)n++;if(!0===r.isLeaf){for(var u=n;u<r.numberActives&&0===e.rangeComparator(r.keys[u].key,i);)s.push(r.keys[u].key),u++;t()}else e._diskRead(r.children[n],function(u){a.push(u);var l=n;o.whilst(function(){return l<r.numberActives&&0===e.rangeComparator(r.keys[l].key,i)},function(t){s.push(r.keys[l].key),l++,e._diskRead(r.children[l],function(e){a.push(e),t()})},function(){t()})})},function(){n(s)})},t.exports={QuadIndex:QuadIndex,Pattern:Pattern,NodeKey:NodeKey}},{"./btree":130,"./utils":147}],140:[function(e,t,r){var n=e("./abstract_query_tree").AbstractQueryTree,i=e("./abstract_query_tree").NonSupportedSparqlFeatureError,o=e("./utils"),s=e("./quad_index"),a=e("./query_plan").QueryPlan,u=e("./query_filters").QueryFilters,l=e("./rdf_model"),c=e("./rdf_loader").RDFLoader,f=e("./graph_callbacks").CallbacksBackend,p=e("./utils"),h=e("./utils");function d(e,t,r){this.name="BindExpressionError",this.bind=t,this.error=r,this.message=e}d.prototype=new Error,d.constructor=d,QueryEngine=function(e){0!=arguments.length&&(this.backend=e.backend,this.lexicon=e.lexicon,this.eventsOnBatchLoad=e.eventsOnBatchLoad||!1,this.defaultPrefixes={},this.abstractQueryTree=new n,this.rdfLoader=new c(e.communication),this.callbacksBackend=new f(this),this.customFns=e.customFns||{})},QueryEngine.prototype.setCustomFunctions=function(e){this.customFns=e},QueryEngine.prototype.registerNsInEnvironment=function(e,t){var r=[];null!=e&&null!=e.prefixes&&(r=e.prefixes);var n={};for(var i in this.defaultPrefixes)n[i]=this.defaultPrefixes[i];for(var o=0;o<r.length;o++){var s=r[o];"prefix"===s.token&&(n[s.prefix]=s.local)}t.namespaces=n,null!=e&&e.base&&"object"==typeof e.base?t.base=e.base.value:t.base=null},QueryEngine.prototype.applyModifier=function(e,t){if("DISTINCT"==e){for(var r={},n=[],i=0;i<t.length;i++){var o=t[i],s="";for(var a in o){var u=o[a];null==u?s=s+a+"null":"literal"==u.token?(null!=u.value&&(s+=u.value),null!=u.lang&&(s+=u.lang),null!=u.type&&(s+=u.type)):s=u.value?s+a+u.value:s+a+u}null==r[s]&&(n.push(o),r[s]=!0)}return n}return t},QueryEngine.prototype.applyLimitOffset=function(e,t,r){return null==t&&null==e?r:(null==e&&(e=0),t=null==t?r.length:e+t,r.slice(e,t))},QueryEngine.prototype.applySingleOrderBy=function(e,t,r,n,i){var o=[],s=this;p.eachSeries(e,function(e,i){u.collect(e.expression,[t],r,n,s,function(e){o.push(e[0].value),i()})},function(){i({binding:t,value:o})})},QueryEngine.prototype.applyOrderBy=function(e,t,r,n,i){var o=this,s=[];null!=e&&e.length>0?p.eachSeries(t,function(t,i){o.applySingleOrderBy(e,t,r,n,function(e){s.push(e),i()})},function(){s.sort(function(t,r){return o.compareFilteredBindings(t,r,e,n)});for(var t=[],r=0;r<s.length;r++)t.push(s[r].binding);i(t)}):i(t)},QueryEngine.prototype.compareFilteredBindings=function(e,t,r,n){for(var i=0;;){if(i==e.value.length)return 0;var o,s=r[i].direction;if(null!=e.value[i]||null!=t.value[i]){if(null==e.value[i])o={value:!1};else if(null==t.value[i])o={value:!0};else{if("blank"===e.value[i].token&&"blank"===t.value[i].token){i++;continue}if("blank"===e.value[i].token)o={value:!1};else if("blank"===t.value[i].token)o={value:!0};else if("uri"===e.value[i].token&&"uri"===t.value[i].token){if(1==u.runEqualityFunction(e.value[i],t.value[i],[],this,n).value){i++;continue}o=u.runTotalGtFunction(e.value[i],t.value[i],[])}else if("uri"===e.value[i].token)o={value:!1};else if("uri"===t.value[i].token)o={value:!0};else if("literal"===e.value[i].token&&"literal"===t.value[i].token&&null==e.value[i].type&&null==t.value[i].type){if(1==u.runEqualityFunction(e.value[i],t.value[i],[],this,n).value){i++;continue}o=u.runTotalGtFunction(e.value[i],t.value[i],[])}else if("literal"===e.value[i].token&&null==e.value[i].type)o={value:!1};else if("literal"===t.value[i].token&&null==t.value[i].type)o={value:!0};else{if(1==u.runEqualityFunction(e.value[i],t.value[i],[],this,n).value){i++;continue}o=u.runTotalGtFunction(e.value[i],t.value[i],[])}}return 1==o.value?"ASC"===s?1:-1:"ASC"===s?-1:1}i++}},QueryEngine.prototype.removeDefaultGraphBindings=function(e,t){for(var r=[],n={},i=0;i<t.named.length;i++)n[t.named[i].oid]=!0;for(i=0;i<t.implicit.length;i++)null==n[t.implicit[i].oid]&&r.push(t.implicit[i].oid);var o=[];for(i=0;i<e.length;i++){var s=e[i],a=!1;for(var u in s){for(var l=0;l<n.length;l++)if(s[u]===n[l]){a=!0;break}if(a)break}a||o.push(s)}return o},QueryEngine.prototype.aggregateBindings=function(e,t,r,n,i){this.copyDenormalizedBindings(t,n.outCache,function(t){for(var o={},s=0;s<e.length;s++){var a=u.runAggregator(e[s],t,this,r,n);e[s].alias?o[e[s].alias.value]=a:o[e[s].value.value]=a}i(o)})},QueryEngine.prototype.projectBindings=function(e,t,r){if("*"===e[0].kind)return t;for(var n=[],i=0;i<t.length;i++){for(var o=t[i],s={},a=!0,l=0;l<e.length;l++)if("variable"==e[l].token&&"aliased"!=e[l].kind)s[e[l].value.value]=o[e[l].value.value];else if("variable"==e[l].token&&"aliased"==e[l].kind){var c=u.runFilter(e[l].expression,o,this,r,{blanks:{},outCache:{}});if(u.isEbvError(c)){a=!1;break}s[e[l].alias.value]=c}!0===a&&n.push(s)}return n},QueryEngine.prototype.resolveNsInEnvironment=function(e,t){return t.namespaces[e]},QueryEngine.prototype.normalizeTerm=function(e,t,r,n){if("uri"===e.token){var i=o.lexicalFormBaseUri(e,t);null==i?n(null):r?this.lexicon.registerUri(i,n):this.lexicon.resolveUri(i,n)}else if("literal"===e.token){var s=o.lexicalFormLiteral(e,t);r?this.lexicon.registerLiteral(s,n):this.lexicon.resolveLiteral(s,n)}else if("blank"===e.token){var a=e.value,u=t.blanks[a];null!=u?n(u):r?this.lexicon.registerBlank(function(e){t.blanks[a]=e,n(e)}):this.lexicon.resolveBlank(function(e){t.blanks[a]=e,n(e)})}else"var"===e.token?n(e.value):n(null)},QueryEngine.prototype.normalizeDatasets=function(e,t,r){var n=this;p.eachSeries(e,function(e,r){e.value===n.lexicon.defaultGraphUri?(e.oid=n.lexicon.defaultGraphOid,r()):n.normalizeTerm(e,t,!1,function(t){null!=t&&(e.oid=t),r()})},function(){r(!0)})},QueryEngine.prototype.normalizeQuad=function(e,t,r,n){var i=null,s=null,a=null,u=null,l=this,c=!1;p.seq(function(n){if(null==e.graph||e.graph.value===l.lexicon.defaultGraphUri)u=0,n();else{var i=o.lexicalFormBaseUri(e.graph,t);l.normalizeTerm(e.graph,t,r,function(t){null!=t?(u=t,!0===r&&"var"!=e.graph.token?l.lexicon.registerGraph(t,i,function(){n()}):n()):(c=!0,n())})}},function(n){!1===c?l.normalizeTerm(e.subject,t,r,function(e){null!=e?(i=e,n()):(c=!0,n())}):n()},function(n){!1===c?l.normalizeTerm(e.predicate,t,r,function(e){null!=e?(s=e,n()):(c=!0,n())}):n()},function(n){!1===c?l.normalizeTerm(e.object,t,r,function(e){null!=e?(a=e,n()):(c=!0,n())}):n()})(function(){n(!0===c?null:{subject:i,predicate:s,object:a,graph:u})})},QueryEngine.prototype.denormalizeBindingsList=function(e,t,r){var n=this,i=[];p.eachSeries(e,function(e,r){n.denormalizeBindings(e,t,function(e){i.push(e),r()})},function(){r(i)})},QueryEngine.prototype.copyDenormalizedBindings=function(e,t,r){var n=this,i=[];p.eachSeries(e,function(e,r){var o={},s=h.keys(e);p.eachSeries(s,function(r,i){var s=e[r];if(null==s)o[r]=null,i();else if("object"==typeof s)o[r]=s,i();else{var a=t[s];null!=a?(o[r]=a,i()):n.lexicon.retrieve(s,function(e){t[s]=e,o[r]=e,i()})}},function(){i.push(o),r()})},function(){r(i)})},QueryEngine.prototype.denormalizeBindings=function(e,t,r){var n=h.keys(e),i=t.outCache,o=this;p.eachSeries(n,function(r,n){var s=e[r];null==s?(e[r]=null,n()):"object"==typeof s?n():null!=i[s]?(e[r]=i[s],n()):o.lexicon.retrieve(s,function(i){e[r]=i,"blank"===i.token&&(t.blanks[i.value]=s),n()})},function(){r(e)})},QueryEngine.prototype.execute=function(e,t,r,n){e=o.normalizeUnicodeLiterals(e);var i=this.abstractQueryTree.parseQueryString(e);if(null==i)t(!1,"Error parsing query string");else if("query"===i.token&&"update"==i.kind){this.callbacksBackend.startGraphModification();var s=this;this.executeUpdate(i,function(e,r){s.lexicon.updateAfterWrite&&s.lexicon.updateAfterWrite(),e?(s.callbacksBackend.cancelGraphModification(),t(e,r)):s.callbacksBackend.endGraphModification(function(){t(e,r)})})}else"query"===i.token&&"query"==i.kind&&this.executeQuery(i,t,r,n)},QueryEngine.prototype.executeQuery=function(e,t,r,n){var i=e.prologue,o=e.units,s=this,a={blanks:{},outCache:{}};this.registerNsInEnvironment(i,a);var u=s.abstractQueryTree.parseExecutableUnit(o[0]);"select"===u.kind?this.executeSelect(u,a,r,n,function(e,r){null==e?"object"==typeof r&&!0===r.denorm?t(null,r.bindings):s.denormalizeBindingsList(r,a,function(e){t(null,e)}):t(e)}):"ask"===u.kind?(u.projection=[{token:"variable",kind:"*"}],this.executeSelect(u,a,r,n,function(e,r){null==e?r.length>0?t(null,!0):t(null,!1):t(e)})):"construct"===u.kind&&(u.projection=[{token:"variable",kind:"*"}],s=this,this.executeSelect(u,a,r,n,function(e,r){null==e?s.denormalizeBindingsList(r,a,function(e){if(null!=e){var r=new l.Graph;null==u.template&&(u.template={triplesContext:u.pattern});for(var n=1,i=[],o=0;o<e.length;o++){for(var c=e[o],f=0;f<i.length;f++)delete i[f].valuetmp;for(f=0;f<u.template.triplesContext.length;f++){for(var p=["subject","predicate","object"],h=u.template.triplesContext[f],d=0;d<p.length;d++){var y=p[d];if("blank"===h[y].token)if(h[y].valuetmp&&null!=h[y].valuetmp);else{var v="_:b"+n;n++,h[y].valuetmp=v,i.push(h[y])}}var g=l.buildRDFResource(h.subject,c,s,a),b=(d=l.buildRDFResource(h.predicate,c,s,a),l.buildRDFResource(h.object,c,s,a));if(null!=g&&null!=d&&null!=b){var m=new l.Triple(g,d,b);r.add(m)}}}t(null,r)}else t(new Error("Error denormalizing bindings."))}):t(e)}))},QueryEngine.prototype.executeSelect=function(e,t,r,n,i){if("select"===e.kind||"ask"===e.kind||"construct"===e.kind||"modify"===e.kind){var o=e.projection,s=e.dataset,a=e.modifier,u=e.limit,l=e.offset,c=e.order,f=this;null==r&&null==n||(s.implicit=r||[],s.named=n||[]),null!=s.implicit&&0===s.implicit.length&&null!=s.named&&0===s.named.length&&s.implicit.push(this.lexicon.defaultGraphUriTerm),f.normalizeDatasets(s.implicit.concat(s.named),t,function(){try{f.executeSelectUnit(o,s,e.pattern,t,function(r){if(null!=r){if(null!=e.group&&""===e.group){for(var n=!1,h=0;h<e.projection.length;h++)if(null!=e.projection[h].expression&&"aggregate"===e.projection[h].expression.expressionType){n=!0;break}!0===n&&(e.group="singleGroup")}e.group&&""!=e.group?f.checkGroupSemantics(e.group,o)?f.groupSolution(r,e.group,s,t,function(e){var r=[];p.eachSeries(e,function(e,n){f.aggregateBindings(o,e,s,t,function(e){r.push(e),n()})},function(){i(null,{bindings:r,denorm:!0})})}):i(new Error("Incompatible Group and Projection variables")):f.applyOrderBy(c,r,s,t,function(e){var t=f.projectBindings(o,e,s),r=f.applyModifier(a,t),n=f.applyLimitOffset(l,u,r),c=f.removeDefaultGraphBindings(n,s);i(null,c)})}else i(new Error("Error executing SELECT query."))})}catch(e){i(e)}})}else i(new Error("Cannot execute "+e.kind+" query as a select query"))},QueryEngine.prototype.groupSolution=function(e,t,r,n,i){var o=[],s=[],a=!1,l=this;"singleGroup"===t?i([e]):p.eachSeries(e,function(e,i){var c=!0;p.eachSeries(t,function(t,i){var s=null;if("var"===t.token)s=t.value,0==a&&o.push(s),i();else if("aliased_expression"===t.token){if(s=t.alias.value,0==a&&o.push(s),"var"===t.expression.primaryexpression)e[t.alias.value]=e[t.expression.value.value];else{var f=l.copyDenormalizedBindings([e],n.outCache),p=u.runFilter(t.expression,f[0],l,r,n);u.isEbvError(p)?c=!1:(null!=p.value&&(p.value=""+p.value),e[t.alias.value]=p)}i()}else l.copyDenormalizedBindings([e],n.outCache,function(r){var f=u.runFilter(t,r[0],l,n);u.isEbvError(f)?c=!1:(e["groupCondition"+env._i]=f,s="groupCondition"+env._i,0==a&&o.push(s)),i()})},function(){0==a&&(a=!0),!0===c&&s.push(e),i()})},function(){for(var e={},t={},r=0;r<s.length;r++){for(var n=s[r],a="",u=0;u<o.length;u++){var l=n[o[u]];a+="object"==typeof l?l.value:l}null==e[a]?(t[a]=0,e[a]=[n]):e[a].push(n)}var c=[];for(var f in e)c.push(e[f]);i(c)})},QueryEngine.prototype.executeSelectUnit=function(e,t,r,n,o){if("BGP"===r.kind)this.executeAndBGP(e,t,r,n,o);else if("UNION"===r.kind)this.executeUNION(e,t,r.value,n,o);else if("JOIN"===r.kind)this.executeJOIN(e,t,r,n,o);else if("LEFT_JOIN"===r.kind)this.executeLEFT_JOIN(e,t,r,n,o);else if("FILTER"===r.kind){var s=this;this.executeSelectUnit(e,t,r.value,n,function(e){null!=e?u.checkFilters(r,e,!1,t,n,s,o):o([])})}else{if("EMPTY_PATTERN"!==r.kind)throw new i(r.kind);o([])}},QueryEngine.prototype.executeUNION=function(e,t,r,n,i){var o,s,l=r[0],c=r[1],f=null;if(2!=r.length)throw"SPARQL algebra UNION with more than two components";var h=this;p.seq(function(r){try{h.executeSelectUnit(e,t,l,n,function(e){o=e,r()})}catch(e){f=e,r()}},function(r){if(null==f)try{h.executeSelectUnit(e,t,c,n,function(e){s=e,r()})}catch(e){f=e,r()}else r()})(function(){if(null!=f)i(f);else{var e=a.unionBindings(o,s);h.runBinds(r.binds,e,t,n,function(e,o){if(null!=e)throw new d("Error processing bind expressions",r.binds,e);u.checkFilters(r,o,!1,t,n,h,i)})}})},QueryEngine.prototype.executeAndBGP=function(e,t,r,n,i){var o=this;a.executeAndBGPsDPSize(r.value,t,this,n,function(e){null!=e?o.runBinds(r.binds,e,t,n,function(e,s){if(null!=e)throw new d("Error processing bind expressions",r.binds,e);u.checkFilters(r,s,!1,t,n,o,i)}):i(null)})},QueryEngine.prototype.executeLEFT_JOIN=function(e,t,r,n,i){var o=r.lvalue,s=r.rvalue;if("EMPTY_PATTERN"===o.kind)this.executeSelectUnit(e,t,s,n,i);else{var l,c,f=null,h=null,y=null,v=this;p.seq(function(r){try{v.executeSelectUnit(e,t,o,n,function(e){f=e,r()})}catch(e){y=e,r()}},function(r){if(null!=y)r();else try{v.executeSelectUnit(e,t,s,n,function(e){h=e,r()})}catch(e){y=e,r()}})(function(){if(null!=y)i(y);else{var e=a.leftOuterJoinBindings(f,h);v.runBinds(r.binds,e,t,n,function(o,s){if(null!=o)throw new d("Error processing bind expressions",r.binds,o);u.checkFilters(r,e,!0,t,n,v,function(e){if(f.length>1&&h.length>1){var t=[],r={};for(var n in f[0])r[n]=!0;for(n in h[0])1!=r[n]&&t.push(n);l=[],c={};for(var o=0;o<e.length;o++)if(!0===e[o].__nullify__){for(var s=0;s<t.length;s++)e[o].bindings[t[s]]=null;var a=[],u=[];for(var n in e[o].bindings)null!=e[o].bindings[n]&&(a.push(n+e[o].bindings[n]),a.sort(),u.push(a.join("")));if(null==c[a.join("")]){for(s=0;s<u.length;s++)c[u[s]]=!0;l.push(e[o].bindings)}}else{l.push(e[o]);a=[],u=[];for(var n in e[o])a.push(n+e[o][n]),a.sort(),c[a.join("")]=!0}i(l)}else i(e)})})}})}},QueryEngine.prototype.executeJOIN=function(e,t,r,n,i){var o=r.lvalue,s=r.rvalue,l=null,c=null,f=null,h=this;p.seq(function(r){try{h.executeSelectUnit(e,t,o,n,function(e){l=e,r()})}catch(e){f=e,r()}},function(r){if(null!=f)r();else try{h.executeSelectUnit(e,t,s,n,function(e){c=e,r()})}catch(e){f=e,r()}})(function(){var e=null;if(null!=f)i(f);else if(0===l.length||0===c.length)i([]);else{var p={},y=[];for(var v in l[0])p[v]=!1;for(var v in c[0])!1===p[v]&&y.push(v);e=0==y.length?a.joinBindings(l,c):h.abstractQueryTree.treeWithUnion(o)||h.abstractQueryTree.treeWithUnion(s)?a.joinBindings(l,c):a.joinBindings2(y,l,c),h.runBinds(r.binds,e,t,n,function(e,o){if(null!=e)throw new d("Error processing bind expressions",r.binds,e);u.checkFilters(r,o,!1,t,n,h,i)})}})},QueryEngine.prototype.rangeQuery=function(e,t,r){var n=this;n.normalizeQuad(e,t,!1,function(e){null!=e?n.backend.range(new s.Pattern(e),function(e){null==e||0==e.length?r([]):r(e)}):r(null)})},QueryEngine.prototype.executeUpdate=function(e,t){var r=e.prologue,n=e.units,i=this,s={blanks:{},outCache:{}};this.registerNsInEnvironment(r,s);for(var a=0;a<n.length;a++){var u=i.abstractQueryTree.parseExecutableUnit(n[a]);if("insertdata"===u.kind){var l=null;p.eachSeries(u.quads,function(e,t){null===l?i._executeQuadInsert(e,s,function(e){null!=e&&(l=e),t()}):t()},function(){null===l?t(null,!0):t(l)})}else if("deletedata"===u.kind){l=null;p.eachSeries(u.quads,function(e,t){null===l?i._executeQuadDelete(e,s,function(e){null!=e&&(l=e),t()}):t()},function(){null===l?t(null,!0):t(l)})}else if("modify"===u.kind)this._executeModifyQuery(u,s,t);else if("create"===u.kind)t(!0);else if("load"===u.kind){var c={uri:o.lexicalFormBaseUri(u.sourceGraph,s)};null!=u.destinyGraph&&(c={uri:o.lexicalFormBaseUri(u.destinyGraph,s)});i=this;this.rdfLoader.load(u.sourceGraph.value,c,function(e,r){e?t(new Error("error batch loading quads")):i.batchLoad(r,function(e){null!==e?t(null,e):t(new Error("Error batch loading quads"))})})}else if("drop"===u.kind)this._executeClearGraph(u.destinyGraph,s,t);else{if("clear"!==u.kind)throw new Error("not supported execution unit");this._executeClearGraph(u.destinyGraph,s,t)}}},QueryEngine.prototype.batchLoad=function(e,t){var r=0,n={},i=this;this.eventsOnBatchLoad&&this.callbacksBackend.startGraphModification();p.eachSeries(e,function(e,t){var o={};p.eachSeries(["subject","predicate","object","graph"],function(t,r){!function(e,t,r,o){var s;if(e[t].uri||"uri"===e[t].token){var a=e[t].uri||e[t].value;i.lexicon.registerUri(a,function(n){var s=function(){null!=e[t].uri&&(e[t]={token:"uri",value:e[t].uri},delete e[t].uri),r[t]=n,o()};"graph"===t?i.lexicon.registerGraph(n,a,function(){s()}):s()})}else e[t].literal||"literal"===e[t].token?i.lexicon.registerLiteral(e[t].literal||e[t].value,function(n){null!=e[t].literal&&(e[t]=i.lexicon.parseLiteral(e[t].literal),delete e[t].literal),r[t]=n,o()}):null==(s=n[e[t].blank||e[t].value])?i.lexicon.registerBlank(function(i){n[e[t].blank||e[t].value]=i,null==e[t].token&&(e[t].token="blank",e[t].value=e[t].blank,delete e[t].blank),r[t]=i,o()}):(null==e[t].token&&(e[t].token="blank",e[t].value=e[t].blank,delete e[t].blank),r[t]=s,o())}(e,t,o,r)},function(){var n=e;e=o;var a=new s.NodeKey(e);i.backend.search(a,function(o){o?t():i.backend.index(a,function(o){o&&(i.eventsOnBatchLoad&&i.callbacksBackend.nextGraphModification(f.added,[n,e]),r+=1),t()})})})},function(){null!=i.lexicon.updateAfterWrite&&i.lexicon.updateAfterWrite();var e=function(){t(r)};i.eventsOnBatchLoad?i.callbacksBackend.endGraphModification(e()):e()})},QueryEngine.prototype._executeModifyQuery=function(e,t,r){var n=this,i=!0,o=new Error("Error executing modify query"),s=null,a=["subject","predicate","object","graph"];e.insert=null==e.insert?[]:e.insert,e.delete=null==e.delete?[]:e.delete,p.seq(function(r){var a=[],u=[];if(null!=e.with&&a.push(e.with),null!=e.using){u=[];for(var l=0;l<e.using.length;l++){var c=e.using[l];"named"===c.kind?u.push(c.uri):a.push(c.uri)}}e.dataset={},e.projection=[{token:"variable",kind:"*"}],n.executeSelect(e,t,a,u,function(e,a){if(e)return o=e,i=!1,r();n.denormalizeBindingsList(a,t,function(e){null!=e?s=e:(o=new Error("Error denormalizing bindings list"),i=!1),r()})})},function(r){var o=e.with;if(i){for(var u=[],l=0;l<e.delete.length;l++)for(var c=e.delete[l],f=0;f<s.length;f++){for(var h={},d=s[f],y=0;y<a.length;y++){var v=a[y];"graph"==v&&null==c[v]?h.graph=o:"var"===c[v].token?h[v]=d[c[v].value]:h[v]=c[v]}u.push(h)}p.eachSeries(u,function(e,r){n._executeQuadDelete(e,t,function(){r()})},function(){r()})}else r()},function(r){var o=e.with;if(i){for(var u=[],l=0;l<e.insert.length;l++)for(var c=e.insert[l],f=0;f<s.length;f++){for(var h={},d=s[f],y=0;y<a.length;y++){var v=a[y];"graph"==v&&null==c[v]?h.graph=o:"var"===c[v].token?h[v]=d[c[v].value]:h[v]=c[v]}u.push(h)}p.eachSeries(u,function(e,r){n._executeQuadInsert(e,t,function(){r()})},function(){r()})}else r()})(function(){r(i?null:o)})},QueryEngine.prototype._executeQuadInsert=function(e,t,r){var n,i=this,o=!1,a=null;p.seq(function(r){i.normalizeQuad(e,t,!0,function(e){null!=e?n=e:(o=!0,a="Error normalizing quad."),r()})},function(t){if(!1===o){var r=new s.NodeKey(n);i.backend.search(r,function(o){!0===o?t():i.backend.index(r,function(){i.callbacksBackend.nextGraphModification(f.added,[e,n]),t()})})}else t()})(function(){o?r(new Error(a)):r(null,!0)})},QueryEngine.prototype._executeQuadDelete=function(e,t,r){var n,i,o,a=this,u=!1;p.seq(function(r){a.normalizeQuad(e,t,!0,function(e){null!=e?n=e:(u=!0,i="Error normalizing quad."),r()})},function(e){!1===u?(o=new s.NodeKey(n),a.backend.delete(o,function(){e()})):e()},function(t){!1===u?a.lexicon.unregister(e,o,function(){a.callbacksBackend.nextGraphModification(f.deleted,[e,n]),t()}):t()})(function(){u?r(new Error(i)):r(null,!0)})},QueryEngine.prototype._executeClearGraph=function(e,t,r){var n=this;if("default"===e)this.execute("DELETE { ?s ?p ?o } WHERE { ?s ?p ?o }",r);else if("named"===e)n.lexicon.registeredGraphs(!0,function(e){if(null!=e){var t=!1;p.eachSeries(e,function(e,r){t?r():n.execute("DELETE { GRAPH <"+e+"> { ?s ?p ?o } } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",function(i,o){i?(t=i,r()):n.lexicon.resolveUri(e,function(i){-1!=i?n.lexicon.knownGraphs.delete(i,function(){r()}):(t="Cannot find graph "+e+" to clear it",r())})})},function(){r(!t)})}else r(!1,"Error deleting named graphs")});else if("all"===e){n=this;this.execute("CLEAR DEFAULT",function(e,t){e?r(!1,t):n.execute("CLEAR NAMED",r)})}else if("uri"==e.token){var i=o.lexicalFormBaseUri(e,t);null!=i?(this.callbacksBackend.ongoingModification=!0,this.execute("DELETE { GRAPH <"+i+"> { ?s ?p ?o } } WHERE { GRAPH <"+i+"> { ?s ?p ?o } }",function(e){n.callbacksBackend.ongoingModification=!1,r(e)})):r(!1,"wrong graph URI")}else r(!1,"wrong graph URI")},QueryEngine.prototype.checkGroupSemantics=function(e,t){if("singleGroup"===e)return!0;for(var r={},n=0;n<e.length;n++){var i=e[n];"var"===i.token?r[i.value]=!0:"aliased_expression"===i.token&&(r[i.alias.value]=!0)}for(n=0;n<t.length;n++){var o=t[n];if("var"===o.kind){if(null==r[o.value.value])return!1}else if("aliased"===o.kind&&o.expression&&"var"===o.expression.primaryexpression&&null==r[o.expression.value.value])return!1}return!0},QueryEngine.prototype.runBinds=function(e,t,r,n,i){var o=this,s=t;null!=e&&e.length>0?o.copyDenormalizedBindings(t,n.outCache,function(a){for(var l=0;l<t.length;l++)for(var c=0;c<e.length;c++){var f=e[c],p=a[l],h=u.runFilter(f.expression,p,o,r,n);u.isEbvError(h)?i(h):s[l][f.as.value]=h}i(null,t)}):i(null,t)},QueryEngine.prototype.computeCosts=function(e,t,r){for(var n=0;n<e.length;n++)e[n]._cost=this.quadCost(e[n],t);r(e)},QueryEngine.prototype.quadCost=function(e,t){return 1},QueryEngine.prototype.registerDefaultNamespace=function(e,t){this.defaultPrefixes[e]=t},t.exports={QueryEngine:QueryEngine}},{"./abstract_query_tree":129,"./graph_callbacks":131,"./quad_index":139,"./query_filters":141,"./query_plan":142,"./rdf_loader":143,"./rdf_model":144,"./utils":147}],141:[function(e,t,r){var n=e("./utils"),i=n,o=e("./utils");QueryFilters={};var s="http://www.w3.org/2001/XMLSchema#";QueryFilters.checkFilters=function(e,t,r,n,i,s,a){var u=[];e.filter&&"function"!=typeof e.filter&&(u=e.filter);var l=[];if(null==u||0===u.length||null!=e.length)return a(t);QueryFilters.preprocessExistentialFilters(u,t,s,n,i,function(e){o.eachSeries(e,function(e,o){QueryFilters.run(e.value,t,r,n,i,s,function(e){for(var r=[],n=0;n<e.length;n++){var i=e[n];null!=i.__nullify__?l.push(i):r.push(i)}t=r,o()})},function(){a(t.concat(l))})})},QueryFilters.preprocessExistentialFilters=function(e,t,r,n,s,a){var u=[];o.eachSeries(e,function(e,a){if("builtincall"!==e.value.expressionType||"exists"!==e.value.builtincall&&"notexists"!==e.value.builtincall)if("conditionalor"===e.value.expressionType||"conditionaland"===e.value.expressionType){var l=i.map(e.value.operands,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.operands=t.map(function(e){return e.value}),u.push(e),a()})}else if("multiplicativeexpression"===e.value.expressionType){l=i.map(e.value.factors,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.factors=t.map(function(e){return e.value}),u.push(e),a()})}else if("additiveexpression"===e.value.expressionType){l=i.map(e.value.summands,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.summands=t.map(function(e){return e.value}),u.push(e),a()})}else if("relationalexpression"===e.value.expressionType){l=[{value:e.value.op1},{value:e.value.op2}];QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.op1=t[0].value,e.value.op2=t[1].value,u.push(e),a()})}else if("irireforfunction"===e.value.expressionType||"custom"===e.value.expressionType)if(null!=e.value.args){l=i.map(e.value.args,function(e){return{value:e}});QueryFilters.preprocessExistentialFilters(l,t,r,n,s,function(t){e.value.args=t.map(function(e){return e.value}),u.push(e),a()})}else u.push(e),a();else u.push(e),a();else{var c=e.value.builtincall,f=e.value.args,p={};r.copyDenormalizedBindings(t,s.outCache,function(t){o.eachSeries(t,function(e,t){var o=i.clone(f[0],!0),a=r.abstractQueryTree.parseSelect({pattern:o},e);a=r.abstractQueryTree.bind(a.pattern,e),r.executeSelectUnit([{kind:"*"}],n,a,s,function(r){var n=null;n="exists"===c?QueryFilters.ebvBoolean(0!==r.length):QueryFilters.ebvBoolean(0===r.length);var i=[];for(var o in e)i.push(JSON.stringify(e[o]));i=i.sort().join(""),p[i]=n,t()})},function(){e.value.origArgs=e.value.args,e.value.args=p,u.push(e),a()})})}},function(){a(u)})},QueryFilters.boundVars=function(e){if(null==e.expressionType)throw"Cannot find bound expressions in a no expression token";var t=e.expressionType;if("relationalexpression"==t){var r=e.op1,n=e.op2;return QueryFilters.boundVars(r)+QueryFilters.boundVars(n)}if("conditionalor"==t||"conditionaland"==t){for(var i=[],o=0;o<e.operands;o++)i=i.concat(QueryFilters.boundVars(e.operands[o]));return i}if("builtincall"==t){if(null==e.args)return[];var s=[];for(o=0;o<e.args.length;o++)s=s.concat(QueryFilters.boundVars(e.args[o]));return s}if("multiplicativeexpression"==t){var s=QueryFilters.boundVars(e.factor);for(o=0;o<e.factors.length;o++)s=s.concat(QueryFilters.boundVars(e.factors[o].expression));return s}if("additiveexpression"==t){for(s=QueryFilters.boundVars(e.summand),o=0;o<e.summands.length;o++)s=s.concat(QueryFilters.boundVars(e.summands[o].expression));return s}return"regex"==t?(s=QueryFilters.boundVars(e.expression1)).concat(QueryFilters.boundVars(e.expression2)):"unaryexpression"==t?QueryFilters.boundVars(e.expression):"atomic"==t?"var"==e.primaryexpression?[e.value]:[]:void 0},QueryFilters.run=function(e,t,r,n,i,o,s){o.copyDenormalizedBindings(t,i.outCache,function(a){for(var u=[],l=0;l<t.length;l++){var c=a[l],f=QueryFilters.runFilter(e,c,o,n,i);f=QueryFilters.ebv(f);if(QueryFilters.isEbvError(f)){if(r){var p={__nullify__:!0,bindings:t[l]};u.push(p)}}else if(!0===f)u.push(t[l]);else if(r){p={__nullify__:!0,bindings:t[l]};u.push(p)}}s(u)})},QueryFilters.collect=function(e,t,r,n,i,o){i.copyDenormalizedBindings(t,n.outCache,function(s){for(var a=[],u=0;u<s.length;u++){var l=s[u],c=QueryFilters.runFilter(e,l,i,r,n);a.push({binding:t[u],value:c})}return o(a)})},QueryFilters.runDistinct=function(e,t){},QueryFilters.runAggregator=function(e,t,r,i,o){if(null==t||0===t.length)return QueryFilters.ebvError();if("variable"===e.token&&"var"==e.kind)return t[0][e.value.value];if("variable"===e.token&&"aliased"===e.kind){if("atomic"===e.expression.expressionType&&"var"===e.expression.primaryexpression)return t[0][e.expression.value.value];if("aggregate"===e.expression.expressionType){if("max"===e.expression.aggregateType){for(var a=null,u=0;u<t.length;u++){var l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);QueryFilters.isEbvError(c)||(null===a?a=c:!0===QueryFilters.runLtFunction(a,c).value&&(a=c))}return null===a?QueryFilters.ebvError():a}if("min"===e.expression.aggregateType){var f=null;for(u=0;u<t.length;u++){l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);QueryFilters.isEbvError(c)||(null===f?f=c:!0===QueryFilters.runGtFunction(f,c).value&&(f=c))}return null===f?QueryFilters.ebvError():f}if("count"===e.expression.aggregateType){var p={},h=0;if("*"===e.expression.expression)if(null!=e.expression.distinct&&""!=e.expression.distinct)for(u=0;u<t.length;u++){l=t[u];null==p[v=n.hashTerm(l)]&&(p[v]=!0,h++)}else h=t.length;else for(u=0;u<t.length;u++){l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);if(!QueryFilters.isEbvError(c))if(null!=e.expression.distinct&&""!=e.expression.distinct)null==p[v=n.hashTerm(c)]&&(p[v]=!0,h++);else h++}return{token:"literal",type:s+"integer",value:""+h}}if("avg"===e.expression.aggregateType){p={};var d={token:"literal",type:s+"integer",value:"0"};for(h=0,u=0;u<t.length;u++){l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);if(!QueryFilters.isEbvError(c))if(null!=e.expression.distinct&&""!=e.expression.distinct)null==p[v=n.hashTerm(c)]&&(p[v]=!0,QueryFilters.isNumeric(c)&&(d=QueryFilters.runSumFunction(d,c),h++));else QueryFilters.isNumeric(c)&&(d=QueryFilters.runSumFunction(d,c),h++)}var y=QueryFilters.runDivFunction(d,{token:"literal",type:s+"integer",value:""+h});return y.value=""+y.value,y}if("sum"===e.expression.aggregateType){for(p={},d={token:"literal",type:s+"integer",value:"0"},u=0;u<t.length;u++){var v;l=t[u],c=QueryFilters.runFilter(e.expression.expression,l,r,i,o);if(!QueryFilters.isEbvError(c))if(null!=e.expression.distinct&&""!=e.expression.distinct)null==p[v=n.hashTerm(c)]&&(p[v]=!0,QueryFilters.isNumeric(c)&&(d=QueryFilters.runSumFunction(d,c)));else QueryFilters.isNumeric(c)&&(d=QueryFilters.runSumFunction(d,c))}return d.value=""+d.value,d}return c=QueryFilters.runFilter(aggregate.expression,t[0],i,{blanks:{},outCache:{}})}}},QueryFilters.runFilter=function(e,t,r,i,o){if(null!=e.expressionType){var s=e.expressionType;if("relationalexpression"==s){var a=QueryFilters.runFilter(e.op1,t,r,i,o),u=QueryFilters.runFilter(e.op2,t,r,i,o);return QueryFilters.runRelationalFilter(e,a,u,t,r,i,o)}if("conditionalor"==s)return QueryFilters.runOrFunction(e,t,r,i,o);if("conditionaland"==s)return QueryFilters.runAndFunction(e,t,r,i,o);if("additiveexpression"==s)return QueryFilters.runAddition(e.summand,e.summands,t,r,i,o);if("builtincall"==s)return QueryFilters.runBuiltInCall(e.builtincall,e.args,t,r,i,o);if("multiplicativeexpression"==s)return QueryFilters.runMultiplication(e.factor,e.factors,t,r,i,o);if("unaryexpression"==s)return QueryFilters.runUnaryExpression(e.unaryexpression,e.expression,t,r,i,o);if("irireforfunction"==s)return QueryFilters.runIriRefOrFunction(e.iriref,e.args,t,r,i,o);if("regex"==s)return QueryFilters.runRegex(e.text,e.pattern,e.flags,t,r,i,o);if("custom"==s)return QueryFilters.runBuiltInCall(e.name,e.args,t,r,i,o);if("atomic"==s)return"var"==e.primaryexpression?t[e.value.value]:"object"!=typeof e.value?e.value:null==e.value.type||"object"!=typeof e.value.type?e.value:(e.value.type=n.lexicalFormBaseUri(e.value.type,o),e.value);throw"Unknown filter expression type"}throw"Cannot find bound expressions in a no expression token"},QueryFilters.isRDFTerm=function(e){return null!=e&&!!(e.token&&"literal"==e.token||e.token&&"uri"==e.token||e.token&&"blank"==e.token)},QueryFilters.RDFTermEquality=function(e,t,r,i){return"literal"===e.token&&"literal"===t.token?e.lang==t.lang&&e.type==t.type&&e.value==t.value||(null!=e.type&&null!=t.type?QueryFilters.ebvError():QueryFilters.isSimpleLiteral(e)&&null!=t.type?QueryFilters.ebvError():!(!QueryFilters.isSimpleLiteral(t)||null==e.type)&&QueryFilters.ebvError()):"uri"===e.token&&"uri"===t.token?n.lexicalFormBaseUri(e,i)==n.lexicalFormBaseUri(t,i):"blank"===e.token&&"blank"===t.token&&e.value==t.value},QueryFilters.isInteger=function(e){return null!=e&&("literal"===e.token&&(e.type==s+"integer"||e.type==s+"decimal"||e.type==s+"double"||e.type==s+"nonPositiveInteger"||e.type==s+"negativeInteger"||e.type==s+"long"||e.type==s+"int"||e.type==s+"short"||e.type==s+"byte"||e.type==s+"nonNegativeInteger"||e.type==s+"unsignedLong"||e.type==s+"unsignedInt"||e.type==s+"unsignedShort"||e.type==s+"unsignedByte"||e.type==s+"positiveInteger"))},QueryFilters.isFloat=function(e){return null!=e&&("literal"===e.token&&e.type==s+"float")},QueryFilters.isDecimal=function(e){return null!=e&&("literal"===e.token&&e.type==s+"decimal")},QueryFilters.isDouble=function(e){return null!=e&&("literal"===e.token&&e.type==s+"double")},QueryFilters.isNumeric=function(e){return null!=e&&("literal"===e.token&&(e.type==s+"integer"||e.type==s+"decimal"||e.type==s+"float"||e.type==s+"double"||e.type==s+"nonPositiveInteger"||e.type==s+"negativeInteger"||e.type==s+"long"||e.type==s+"int"||e.type==s+"short"||e.type==s+"byte"||e.type==s+"nonNegativeInteger"||e.type==s+"unsignedLong"||e.type==s+"unsignedInt"||e.type==s+"unsignedShort"||e.type==s+"unsignedByte"||e.type==s+"positiveInteger"))},QueryFilters.isSimpleLiteral=function(e){return!(!e||"literal"!=e.token)&&(null==e.type&&null==e.lang)},QueryFilters.isXsdType=function(e,t){return!(!t||"literal"!=t.token)&&t.type==s+""+e},QueryFilters.ebv=function(e){if(null==e||QueryFilters.isEbvError(e))return QueryFilters.ebvError();if(e.token&&"literal"===e.token){if(e.type==s+"integer"||e.type==s+"decimal"||e.type==s+"double"||e.type==s+"nonPositiveInteger"||e.type==s+"negativeInteger"||e.type==s+"long"||e.type==s+"int"||e.type==s+"short"||e.type==s+"byte"||e.type==s+"nonNegativeInteger"||e.type==s+"unsignedLong"||e.type==s+"unsignedInt"||e.type==s+"unsignedShort"||e.type==s+"unsignedByte"||e.type==s+"positiveInteger"){var t=parseFloat(e.value);return!isNaN(t)&&0!=parseFloat(e.value)}return e.type===s+"boolean"?"true"===e.value||!0===e.value||"True"===e.value:e.type===s+"string"?""!=e.value:e.type===s+"dateTime"?null!=new Date(e.value):QueryFilters.isEbvError(e)?e:null==e.type?""!=e.value:QueryFilters.ebvError()}return!0===e.value},QueryFilters.effectiveBooleanValue=QueryFilters.ebv,QueryFilters.ebvTrue=function(){return{token:"literal",type:s+"boolean",value:!0}},QueryFilters.ebvFalse=function(){return{token:"literal",type:s+"boolean",value:!1}},QueryFilters.ebvError=function(){return{token:"literal",type:"https://github.com/antoniogarrote/js-tools/types#error",value:null}},QueryFilters.isEbvError=function(e){return"object"==typeof e&&null!=e&&"https://github.com/antoniogarrote/js-tools/types#error"===e.type},QueryFilters.ebvBoolean=function(e){return QueryFilters.isEbvError(e)?e:!0===e?QueryFilters.ebvTrue():QueryFilters.ebvFalse()},QueryFilters.runRelationalFilter=function(e,t,r,n,i,o,s){var a=e.operator;if("="===a)return QueryFilters.runEqualityFunction(t,r,n,i,o,s);if("!="===a){var u=QueryFilters.runEqualityFunction(t,r,n,i,o,s);return QueryFilters.isEbvError(u)?u:(u.value=!u.value,u)}if("<"===a)return QueryFilters.runLtFunction(t,r,n);if(">"===a)return QueryFilters.runGtFunction(t,r,n);if("<="===a)return QueryFilters.runLtEqFunction(t,r,n);if(">="===a)return QueryFilters.runGtEqFunction(t,r,n);throw"Error applying relational filter, unknown operator"},QueryFilters.effectiveTypeValue=function(e){if("literal"!=e.token)throw console.log("not implemented yet"),console.log(e),"value not supported in operations yet";if(e.type==s+"integer")return parseInt(e.value);if(e.type==s+"decimal")return parseFloat(e.value);if(e.type==s+"float")return parseFloat(e.value);if(e.type==s+"double")return parseFloat(e.value);if(e.type==s+"nonPositiveInteger")return parseFloat(e.value);if(e.type==s+"negativeInteger")return parseInt(e.value);if(e.type==s+"long")return parseInt(e.value);if(e.type==s+"int")return parseInt(e.value);if(e.type==s+"short")return parseInt(e.value);if(e.type==s+"byte")return parseInt(e.value);if(e.type==s+"nonNegativeInteger")return parseInt(e.value);if(e.type==s+"unsignedLong")return parseInt(e.value);if(e.type==s+"unsignedInt")return parseInt(e.value);if(e.type==s+"unsignedShort")return parseInt(e.value);if(e.type==s+"unsignedByte")return parseInt(e.value);if(e.type==s+"positiveInteger")return parseInt(e.value);if(e.type!=s+"date"&&e.type!=s+"dateTime")return e.type==s+"boolean"?!0===e.value||"true"===e.value||"1"===e.value||1===e.value||!0===e.value||!1!==e.value&&"false"!==e.value&&"0"!==e.value&&0!==e.value&&!1!==e.value&&void 0:e.type==s+"string"?null===e.value||void 0===e.value?void 0:""+e.value:(e.type,e.value);try{return n.parseISO8601(e.value)}catch(e){return null}},QueryFilters.runOrFunction=function(e,t,r,n,i){for(var o=null,s=0;s<e.operands.length;s++){var a=QueryFilters.runFilter(e.operands[s],t,r,n,i);0==QueryFilters.isEbvError(a)&&(a=QueryFilters.ebv(a)),null==o?o=a:QueryFilters.isEbvError(a)?o=QueryFilters.isEbvError(o)?QueryFilters.ebvError():!0===o||QueryFilters.ebvError():!0===a?o=!0:QueryFilters.isEbvError(o)&&(o=QueryFilters.ebvError())}return QueryFilters.ebvBoolean(o)},QueryFilters.runAndFunction=function(e,t,r,n,i){for(var o=null,s=0;s<e.operands.length;s++){var a=QueryFilters.runFilter(e.operands[s],t,r,n,i);0==QueryFilters.isEbvError(a)&&(a=QueryFilters.ebv(a)),null==o?o=a:QueryFilters.isEbvError(a)?o=QueryFilters.isEbvError(o)?QueryFilters.ebvError():!0===o&&QueryFilters.ebvError():!0===a?QueryFilters.isEbvError(o)&&(o=QueryFilters.ebvError()):o=!1}return QueryFilters.ebvBoolean(o)},QueryFilters.runEqualityFunction=function(e,t,r,i,o,s){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)){var a=QueryFilters.effectiveTypeValue(e),u=QueryFilters.effectiveTypeValue(t);return isNaN(a)||isNaN(u)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(e,t,i,s)):QueryFilters.ebvBoolean(a==u)}if((QueryFilters.isSimpleLiteral(e)||QueryFilters.isXsdType("string",e))&&(QueryFilters.isSimpleLiteral(t)||QueryFilters.isXsdType("string",t)))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)==QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)==QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var l=n.compareDateComponents(e.value,t.value);return null!=l?0==l?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.isRDFTerm(e)&&QueryFilters.isRDFTerm(t)?QueryFilters.ebvBoolean(QueryFilters.RDFTermEquality(e,t,i,s)):QueryFilters.ebvFalse()},QueryFilters.runGtFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?1==i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runTotalGtFunction=function(e,t){return QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t)?QueryFilters.ebvError():QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t)||QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t)||QueryFilters.isXsdType("string",e)&&QueryFilters.isSimpleLiteral("string",t)||QueryFilters.isXsdType("boolean",e)&&QueryFilters.isSimpleLiteral("boolean",t)||QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isSimpleLiteral("dateTime",t)?QueryFilters.runGtFunction(e,t,[]):e.token&&"uri"===e.token&&t.token&&"uri"===t.token?QueryFilters.ebvBoolean(e.value>t.value):e.token&&"literal"===e.token&&t.token&&"literal"===t.token?QueryFilters.ebvBoolean(""+e.value+e.type+e.lang>""+t.value+t.type+t.lang):e.token&&"blank"===e.token&&t.token&&"blank"===t.token?QueryFilters.ebvBoolean(e.value>t.value):e.value&&t.value?QueryFilters.ebvBoolean(e.value>t.value):QueryFilters.ebvTrue()},QueryFilters.runLtFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?-1==i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runGtEqFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)>=QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?-1!=i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runLtEqFunction=function(e,t,r){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();if(QueryFilters.isNumeric(e)&&QueryFilters.isNumeric(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isSimpleLiteral(e)&&QueryFilters.isSimpleLiteral(t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("string",e)&&QueryFilters.isXsdType("string",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if(QueryFilters.isXsdType("boolean",e)&&QueryFilters.isXsdType("boolean",t))return QueryFilters.ebvBoolean(QueryFilters.effectiveTypeValue(e)<=QueryFilters.effectiveTypeValue(t));if((QueryFilters.isXsdType("dateTime",e)||QueryFilters.isXsdType("date",e))&&(QueryFilters.isXsdType("dateTime",t)||QueryFilters.isXsdType("date",t))){if(QueryFilters.isXsdType("dateTime",e)&&QueryFilters.isXsdType("date",t))return QueryFilters.ebvFalse();if(QueryFilters.isXsdType("date",e)&&QueryFilters.isXsdType("dateTime",t))return QueryFilters.ebvFalse();var i=n.compareDateComponents(e.value,t.value);return null!=i?1!=i?QueryFilters.ebvTrue():QueryFilters.ebvFalse():QueryFilters.ebvError()}return QueryFilters.ebvFalse()},QueryFilters.runAddition=function(e,t,r,n,i,o){var s=QueryFilters.runFilter(e,r,n,i,o);if(QueryFilters.isEbvError(s))return QueryFilters.ebvError();var a=s;if(QueryFilters.isNumeric(s)){for(var u=0;u<t.length;u++){var l=QueryFilters.runFilter(t[u].expression,r,n,i,o);if(!QueryFilters.isNumeric(l))return QueryFilters.ebvFalse();"+"===t[u].operator?a=QueryFilters.runSumFunction(a,l):"-"===t[u].operator&&(a=QueryFilters.runSubFunction(a,l))}return a}return QueryFilters.ebvFalse()},QueryFilters.runSumFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)+QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runSubFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)-QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runMultiplication=function(e,t,r,n,i,o){var s=QueryFilters.runFilter(e,r,n,i,o);if(QueryFilters.isEbvError(s))return s;var a=s;if(QueryFilters.isNumeric(s)){for(var u=0;u<t.length;u++){var l=QueryFilters.runFilter(t[u].expression,r,n,i,o);if(QueryFilters.isEbvError(l))return s;if(!QueryFilters.isNumeric(l))return QueryFilters.ebvFalse();"*"===t[u].operator?a=QueryFilters.runMulFunction(a,l):"/"===t[u].operator&&(a=QueryFilters.runDivFunction(a,l))}return a}return QueryFilters.ebvFalse()},QueryFilters.runMulFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)*QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runDivFunction=function(e,t){if(QueryFilters.isEbvError(e)||QueryFilters.isEbvError(t))return QueryFilters.ebvError();var r=QueryFilters.effectiveTypeValue(e)/QueryFilters.effectiveTypeValue(t);return QueryFilters.isDouble(e)||QueryFilters.isDouble(t)?{token:"literal",type:s+"double",value:r}:QueryFilters.isFloat(e)||QueryFilters.isFloat(t)?{token:"literal",type:s+"float",value:r}:QueryFilters.isDecimal(e)||QueryFilters.isDecimal(t)?{token:"literal",type:s+"decimal",value:r}:{token:"literal",type:s+"integer",value:r}},QueryFilters.runBuiltInCall=function(e,t,r,n,i,o){if("notexists"===e||"exists"===e){var s=[];for(var a in r)s.push(JSON.stringify(r[a]));return t[s=s.sort().join("")]}for(var u=[],l=0;l<t.length;l++)if("var"===t[l].token)u.push(t[l]);else{var c=QueryFilters.runFilter(t[l],r,n,i,o);if(QueryFilters.isEbvError(c))return c;u.push(c)}if("str"===e)return"literal"===u[0].token?{token:"literal",type:null,value:""+u[0].value}:"uri"===u[0].token?{token:"literal",type:null,value:u[0].value}:QueryFilters.ebvFalse();if("lang"===e)return"literal"===u[0].token?null!=u[0].lang?{token:"literal",value:""+u[0].lang}:{token:"literal",value:""}:QueryFilters.ebvError();if("datatype"===e){if("literal"===u[0].token){var f=u[0];return null!=f.type?"string"==typeof f.type?{token:"uri",value:f.type,prefix:null,suffix:null}:f.type:null==f.lang?{token:"uri",value:"http://www.w3.org/2001/XMLSchema#string",prefix:null,suffix:null}:QueryFilters.ebvError()}return QueryFilters.ebvError()}if("isliteral"===e)return"literal"===u[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isblank"===e)return"blank"===u[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("isuri"===e||"isiri"===e)return"uri"===u[0].token?QueryFilters.ebvTrue():QueryFilters.ebvFalse();if("sameterm"===e){var p=u[0],h=u[1],d=QueryFilters.RDFTermEquality(p,h,n,o);return QueryFilters.isEbvError(d)&&(d=!1),QueryFilters.ebvBoolean(d)}if("langmatches"===e){var y=u[0],v=u[1];return"literal"===y.token&&"literal"===v.token?"*"===v.value&&""!=y.value?QueryFilters.ebvTrue():QueryFilters.ebvBoolean(0===y.value.toLowerCase().indexOf(v.value.toLowerCase())):QueryFilters.ebvError()}if("bound"===e){var g=u[0].value;return null==g?QueryFilters.ebvError():null!=r[g]?QueryFilters.ebvTrue():QueryFilters.ebvFalse()}if(null!=n.customFns[e])return n.customFns[e](QueryFilters,u);throw"Builtin call "+e+" not implemented yet"},QueryFilters.runUnaryExpression=function(e,t,r,n,i,o){var s=QueryFilters.runFilter(t,r,n,i,o);if(QueryFilters.isEbvError(s))return s;if("!"===e){var a=QueryFilters.ebv(s);return QueryFilters.isEbvError(a)?QueryFilters.ebvFalse():(a=!a,QueryFilters.ebvBoolean(a))}if("+"===e)return QueryFilters.isNumeric(s)?s:QueryFilters.ebvError();if("-"===e){if(QueryFilters.isNumeric(s)){var u={};for(var l in s)u[l]=s[l];return u.value=-u.value,u}return QueryFilters.ebvError()}},QueryFilters.runRegex=function(e,t,r,n,i,o,s){if(null==e)return QueryFilters.ebvError();if(e=QueryFilters.runFilter(e,n,i,o,s),null==t)return QueryFilters.ebvError();if(t=QueryFilters.runFilter(t,n,i,o,s),null!=r&&(r=QueryFilters.runFilter(r,n,i,o,s)),null==t||"literal"!==t.token||null!=r&&"literal"!==r.token)return QueryFilters.ebvError();if(t=t.value,r=null==r?null:r.value,null!=e&&"var"==e.token){if(null==n[e.value])return QueryFilters.ebvError();e=n[e.value]}else{if(null==e||"literal"!==e.token)return QueryFilters.ebvError();if(null!=e.type&&!QueryFilters.isXsdType("string",e))return QueryFilters.ebvError();e=e.value}return(null==r?new RegExp(t):new RegExp(t,r.toLowerCase())).exec(e)?QueryFilters.ebvTrue():QueryFilters.ebvFalse()},QueryFilters.normalizeLiteralDatatype=function(e,t,r){return null==e.value.type||"object"!=typeof e.value.type?e:(e.value.type=n.lexicalFormBaseUri(e.value.type,r),e)},QueryFilters.runIriRefOrFunction=function(e,t,r,i,o,a){if(null==t)return e;for(var u=[],l=0;l<t.length;l++)u.push(QueryFilters.runFilter(t[l],r,i,o,a));var c=n.lexicalFormBaseUri(e,a);if(c==s+"integer"||c==s+"decimal"||c==s+"double"||c==s+"nonPositiveInteger"||c==s+"negativeInteger"||c==s+"long"||c==s+"int"||c==s+"short"||c==s+"byte"||c==s+"nonNegativeInteger"||c==s+"unsignedLong"||c==s+"unsignedInt"||c==s+"unsignedShort"||c==s+"unsignedByte"||c==s+"positiveInteger"){if("literal"!==(f=u[0]).token)return QueryFilters.ebvError();if((f=QueryFilters.normalizeLiteralDatatype(f,i,a)).type==s+"integer"||f.type==s+"decimal"||f.type==s+"double"||f.type==s+"nonPositiveInteger"||f.type==s+"negativeInteger"||f.type==s+"long"||f.type==s+"int"||f.type==s+"short"||f.type==s+"byte"||f.type==s+"nonNegativeInteger"||f.type==s+"unsignedLong"||f.type==s+"unsignedInt"||f.type==s+"unsignedShort"||f.type==s+"unsignedByte"||f.type==s+"positiveInteger")return f.type=c,f;if("http://www.w3.org/2001/XMLSchema#boolean"==f.type)return 1==QueryFilters.ebv(f)?(f.type=c,f.value=1):(f.type=c,f.value=0),f;if("http://www.w3.org/2001/XMLSchema#float"==f.type||"http://www.w3.org/2001/XMLSchema#double"==f.type)return f.type=c,f.value=parseInt(f.value),f;if("http://www.w3.org/2001/XMLSchema#string"!=f.type&&null!=f.type)return QueryFilters.ebvError();if(f.value.split(".").length>2)return QueryFilters.ebvError();if(f.value.split("-").length>2)return QueryFilters.ebvError();if(f.value.split("/").length>2)return QueryFilters.ebvError();if(f.value.split("+").length>2)return QueryFilters.ebvError();if(c==s+"decimal"&&(-1!=f.value.indexOf("e")||-1!=f.value.indexOf("E")))return QueryFilters.ebvError();if(!(c!=s+"int"&&c!=s+"integer"||-1==f.value.indexOf("e")&&-1==f.value.indexOf("E")&&-1==f.value.indexOf(".")))return QueryFilters.ebvError();try{return f.value=parseInt(parseFloat(f.value)),isNaN(f.value)?QueryFilters.ebvError():(f.type=c,f)}catch(e){return QueryFilters.ebvError()}}else{if(c==s+"boolean")return"literal"===(f=u[0]).token&&null==f.type?"true"===f.value||"1"===f.value?QueryFilters.ebvTrue():"false"===f.value||"0"===f.value?QueryFilters.ebvFalse():QueryFilters.ebvError():"literal"===f.token?QueryFilters.isEbvError(f)?f:QueryFilters.ebvBoolean(f):QueryFilters.ebvError();if(c==s+"string")return"literal"===(f=u[0]).token?(f=QueryFilters.normalizeLiteralDatatype(f,i,a)).type==s+"integer"||f.type==s+"decimal"||f.type==s+"double"||f.type==s+"nonPositiveInteger"||f.type==s+"negativeInteger"||f.type==s+"long"||f.type==s+"int"||f.type==s+"short"||f.type==s+"byte"||f.type==s+"nonNegativeInteger"||f.type==s+"unsignedLong"||f.type==s+"unsignedInt"||f.type==s+"unsignedShort"||f.type==s+"unsignedByte"||f.type==s+"positiveInteger"||f.type==s+"float"?(f.type=c,f.value=""+f.value,f):f.type==s+"string"?f:f.type==s+"boolean"?(QueryFilters.ebv(f)?(f.type=c,f.value="true"):(f.type=c,f.value="false"),f):f.type==s+"dateTime"||f.type==s+"date"?(f.type=c,"string"!=typeof f.value&&(f.value=n.iso8601(f.value)),f):null==f.type?(f.value=""+f.value,f.type=c,f):QueryFilters.ebvError():"uri"===f.token?{token:"literal",value:n.lexicalFormBaseUri(f,a),type:c,lang:null}:QueryFilters.ebvError();if(c==s+"dateTime"||c==s+"date"){if((f=u[0]).type==s+"dateTime"||f.type==s+"date")return f;if(f.type!=s+"string"&&null!=f.type)return QueryFilters.ebvError();try{return f.value=n.iso8601(n.parseISO8601(f.value)),f.type=c,f}catch(e){return QueryFilters.ebvError()}}else{if(c!=s+"float")return null!=i.customFns[c]?i.customFns[c](QueryFilters,u):QueryFilters.ebvError();var f;if("literal"!==(f=u[0]).token)return QueryFilters.ebvError();if("http://www.w3.org/2001/XMLSchema#decimal"==(f=QueryFilters.normalizeLiteralDatatype(f,i,a)).type||"http://www.w3.org/2001/XMLSchema#int"==f.type)return f.type=c,f.value=parseFloat(f.value),f;if("http://www.w3.org/2001/XMLSchema#boolean"==f.type)return 1==QueryFilters.ebv(f)?(f.type=c,f.value=1):(f.type=c,f.value=0),f;if("http://www.w3.org/2001/XMLSchema#float"==f.type||"http://www.w3.org/2001/XMLSchema#double"==f.type)return f.type=c,f.value=parseFloat(f.value),f;if("http://www.w3.org/2001/XMLSchema#string"==f.type)try{return f.value=parseFloat(f.value),isNaN(f.value)?QueryFilters.ebvError():(f.type=c,f)}catch(e){return QueryFilters.ebvError()}else{if(null!=f.type)return QueryFilters.ebvError();if(f.value.split(".").length>2)return QueryFilters.ebvError();if(f.value.split("-").length>2)return QueryFilters.ebvError();if(f.value.split("/").length>2)return QueryFilters.ebvError();if(f.value.split("+").length>2)return QueryFilters.ebvError();try{return f.value=parseFloat(f.value),isNaN(f.value)?QueryFilters.ebvError():(f.type=c,f)}catch(e){return QueryFilters.ebvError()}}}}},t.exports={QueryFilters:QueryFilters}},{"./utils":147}],142:[function(e,t,r){var n=e("./utils"),i=e("./utils"),o={variablesInBGP:function(e){var t=e.variables;if(t)return t;var r=e.value||e;for(var n in t=[],r)r[n]&&"var"===r[n].token?t.push(r[n].value):r[n]&&"blank"===r[n].token&&t.push("blank:"+r[n].value);return e.variables=t,t},connected:function(e,t){for(var r="/"+e.vars.join("/")+"/",n=0;n<t.vars.length;n++)if(-1!=r.indexOf("/"+t.vars[n]+"/"))return!0;return!1}};o.variablesIntersectionBGP=function(e,t){return function(e,t){for(var r={},n=0;n<e.lenght;n++)r[e[n]]=1;for(n=0;n<t.length;n++){var i=r[t[n]]||0;i++,r[t[n]]=i}var o=[];for(var s in r)2==r[s]&&o.push(r[s]);return o}(o.variablesInBGP(e),o.variablesInBGP(t))},o.executeAndBGPsGroups=function(e){for(var t={},r={},i=0,s=function(e,t){for(var r=0;r<e.length;r++){var n="/"+e[r]+"/";if(-1!=t.indexOf(n))return!0}return!1},a=function(e,n,i,o){var s=[],a="",u="";for(var l in n)a+=l,s=s.concat(t[l]),u+=r[l];u=u+p.join("/")+"/",s.push(e),i[a]=s,o[a]=u},u=0;u<e.length;u++){var l=e[u],c={},f={},p=o.variablesInBGP(l),h={};for(var d in r)s(p,r[d])?h[d]=!0:(c[d]=t[d],f[d]=r[d]);0===n.size(h)?(c["g"+i]=[l],f["g"+i]="/"+p.join("/")+"/",i++):a(l,h,c,f),t=c,r=f}return n.values(t)},o.intersectionSize=function(e,t){for(var r=t.i.split("_"),n=0;n<r.length;n++)if(""!=r[n]&&-1!=e.i.indexOf("_"+r[n]+"_"))return 1;return 0},o.createJoinTree=function(e,t){for(var r="/"+e.vars.join("/")+"/",i=e.vars.concat([]),o=[],s=0;s<t.vars.length;s++)-1!=r.indexOf("/"+t.vars[s]+"/")?0==t.vars[s].indexOf("_:")?o.push("blank:"+t.vars[s]):o.push(t.vars[s]):i.push(t.vars[s]);var a=t.i.split("_"),u=e.i.split("_"),l={};for(s=0;s<a.length;s++)""!=a[s]&&(l[a[s]]=!0);for(s=0;s<u.length;s++)""!=u[s]&&(l[u[s]]=!0);var c=n.keys(l);return{left:e,right:t,cost:e.cost+t.cost,i:"_"+c.sort().join("_")+"_",vars:i,join:o}},o.executeBushyTree=function(e,t,r,n,i){null==e.left?o.executeEmptyJoinBGP(e.right,t,r,n,i):null==e.right?o.executeEmptyJoinBGP(e.left,t,r,n,i):o.executeBushyTree(e.left,t,r,n,function(s){null!=s?o.executeBushyTree(e.right,t,r,n,function(t){i(null!=t?o.joinBindings2(e.join,s,t):null)}):i(null)})},o.executeAndBGPsDPSize=function(e,t,r,n,s){var a=o.executeAndBGPsGroups(e),u=[];i.eachSeries(a,function(e,t){r.computeCosts(e,n,function(e){var r={},n={},i={},s=1,a=null,l={};i[1]=[];for(var c=0;c<e.length;c++){var f=[];for(var p in delete e[c].variables,e[c])"_cost"!=p&&("var"===e[c][p].token?f.push(e[c][p].value):"blank"===e[c][p].token&&f.push(e[c][p].value));n["_"+c+"_"]={left:e[c],right:null,cost:e[c]._cost,i:"_"+c+"_",vars:f};var h={left:e[c],right:null,cost:e[c]._cost,i:"_"+c+"_",vars:f};r["_"+c+"_"]=h,delete e[c]._cost,l["_"+c+"_"]=!0,i[1].push("_"+c+"_"),(null==a||a.cost>h.cost)&&(a=h)}for(var d=2;d<=e.length;d++)for(var y=1;y<d;y++){var v=d-y,g=i[""+y]||[],b=i[""+v]||[];for(c=0;c<g.length;c++)for(var m=0;m<b.length;m++)if(g[c]!==b[m]){var x=n[g[c]],w=n[b[m]];if(0==o.intersectionSize(x,w)&&o.connected(x,w)){s=d;var _=r[x.i],k=r[w.i],A=o.createJoinTree(_,k);if(!l[A.i]){l[A.i]=!0;var E=A.cost+1;null!=r[A.i]&&(E=r[A.i].cost);var S=i[d]||[];S.push(A.i),n[A.i]=A,i[d]=S,E>A.cost&&(s===d&&(a=A),r[A.i]=A)}}}}u.push(a),t()})},function(){var e=null;i.eachSeries(u,function(i,s){o.executeBushyTree(i,t,r,n,function(t){t?null==e?(e=t,s()):(e=o.crossProductBindings(e,t),s()):s("Error executing bushy tree")})},function(t){t?s(null,t):s(e)})})},o.executeEmptyJoinBGP=function(e,t,r,n,i){return o.executeBGPDatasets(e,t,r,n,i)},o.executeBGPDatasets=function(e,t,r,n,s){var a={};if(null==e.graph){var u=[];i.eachSeries(t.implicit,function(t,i){null==a[t.oid]?(a[t.oid]=!0,e.graph=t,r.rangeQuery(e,n,function(t){t=o.buildBindingsFromRange(t,e),u.push(t),i()})):i()},function(){var e=o.unionManyBindings(u);s(e)})}else if("var"===e.graph.token){var l=e.graph.value;u=[];i.eachSeries(t.named,function(t,i){null==a[t.oid]?(a[t.oid]=!0,e.graph=t,null!=u?r.rangeQuery(e,n,function(r){if(null!=r){r=o.buildBindingsFromRange(r,e);for(var n=0;n<r.length;n++)r[n][l]=t.oid;u.push(r)}else u=null;i()}):i()):i()},function(){if(null==u)s(null);else{var e=o.unionManyBindings(u);s(e)}})}else r.rangeQuery(e,n,function(t){null!=t?(t=o.buildBindingsFromRange(t,e),s(t)):s(null)})},o.buildBindingsFromRange=function(e,t){o.variablesInBGP(t);var r=t.value||t,n={};for(c in r)r[c]&&"var"===r[c].token?n[c]=r[c].value:r[c]&&"blank"===r[c].token&&(n[c]="blank:"+r[c].value);var i=[];if(null!=e)for(var s=0;s<e.length;s++){var a={},u=e[s],l=!1;for(var c in n){var f=u[c];if(null!=a[n[c]]&&a[n[c]]!==f){l=!0;break}a[n[c]]=f}l||i.push(a)}return i},o.areCompatibleBindings=function(e,t){for(var r in e)if(null!=t[r]&&t[r]!=e[r])return!1;return!0},o.mergeBindings=function(e,t){var r={};for(var n in e)r[n]=e[n];for(var n in t)r[n]=t[n];return r},o.joinBindings2=function(e,t,r){for(var n,i,s,a,u={},l=[],c=0;c<t.length;c++){n=t[c],a=u;for(var f=0;f<e.length;f++)i=n[e[f]],f==e.length-1?((s=a[i]||[]).push(n),a[i]=s):(s=a[i]||{},a[i]=s,a=s)}for(c=0;c<r.length;c++){n=r[c],a=u;for(f=0;f<e.length;f++)if(null!=a[i=n[e[f]]])if(f==e.length-1)for(var p=0;p<a[i].length;p++)l.push(o.mergeBindings(a[i][p],n));else a=a[i]}return l},o.joinBindings=function(e,t){for(var r=[],n=0;n<e.length;n++)for(var i=e[n],s=0;s<t.length;s++){var a=t[s];o.areCompatibleBindings(i,a)&&r.push(o.mergeBindings(i,a))}return r},o.augmentMissingBindings=function(e,t){for(var r in t)null==e[r]&&(e[r]=null);return e},o.leftOuterJoinBindings=function(e,t){for(var r=[],n=0;n<e.length;n++){for(var i=e[n],s=!1,a=0;a<t.length;a++){var u=t[a];o.areCompatibleBindings(i,u)&&(s=!0,r.push(o.mergeBindings(i,u)))}!1===s&&(o.augmentMissingBindings(i,u),r.push(i))}return r},o.crossProductBindings=function(e,t){for(var r=[],n=0;n<e.length;n++)for(var i=e[n],s=0;s<t.length;s++){var a=t[s];r.push(o.mergeBindings(i,a))}return r},o.unionBindings=function(e,t){return e.concat(t)},o.unionManyBindings=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t=o.unionBindings(t,n)}return t},t.exports={QueryPlan:o}},{"./utils":147}],143:[function(e,t,r){var n=e("./network_transport").NetworkTransport,i=e("./rvn3_parser").RVN3Parser,o=e("./jsonld_parser").JSONLDParser,s=e("./utils"),a=function(e){if(this.precedences=["text/turtle","text/n3","application/ld+json","application/json"],this.parsers={"text/turtle":i.parser,"text/n3":i.parser,"application/ld+json":o.parser,"application/json":o.parser},"undefined"!=typeof RDFXMLParser&&(this.precedences.push("application/rdf+xml"),this.parsers["application/rdf+xml"]=RDFXMLParser.parser),null!=e)for(var t in e.parsers)this.parsers[t]=e.parsers[t];if(e&&null!=e.precedences)for(var t in this.precedences=e.precedences,e.parsers)s.include(this.precedences,t)||this.precedences.push(t);this.acceptHeaderValue="";for(var r=0;r<this.precedences.length;r++)this.acceptHeaderValue=0!=r?this.acceptHeaderValue+","+this.precedences[r]:this.acceptHeaderValue+this.precedences[r]};a.prototype.registerParser=function(e,t){this.parsers[e]=t,this.precedences.push(e)},a.prototype.unregisterParser=function(e){delete this.parsers[e];for(var t=[],r=0;r<this.precedences.length;r++)this.precedences[r]!=e&&t.push(this.precedences[r]);this.precedences=t},a.prototype.setAcceptHeaderPrecedence=function(e){this.precedences=e},a.prototype.load=function(e,t,r){var i=this;n.load(e,this.acceptHeaderValue,function(n,o){if(n)r(n);else{var s=o.headers["Content-Type"]||o.headers["content-type"],a=o.data;if(null!=s){for(var u in s=s.split(";")[0],i.parsers)if(-1!=u.indexOf("/")){var l=u.split("/");if("*"===l[1]){if(-1!=s.indexOf(l[0]))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r)}else{if(-1!=s.indexOf(u))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r);if(-1!=s.indexOf(l[1]))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r)}}else if(-1!=s.indexOf(u))return i.tryToParse(i.parsers[u],t,a,{documentURI:e},r);r(new Error("Unknown media type : "+s))}else r(new Error("Uknown media type"))}})},a.prototype.loadFromFile=function(t,r,n,i){try{var o=this;e("fs").readFile(n.split("file:/")[1],function(e,s){if(e)i(e);else{s=s.toString("utf8");o.tryToParse(t,r,s,{documentURI:n},i)}})}catch(e){i(e)}},a.prototype.tryToParse=function(e,t,r,n,i){try{"string"==typeof r&&(r=s.normalizeUnicodeLiterals(r)),e.parse(r,t,n,i)}catch(e){console.log(e.message),console.log(e.stack),i(e)}},t.exports={RDFLoader:a}},{"./jsonld_parser":132,"./network_transport":134,"./rvn3_parser":145,"./utils":147,fs:3}],144:[function(e,t,r){var n=e("./utils"),i=e("./query_filters").QueryFilters;RDFModel={},RDFModel.defaultContext={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",owl:"http://www.w3.org/2002/07/owl#",xsd:"http://www.w3.org/2001/XMLSchema#",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",cal:"http://www.w3.org/2002/12/cal/ical#",vcard:"http://www.w3.org/2006/vcard/ns# ",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",cc:"http://creativecommons.org/ns#",sioc:"http://rdfs.org/sioc/ns#",doap:"http://usefulinc.com/ns/doap#",com:"http://purl.org/commerce#",ps:"http://purl.org/payswarm#",gr:"http://purl.org/goodrelations/v1#",sig:"http://purl.org/signature#",ccard:"http://purl.org/commerce/creditcard#",ldp:"http://www.w3.org/ns/ldp#"},RDFModel.UrisMap=function(){this.defaultNs="",this.interfaceProperties=["get","remove","set","setDefault","addAll","resolve","shrink"]},RDFModel.UrisMap.prototype.values=function(){var e={};for(var t in this)n.include(this.interfaceProperties,t)||"function"==typeof this[t]||"defaultNs"===t||"interfaceProperties"===t||(e[t]=this[t]);return e},RDFModel.UrisMap.prototype.get=function(e){if(-1!=e.indexOf(" "))throw"Prefix must not contain any whitespaces";return this[e]},RDFModel.UrisMap.prototype.remove=function(e){if(-1!=e.indexOf(" "))throw"Prefix must not contain any whitespaces";return delete this[e],null},RDFModel.UrisMap.prototype.set=function(e,t){if(-1!=e.indexOf(" "))throw"Prefix must not contain any whitespaces";this[e]=t},RDFModel.UrisMap.prototype.setDefault=function(e){this.defaultNs=e},RDFModel.UrisMap.prototype.addAll=function(e,t){for(var r in e)n.include(this.interfaceProperties,r)||(null!=this[r]?!0===t&&(this[r]=e[r]):this[r]=e[r]);return this},RDFModel.UrisMap.prototype.resolve=function(e){var t=e.split(":"),r=t[0],n=t[1];return""===r?null==this.defaultNs?null:this.defaultNs+n:null!=this[r]?this[r]+n:null},RDFModel.UrisMap.prototype.shrink=function(e){for(var t in this){var r=this[t];if(0===e.indexOf(r))if(""!==r&&"defaultNs"!=t)return t+":"+e.split(r)[1]}return e},RDFModel.Profile=function(){this.prefixes=new RDFModel.UrisMap,this.terms=new RDFModel.UrisMap},RDFModel.Profile.prototype.importProfile=function(e,t){this.prefixes.addAll(e.prefixes,t),this.terms.addAll(e.terms,t)},RDFModel.Profile.prototype.resolve=function(e){return-1!=e.indexOf(":")?this.prefixes.resolve(e):null!=this.terms[e]?this.terms.resolve(e):null},RDFModel.Profile.prototype.setDefaultPrefix=function(e){this.prefixes.setDefault(e)},RDFModel.Profile.prototype.setDefaultVocabulary=function(e){this.terms.setDefault(e)},RDFModel.Profile.prototype.setPrefix=function(e,t){this.prefixes.set(e,t)},RDFModel.Profile.prototype.setTerm=function(e,t){this.terms.set(e,t)},RDFModel.RDFEnvironment=function(){RDFModel.Profile.call(this),this.blankNodeCounter=0;var e=this;for(var t in this.filters={s:function(e){return function(t){return t.subject.equals(e)}},p:function(e){return function(t){return t.predicate.equals(e)}},o:function(e){return function(t){return t.object.equals(e)}},sp:function(e,t){return function(r){return r.subject.equals(e)&&r.predicate.equals(t)}},so:function(e,t){return function(r){return r.subject.equals(e)&&r.object.equals(t)}},po:function(e,t){return function(r){return r.predicate.equals(e)&&r.object.equals(t)}},spo:function(e,t,r){return function(n){return n.subject.equals(e)&&n.predicate.equals(t)&&n.object.equals(r)}},describes:function(e){return function(t){return t.subject.equals(e)||t.object.equals(e)}},type:function(t){var r=e.resolve("rdf:type");return function(e){return e.predicate.equals(r)&&e.object.equals(t)}}},RDFModel.defaultContext)this.prefixes.set(t,RDFModel.defaultContext[t])},RDFModel.RDFEnvironment.prototype=n.create(RDFModel.Profile.prototype,{constructor:RDFModel.RDFEnvironment}),RDFModel.RDFEnvironment.prototype.createBlankNode=function(){var e=new RDFModel.BlankNode(this.blankNodeCounter);return this.blankNodeCounter++,e},RDFModel.RDFEnvironment.prototype.createNamedNode=function(e){var t=this.resolve(e);return null!=t?new RDFModel.NamedNode(t):new RDFModel.NamedNode(e)},RDFModel.RDFEnvironment.prototype.createLiteral=function(e,t,r){return null!=r?new RDFModel.Literal(e,t,r.toString()):new RDFModel.Literal(e,t,r)},RDFModel.RDFEnvironment.prototype.createTriple=function(e,t,r){return new RDFModel.Triple(e,t,r)},RDFModel.RDFEnvironment.prototype.createGraph=function(e){var t=new RDFModel.Graph;if(null!=e)for(var r=0;r<e.length;r++)t.add(e[r]);return t},RDFModel.RDFEnvironment.prototype.createAction=function(e,t){return function(r){return e(r)?t(r):r}},RDFModel.RDFEnvironment.prototype.createProfile=function(e){if(!0===e)return new RDFModel.RDFEnvironment.Profile;var t=new RDFModel.RDFEnvironment.Profile;return t.importProfile(this),t},RDFModel.RDFEnvironment.prototype.createTermMap=function(e){if(!0===e)return new RDFModel.UrisMap;var t=this.terms.values(),r=new RDFModel.UrisMap;for(var n in t)r[n]=t[n];return r},RDFModel.RDFEnvironment.prototype.createPrefixMap=function(e){if(!0===e)return new RDFModel.UrisMap;var t=this.prefixes.values(),r=new RDFModel.UrisMap;for(var n in t)r[n]=t[n];return r},RDFModel.RDFNode=function(e){this.interfaceName=e,this.attributes=["interfaceName","nominalValue"]},RDFModel.RDFNode.prototype.equals=function(e){if(null==e.interfaceName)return this.valueOf()==e;for(var t in this.attributes){var r=this.attributes[t];if(this[r]!=e[r])return!1}return!0},RDFModel.BlankNode=function(e){RDFModel.RDFNode.call(this,"BlankNode"),this.nominalValue="_:"+e,this.bnodeId=e},RDFModel.BlankNode.prototype=n.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.BlankNode}),RDFModel.BlankNode.prototype.toString=function(){return this.nominalValue},RDFModel.BlankNode.prototype.toNT=function(){return this.nominalValue},RDFModel.BlankNode.prototype.valueOf=function(){return this.nominalValue},RDFModel.Literal=function(e,t,r){RDFModel.RDFNode.call(this,"Literal"),this.nominalValue=e,null!=t?this.language=t:null!=r&&(this.datatype=r)},RDFModel.Literal.prototype=n.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.Literal}),RDFModel.Literal.prototype.toString=function(){var e='"'+this.nominalValue+'"';return null!=this.language?e=e+"@"+this.language:(null!=this.datatype||this.type)&&(e=e+"^^<"+(this.datatype||this.type)+">"),e},RDFModel.Literal.prototype.toNT=function(){return this.toString()},RDFModel.Literal.prototype.valueOf=function(){return i.effectiveTypeValue({token:"literal",type:this.type||this.datatype,value:this.nominalValue,language:this.language})},RDFModel.NamedNode=function(e){RDFModel.RDFNode.call(this,"NamedNode"),null!=e.value?this.nominalValue=e.value:this.nominalValue=e},RDFModel.NamedNode.prototype=n.create(RDFModel.RDFNode.prototype,{constructor:RDFModel.NamedNode}),RDFModel.NamedNode.prototype.toString=function(){return this.nominalValue},RDFModel.NamedNode.prototype.toNT=function(){return"<"+this.toString()+">"},RDFModel.NamedNode.prototype.valueOf=function(){return this.nominalValue},RDFModel.Triple=function(e,t,r){this.subject=e,this.predicate=t,this.object=r},RDFModel.Triple.prototype.equals=function(e){return this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)},RDFModel.Triple.prototype.toString=function(){return this.subject.toNT()+" "+this.predicate.toNT()+" "+this.object.toNT()+" . \r\n"},RDFModel.Graph=function(){this.triples=[],this.duplicates={},this.actions=[],this.length=0},RDFModel.Graph.prototype.add=function(e){for(var t=0;t<this.actions.length;t++)e=this.actions[t](e);var r=e.subject.toString()+e.predicate.toString()+e.object.toString();return this.duplicates[r]||(this.duplicates[r]=!0,this.triples.push(e)),this.length=this.triples.length,this},RDFModel.Graph.prototype.addAction=function(e,t){if(this.actions.push(e),1==t)for(var r=0;r<this.triples.length;r++)this.triples[r]=e(this.triples[r]);return this},RDFModel.Graph.prototype.addAll=function(e){for(var t=e.toArray(),r=0;r<t.length;r++)this.add(t[r]);return this.length=this.triples.length,this},RDFModel.Graph.prototype.remove=function(e){for(var t=null,r=0;r<this.triples.length;r++)if(this.triples[r].equals(e)){var n=e.subject.toString()+e.predicate.toString()+e.object.toString();delete this.duplicates[n],t=r;break}return null!=t&&this.triples.splice(t,1),this.length=this.triples.length,this},RDFModel.Graph.prototype.toArray=function(){return this.triples},RDFModel.Graph.prototype.some=function(e){for(var t=0;t<this.triples.length;t++)if(!0===e(this.triples[t],this))return!0;return!1},RDFModel.Graph.prototype.every=function(e){for(var t=0;t<this.triples.length;t++)if(!1===e(this.triples[t],this))return!1;return!0},RDFModel.Graph.prototype.filter=function(e){for(var t=new RDFModel.Graph,r=0;r<this.triples.length;r++)!0===e(this.triples[r],this)&&t.add(this.triples[r]);return t},RDFModel.Graph.prototype.forEach=function(e){for(var t=0;t<this.triples.length;t++)e(this.triples[t],this)},RDFModel.Graph.prototype.merge=function(e){for(var t=new RDFModel.Graph,r=0;r<this.triples.length;r++)t.add(this.triples[r]);return t},RDFModel.Graph.prototype.match=function(e,t,r,n){for(var i=new RDFModel.Graph,o=0,s=0;s<this.triples.length;s++){var a=this.triples[s];if((null==e||a.subject.equals(e))&&(null==t||a.predicate.equals(t))&&(null==r||a.object.equals(r))){if(!(null==n||o<n))return i;o++,i.add(a)}}return i},RDFModel.Graph.prototype.removeMatches=function(e,t,r){for(var n=[],i=0;i<this.triples.length;i++){var o=this.triples[i];(null==e||o.subject.equals(e))&&(null==t||o.predicate.equals(t))&&(null==r||o.object.equals(r))&&n.push(o)}for(i=0;i<n.length;i++)this.remove(n[i]);return this},RDFModel.Graph.prototype.toNT=function(){var e="";return this.forEach(function(t){e+=t.toString()}),e},RDFModel.buildRDFResource=function(e,t,r,n){if("blank"===e.token)return RDFModel.buildBlankNode(e,t,r,n);if("literal"===e.token)return RDFModel.buildLiteral(e,t,r,n);if("uri"===e.token)return RDFModel.buildNamedNode(e,t,r,n);if("var"===e.token){var i=t[e.value];return null!=i?RDFModel.buildRDFResource(i,t,r,n):null}return null},RDFModel.buildBlankNode=function(e,t,r,n){return null!=e.valuetmp&&(e.value=e.valuetmp),0===e.value.indexOf("_:")&&(e.value=e.value.split("_:")[1]),new RDFModel.BlankNode(e.value)},RDFModel.buildLiteral=function(e,t,r,n){return new RDFModel.Literal(e.value,e.lang,e.type)},RDFModel.buildNamedNode=function(e,t,r,n){if(null!=e.value)return new RDFModel.NamedNode(e);if(null!=e.prefix){var i=r.resolveNsInEnvironment(e.prefix,n);return e.value=i+e.suffix,new RDFModel.NamedNode(e)}return new RDFModel.NamedNode(e)},RDFModel.rdf=new RDFModel.RDFEnvironment,t.exports=RDFModel},{"./query_filters":141,"./utils":147}],145:[function(e,t,r){var n=e("n3").Parser,i={};function o(e){switch(e[0]){case'"':if(e.indexOf("^^")>0){var t=e.split("^^");return{literal:t[0]+"^^<"+t[1]+">"}}return{literal:e};case"_":return{blank:e.replace("b","")};default:return{token:"uri",value:e,prefix:null,suffix:null}}}i.parser={async:!0,parse:function(e,t,r,i){i||(i=r,r=t,t=null),t&&"string"==typeof t&&(t={token:"uri",value:t,prefix:null,suffix:null}),r&&r.baseURI&&(r.documentIRI=r.baseURI);var s=[];new n(r).parse(e,function(e,r){e?i(e):r?s.push({subject:o(r.subject),predicate:o(r.predicate),object:o(r.object),graph:t}):i(!1,s)})},resetBlankNodeIds:function(){n._resetBlankNodeIds()}},t.exports={RVN3Parser:i}},{n3:57}],146:[function(e,t,r){var n=e("./query_engine").QueryEngine,i=e("./quad_backend").QuadBackend,o=e("./persistent_quad_backend").PersistentQuadBackend,s=e("./lexicon").Lexicon,a=e("./persistent_lexicon").PersistentLexicon,u=e("./rdf_model"),l=e("./utils");Store=function(e,t){var r=null,u=null;if(0==arguments.length)u={};else if(1==arguments.length)u={},r=e;else{if(!(arguments.length>1))throw"An optional argument map and a callback must be provided";u=e,r=t}null==u.treeOrder&&(u.treeOrder=15);var l=s,c=i;!0===u.persistent&&(l=a,c=o),this.functionMap={};var f=this;this.customFns={},new l(function(e){var t=function(){new c(u,function(t){var i=function(){u.backend=t,u.lexicon=e,f.engine=new n(u),r(null,f)};u.overwrite?t.clear(i):i()})};!0===u.overwrite?e.clear(t):t()},u.name)},Store.prototype.rdf=u.rdf,Store.prototype.rdf.api=u,Store.prototype.registerCustomFunction=function(e,t){this.customFns[e]=t,this.engine.setCustomFunctions(this.customFns)},Store.prototype.execute=function(){if(3===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2]);else if(4===arguments.length)this.executeWithEnvironment(arguments[0],arguments[1],arguments[2],arguments[3]);else{var e;if(1===arguments.length){e=arguments[0];var t=function(){}}else 2===arguments.length&&(e=arguments[0],t=arguments[1]);this.engine.execute(e,t)}},Store.prototype.executeWithEnvironment=function(){var e,t,r;if(3===arguments.length){e=arguments[0];var n=function(){};t=arguments[1],r=arguments[2]}else if(4===arguments.length){e=arguments[0];n=arguments[3];t=arguments[1],r=arguments[2]}t=l.map(t,function(e){return{token:"uri",value:e}}),r=l.map(r,function(e){return{token:"uri",value:e}}),this.engine.execute(e,n,t,r)},Store.prototype.graph=function(){var e=null,t=null;if(1===arguments.length)t=arguments[0]||function(){},e=this.engine.lexicon.defaultGraphUri;else{if(2!==arguments.length)throw"An optional graph URI and a callback function must be provided";t=arguments[1]||function(){},e=arguments[0]}null!=this.rdf.resolve(e)&&(e=this.rdf.resolve(e)),this.engine.execute("CONSTRUCT { ?s ?p ?o } WHERE { GRAPH <"+e+"> { ?s ?p ?o } }",t)},Store.prototype.node=function(){var e=null,t=null,r=null;if(2===arguments.length)r=arguments[0],t=arguments[1]||function(){},e=this.engine.lexicon.defaultGraphUri;else{if(3!==arguments.length)throw"An optional graph URI, node URI and a callback function must be provided";r=arguments[0],e=arguments[1],t=arguments[2]||function(){}}null!=this.rdf.resolve(e)&&(e=this.rdf.resolve(e)),null!=this.rdf.resolve(r)&&(r=this.rdf.resolve(r)),this.engine.execute("CONSTRUCT { <"+r+"> ?p ?o } WHERE { GRAPH <"+e+"> { <"+r+"> ?p ?o } }",t)},Store.prototype.startObservingNode=function(){var e,t,r;2===arguments.length?(e=arguments[0],r=arguments[1],this.engine.callbacksBackend.observeNode(e,r,function(){})):3===arguments.length&&(e=arguments[0],t=arguments[1],r=arguments[2],this.engine.callbacksBackend.observeNode(e,t,r,function(){}))},Store.prototype.stopObservingNode=function(e){this.engine.callbacksBackend.stopObservingNode(e)},Store.prototype.startObservingQuery=function(){var e=arguments[0],t=arguments[1],r=arguments[2];null!=r?this.engine.callbacksBackend.observeQuery(e,t,r):this.engine.callbacksBackend.observeQuery(e,t,function(){})},Store.prototype.stopObservingQuery=function(e){this.engine.callbacksBackend.stopObservingQuery(e)},Store.prototype.subscribe=function(e,t,r,n,i){var o=this,s=function(e,t){var r=[],n={blanks:{},outCache:{}},s=[];l.each(t,function(e){var t=u.buildRDFResource(e.subject,s,o.engine,n),i=u.buildRDFResource(e.predicate,s,o.engine,n),a=u.buildRDFResource(e.object,s,o.engine,n);null!=t&&null!=i&&null!=a&&(e=new u.Triple(t,i,a),r.push(e))}),i(e,r)};this.functionMap[i]=s,this.engine.callbacksBackend.subscribe(e,t,r,n,s,function(){})},Store.prototype.unsubscribe=function(e){var t=this.functionMap[e];this.engine.callbacksBackend.unsubscribe(t),delete this.functionMap[e]},Store.prototype.setPrefix=function(e,t){this.rdf.setPrefix(e,t)},Store.prototype.setDefaultPrefix=function(e){this.rdf.setDefaultPrefix(e)},Store.prototype.insert=function(){var e,t,r;if(1===arguments.length)t=arguments[0],r=function(){};else if(2===arguments.length)t=arguments[0],r=arguments[1]||function(){};else{if(3!==arguments.length)throw"The triples to insert, an optional graph and callback must be provided";t=arguments[0],e=this.rdf.createNamedNode(arguments[1]),r=arguments[2]||function(){}}var n="",i=this;t.forEach(function(e){n=n+i._nodeToQuery(e.subject)+i._nodeToQuery(e.predicate)+i._nodeToQuery(e.object)+"."}),n=null!=e?"INSERT DATA { GRAPH "+this._nodeToQuery(e)+" { "+n+" } }":"INSERT DATA { "+n+" }",this.engine.execute(n,r)},Store.prototype._nodeToQuery=function(e){if("NamedNode"===e.interfaceName){var t=this.rdf.resolve(e.valueOf());return null!=t?"<"+t+">":"<"+e.valueOf()+">"}return e.toString()},Store.prototype.delete=function(){var e,t,r;if(1===arguments.length)t=arguments[0],r=function(){};else if(2===arguments.length)t=arguments[0],r=arguments[1]||function(){};else{if(3!==arguments.length)throw"The triples to delete, an optional graph and callback must be provided";t=arguments[0],e=this.rdf.createNamedNode(arguments[1]),r=arguments[2]||function(){}}var n="",i=this;t.forEach(function(e){n=n+i._nodeToQuery(e.subject)+i._nodeToQuery(e.predicate)+i._nodeToQuery(e.object)+"."}),n=null!=e?"DELETE DATA { GRAPH "+this._nodeToQuery(e)+" { "+n+" } }":"DELETE DATA { "+n+" }",this.engine.execute(n,r)},Store.prototype.clear=function(){var e;if(0===arguments.length){e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri);var t=function(){}}else if(1===arguments.length)e=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),t=arguments[0]||function(){};else{if(2!==arguments.length)throw"The optional graph and a callback must be provided";e=this.rdf.createNamedNode(arguments[0]),t=arguments[1]||function(){}}var r="CLEAR GRAPH "+this._nodeToQuery(e);this.engine.execute(r,t)},Store.prototype.setBatchLoadEvents=function(e){this.engine.eventsOnBatchLoad=e},Store.prototype.registerDefaultNamespace=function(e,t){this.rdf.prefixes.set(e,t),this.engine.registerDefaultNamespace(e,t)},Store.prototype.registerDefaultProfileNamespaces=function(){var e=this.rdf.prefixes.values();for(var t in e)this.registerDefaultNamespace(t,e[t])},Store.prototype.load=function(){var e,t,r,n,i={};if(3===arguments.length)r=this.rdf.createNamedNode(this.engine.lexicon.defaultGraphUri),e=arguments[0],t=arguments[1],n=arguments[2]||function(){};else if(4===arguments.length)e=arguments[0],t=arguments[1],"string"==typeof(i=arguments[2])?(r=this.rdf.createNamedNode(i),i={}):(r=this.rdf.createNamedNode(i.graph||this.engine.lexicon.defaultGraphUri),delete i.graph),n=arguments[3]||function(){};else if(2===arguments.length)throw"The mediaType of the parser, the data a callback and an optional graph must be provided";if("remote"===e){var o="LOAD <"+(t=this.rdf.createNamedNode(t)).valueOf()+"> INTO GRAPH <"+r.valueOf()+">";this.engine.execute(o,n)}else{var s=this,a=this.engine.rdfLoader.parsers[e];if(!a)return n(new Error("Cannot find parser for the provided media type:"+e));var u=[a,{token:"uri",value:r.valueOf()},t,i,function(e,t){e?n(e,t):s.engine.batchLoad(t,function(e){null!=e?n(null,e):n(new Error("Error batch-loading triples."))})}];t&&"string"==typeof t&&0===t.indexOf("file://")?this.engine.rdfLoader.loadFromFile.apply(null,u):this.engine.rdfLoader.tryToParse.apply(null,u)}},Store.prototype.registerParser=function(e,t){this.engine.rdfLoader.registerParser(e,t)},Store.prototype.registeredGraphs=function(e){this.engine.lexicon.registeredGraphs(!0,function(t){var r=l.map(t,function(e){return new u.NamedNode(e)});e(null,r)})},Store.prototype.getNetworkTransport=function(){return NetworkTransport},Store.prototype.setNetworkTransport=function(e){NetworkTransport=e},Store.prototype.close=function(e){null==e&&(e=function(){}),this.engine.close?this.engine.close(e):e()},Store.VERSION="0.9.18-alpha.3";Store.yieldFrequency=function(e){l.yieldFrequency(e)},t.exports.Store=Store,t.exports.create=function(){return 1==arguments.length?new Store(arguments[0]):2==arguments.length?new Store(arguments[0],arguments[1]):new Store},t.exports.connect=function(){(1==arguments.length?arguments[0]:2==arguments.length?arguments[1]:arguments[2])(new Error("Store#connect is not supported in the 0.9.X series of the library"))}},{"./lexicon":133,"./persistent_lexicon":136,"./persistent_quad_backend":137,"./quad_backend":138,"./query_engine":140,"./rdf_model":144,"./utils":147}],147:[function(require,module,exports){(function(process){(function(){var slowNextTick=void 0!==process&&process.nextTick?process.nextTick:"undefined"!=typeof window&&window.setImmediate?window.setImmediate:function(e){setTimeout(e,0)},spin=0,yieldFrequency=100,nextTick=function(e){++spin<yieldFrequency?e():(spin=0,slowNextTick(e))},hashTerm=function(e){try{if(null==e)return"";if("uri"===e.token)return"u"+e.value;if("blank"===e.token)return"b"+e.value;if("literal"===e.token){var t="l"+e.value;return t+=e.type||"",t+=e.lang||""}}catch(t){if("object"==typeof e){var r="";for(p in e)r=r+p+e[p];return r}return e}},lexicalFormBaseUri=function(e,t){var r=null;if(t=t||{},null==e.value){var n=e.prefix,i=e.suffix,o=t.namespaces[n];r=null!=o?o+i:n+":"+i}else r=e.value;return null===r?null:(-1==r.indexOf(":")&&(r=(t.base||"")+r),r)};parseISO8601=function(e){return Date.parse(e)},Date.prototype.toISOString||function(){function e(e){return e<10?"0"+e:e}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}}(),iso8601=function(e){return e.toISOString()},compareDateComponents=function(e,t){var r=parseISO8601(e),n=parseISO8601(t);return r==n?0:r<n?-1:1},lexicalFormLiteral=function(e,t){var r=e.value,n=e.lang,i=e.type,o=null;if(null!=r&&null!=i&&"string"!=typeof i){var s=i.value;if(null==s){var a=i.prefix,u=i.suffix,l=t.namespaces[a];e.type=l+u,s=l+u}o=-1!=s.indexOf("hexBinary")?'"'+e.value.toLowerCase()+'"^^<'+s+">":'"'+e.value+'"^^<'+s+">"}else o=null==n&&null==i?'"'+r+'"':null==i?'"'+r+'"@'+n:-1!=i.indexOf("hexBinary")?'"'+e.value.toLowerCase()+'"^^<'+i+">":'"'+e.value+'"^^<'+i+">";return o},normalizeUnicodeLiterals=function(string){for(var escapedUnicode=string.match(/\\u[0-9abcdefABCDEF]{4,4}/g)||[],dups={},i=0;i<escapedUnicode.length;i++)null==dups[escapedUnicode[i]]&&(dups[escapedUnicode[i]]=!0,string=string.replace(new RegExp("\\"+escapedUnicode[i],"g"),eval("'"+escapedUnicode[i]+"'")));return string},registerIndexedDB=function(e){if("undefined"==typeof window&&void 0!==process&&!1===process.browser){var t=_dereq_("sqlite3"),r=_dereq_("indexeddb-js"),n=new t.Database(":memory:"),i=r.makeScope("sqlite3",n);e.indexedDB=i.indexedDB,e.IDBKeyRange=i.IDBKeyRange}else{var o;(o="undefined"==typeof window?self:window).indexedDB=o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,o.IDBKeyRange=o.IDBKeyRange||o.webkitIDBKeyRange||o.msIDBKeyRange,o.indexedDB?(e.indexedDB=o.indexedDB,e.IDBKeyRange=o.IDBKeyRange):console.log("The browser does not support IndexDB.")}},guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},hashTerm=function(e){try{if(null==e)return"";if("uri"===e.token)return"u"+e.value;if("blank"===e.token)return"b"+e.value;if("literal"===e.token){var t="l"+e.value;return t+=e.type||"",t+=e.lang||""}}catch(t){if("object"==typeof e){var r="";for(p in e)r=r+p+e[p];return r}return e}};var reject=function(e,t){for(var r=[],n=0;n<e.length;n++)t(e[n])&&r.push(e[n]);return r},include=function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},each=function(e,t){if(e.forEach)e.forEach(t);else for(var r=0;r<e.length;r++)t(e[r])},map=function(e,t){if(e.map)return e.map(t);for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n]);return r},keys=function(e){var t=[];for(var r in e)t.push(r);return t},values=function(e){var t=[];for(var r in e)t.push(e[r]);return t},size=function(e){if(e.length)return e.length;var t=0;for(var r in e)t++;return t};clone=function(e){return JSON.parse(JSON.stringify(e))};var isObject=function(e){var t=typeof e;return"function"==t||e&&"object"==t||!1},create=function(){function e(){}return function(t){if(isObject(t)){e.prototype=t;var r=new e;e.prototype=null}return r||void 0}}(),whilst=function(e,t,r){e()?t(function(n){if(n)return r(n);whilst(e,t,r)}):r()},eachSeries=function(e,t,r){if(r=r||function(){},!e.length)return r();var n=0,i=function(){t(e[n],function(t){t?(r(t),r=function(){}):(n+=1)>=e.length?r():nextTick(i)})};i()},eachParallel=function(e,t,r){if(r=r||function(){},!e.length)return r();for(var n=!1,i=0,o=function(t){if(t)throw n=!0,new Error(t);n||++i===e.length&&r()},s=0;s<e.length;s++)!function(e,t,r,n){nextTick(function(){try{n(e[t],function(){r()})}catch(e){r(e)}})}(e,s,o,t)},reduce=function(e,t,r,n){eachSeries(e,function(e,n){r(t,e,function(e,r){t=r,n(e)})},function(e){n(e,t)})},seq=function(){var e=arguments;return function(){var t=this,r=Array.prototype.slice.call(arguments),n=r.pop();reduce(e,r,function(e,r,n){r.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);n(e,t)}]))},function(e,r){n.apply(t,[e].concat(r))})}},isWorker=function(){return(void 0===process||!0===process.browser)&&"undefined"==typeof window};module.exports={isWorker:isWorker,nextTick:nextTick,hasTerm:hashTerm,lexicalFormBaseUri:lexicalFormBaseUri,parseISO8601:parseISO8601,compareDateComponents:compareDateComponents,iso8601:iso8601,normalizeUnicodeLiterals:normalizeUnicodeLiterals,lexicalFormLiteral:lexicalFormLiteral,registerIndexedDB:registerIndexedDB,guid:guid,hashTerm:hashTerm,keys:keys,values:values,size:size,map:map,each:each,forEach:each,include:include,reject:reject,remove:reject,clone:clone,create:create,whilst:whilst,eachSeries:eachSeries,eachParallel:eachParallel,seq:seq,yieldFrequency:function(e){yieldFrequency=e}}}).call(this)}).call(this,require("_process"))},{_process:71}]},{},[146])(146)});